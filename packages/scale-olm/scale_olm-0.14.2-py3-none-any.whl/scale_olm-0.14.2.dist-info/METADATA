Metadata-Version: 2.4
Name: scale-olm
Version: 0.14.2
Summary: ORIGEN Library Manager: A tool for building and managing ORIGEN reactor data libraries
Author-email: William Wieselquist <ww5@ornl.gov>
License: Copyright 2024 UT-Battelle, LLC
        
        Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
        
        1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
        
        2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
        
        3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.
        
        THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
Project-URL: documentation, https://scale-olm.readthedocs.io
Project-URL: bug-tracker, https://github.com/wawiesel/olm/issues
Project-URL: source, https://github.com/wawiesel/olm
Keywords: SCALE,ORIGEN,Library
Classifier: Development Status :: 1 - Planning
Classifier: Intended Audience :: Science/Research
Classifier: Topic :: Scientific/Engineering :: Physics
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: License :: OSI Approved :: BSD License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: click
Requires-Dist: matplotlib
Requires-Dist: scipy
Requires-Dist: numpy
Requires-Dist: pytest
Requires-Dist: pydantic
Dynamic: license-file

## ORIGEN Library Manager (OLM)

[![Documentation Status](https://readthedocs.org/projects/scale-olm/badge/?version=v0.14.2)](https://scale-olm.readthedocs.io/en/v0.14.2)

The latest stable version is [v0.14.2](https://scale-olm.readthedocs.io/en/stable).

OLM is a command-line utility that streamlines aspects of using the 
[SCALE/ORIGEN](https://scale.ornl.gov) library to solve nuclide inventory generation problems.

To install, use `pip`.

```console
pip install scale-olm
```

## Locations

The main development repository is hosted on [GitHub](https://github.com/wawiesel/olm) 
with a read-only mirror on the ORNL-hosted [GitLab](https://code.ornl.gov/scale/code/olm).

## Developing

The script `dev.sh` is provided to initialize the development environment.

```console
$ git clone https://github.com/wawiesel/olm
$ cd olm
$ source dev.sh
```

This is all you should need to do. The following sections explain in more detail 
what happens when you run `dev.sh`.

## Developer details

This section contains additional details on developing OLM.

### Enable virtual environment

```console
$ virtualenv venv
$ . venv/bin/activate
$ which python
```

If you get an error about missing `virtualenv`, you may need to install it.

```console
$ pip install virtualenv
```

### Install requirements

After enabling the virtual environment, run this command to install dependencies.

```console
$ pip install -r requirements.txt
```

NOTE: if you need to regenerate the requirements file after adding dependencies.
```console
$ pip freeze | grep -v '^\-e'>requirements.txt
```

### Enable a local install for testing

This command will enable any changes you make to instantly propagate to the executable
you can run just with `olm`.

```console
$ pip install --editable .
$ olm
$ which olm
```

### Creating docs

With the development environment installed, the docs may be created within the
`docs` directory. With the following commands.

```console
$ cd docs
$ make html
$ open build/html/index.html
```

Alternatively the PDF docs may be generated using the `make latexpdf` command. Note
that the HTML docs are intended as the main documentation.

The following greatly simplifies iterating on documentation. Run this command
and open your browser to http://localhost:8000.

```console
sphinx-autobuild docs/source/ docs/build/html/
```



### Notebooks

There are notebooks contained in `notebooks` which may be helpful for debugging or
understanding how something is working. You may need to install your virtual environment
kernel for the notebooks to work. You should use the local `venv` kernel instead of
your default Python kernel so you have all the local packages at the correct versions.

```console
$ ipython kernel install --name "venv" --user
```

Now, you can select the created kernel "venv" when you start Jupyter notebook or lab.

## Notes about development

### Click for CLI

We use the [Click python library](https://click.palletsprojects.com/en/8.1.x)
for command line. Here's a nice [video about click](https://www.youtube.com/watch?v=kNke39OZ2k0).

### Commit messages

Follow these [guidelines](https://cbea.ms/git-commit/) for commit messages.

### Version updates

OLM uses [semantic versioning](https://semver.org/). You should commit the 
relevant code with the usual description commit message. 

Then run 

- `bumpversion patch` if you are fixing a bug
- `bumpversion minor` if you are adding a new feature
- `bumpversion major` if you are breaking backwards compatibility

When you push you need to `git push --tags` or configure your repo to always push tags:

```
#.git/config
[remote "origin"]
    push = +refs/heads/*:refs/heads/*
    push = +refs/tags/*:refs/tags/*
```

### Pytest for unit tests

Locally for unit tests we use the pytest framework under the `testing` directory.
All tests can be run simply like this from the root directory. Not we are using the
`pytest-xdist` extension which allows parallel testing.

```console
$ pytest -n 6 .
```

### Black for commit formatting

The first time you do work on a clone, do this.

```console
$ pre-commit install
```

This will use the [Black formatter](https://medium.com/gousto-engineering-techbrunch/automate-python-code-formatting-with-black-and-pre-commit-ebc69dcc5e03).


### Docstrings and Doctest

Our goal is to have each function, module, and class with standard docstrings and
a few doctests. You can run verbose tests on a specific module as follows.

```console
$ pytest -v scale/olm/core.py
```
