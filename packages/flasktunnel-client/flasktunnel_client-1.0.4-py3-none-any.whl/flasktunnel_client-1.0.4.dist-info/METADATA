Metadata-Version: 2.4
Name: flasktunnel-client
Version: 1.0.4
Summary: Client pour cr√©er des tunnels HTTP s√©curis√©s vers vos applications locales
Home-page: https://github.com/Moesthetics-code/flasktunnel-client.git
Author: Mohamed Ndiaye
Author-email: Mohamed Ndiaye <mouhamedndiayegroupeisi@gmail.com>
License: MIT
Project-URL: Homepage, https://flasktunnel.up.railway.app/
Project-URL: Documentation, https://docs.flasktunnel.dev
Project-URL: Repository, https://github.com/Moesthetics-code/flasktunnel-client.git
Project-URL: Bug Tracker, https://github.com/Moesthetics-code/flasktunnel-client/issues
Keywords: tunnel,ngrok,flask,django,development,webhook,localhost,http,https
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: Topic :: Internet :: WWW/HTTP :: HTTP Servers
Classifier: Topic :: Software Development :: Testing
Classifier: Topic :: System :: Networking
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Operating System :: OS Independent
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.25.0
Requires-Dist: python-socketio[client]>=5.0.0
Requires-Dist: colorama>=0.4.4
Requires-Dist: click>=8.0.0
Requires-Dist: cryptography>=3.4.0
Requires-Dist: websocket-client>=1.0.0
Dynamic: author
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-python

# FlaskTunnel Client

**Alternative gratuite et open-source √† ngrok** pour cr√©er des tunnels HTTP s√©curis√©s vers vos applications locales.

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://pypi.org/project/flasktunnel-client/)
[![Python](https://img.shields.io/badge/python-3.7+-brightgreen.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

## üöÄ Installation

```bash
# Via pip
pip install flasktunnel-client

# Via git (version d√©veloppement)
pip install git+https://github.com/flasktunnel/client.git
```

## üåü Fonctionnalit√©s

- ‚úÖ **Tunnels HTTP/HTTPS s√©curis√©s** vers localhost
- üéØ **Sous-domaines personnalis√©s** (ex: `monapp.flasktunnel.dev`)
- üîê **Protection par mot de passe** optionnelle
- ‚è∞ **Dur√©es configurables** (1h √† 24h)
- üåê **Support CORS automatique**
- üì° **Mode webhook** pour int√©grations
- üè† **Mode local** pour d√©veloppement
- üìä **Monitoring en temps r√©el**
- üé® **Interface CLI moderne** avec Rich

## üéØ Usage Rapide

### Commande basique
```bash
# Exposer le port 3000 avec un sous-domaine auto-g√©n√©r√©
flasktunnel --port 3000
```

### Avec sous-domaine personnalis√©
```bash
# Cr√©er un tunnel avec sous-domaine sp√©cifique
flasktunnel --port 5000 --subdomain monapp
# ‚Üí Accessible via: https://monapp.flasktunnel.dev
```

## üìã Table des Mati√®res

- [Commandes CLI](#-commandes-cli)
- [Options Avanc√©es](#-options-avanc√©es)
- [Authentification](#-authentification)
- [Configuration](#-configuration)
- [Usage Programmatique](#-usage-programmatique)
- [Variables d'Environnement](#-variables-denvironnement)
- [Exemples Pratiques](#-exemples-pratiques)
- [Troubleshooting](#-troubleshooting)

## üõ† Commandes CLI

### Cr√©er un Tunnel

#### Tunnel basique
```bash
# Port sp√©cifique
flasktunnel --port 8000

# Port + sous-domaine
flasktunnel --port 3000 --subdomain myapp

# Alias pour --subdomain
flasktunnel --port 3000 --name myapp
```

#### Tunnel s√©curis√©
```bash
# Avec mot de passe
flasktunnel --port 5000 --password monsecret

# HTTPS forc√©
flasktunnel --port 443 --https

# Avec CORS activ√©
flasktunnel --port 3000 --cors
```

#### Dur√©es personnalis√©es
```bash
# 1 heure (par d√©faut: 2h)
flasktunnel --port 3000 --duration 1h

# 24 heures (maximum)
flasktunnel --port 3000 --duration 24h

# Dur√©es disponibles: 1h, 2h, 4h, 8h, 12h, 24h
```

#### Mode webhook
```bash
# Pour webhooks (dur√©e √©tendue)
flasktunnel --port 4000 --webhook
```

### Gestion des Tunnels

#### Lister les tunnels actifs
```bash
flasktunnel --list
```

#### Tester la connexion
```bash
flasktunnel --test
```

#### Diagnostic du syst√®me
```bash
flasktunnel --diagnose
```

### Mode D√©veloppement

#### Mode local (serveur local sur port 8080)
```bash
flasktunnel --local-mode --port 3000
```

#### Serveur personnalis√©
```bash
flasktunnel --server-url http://monserveur.com --port 3000
```

#### Mode verbeux
```bash
# Afficher toutes les requ√™tes en temps r√©el
flasktunnel --port 3000 --verbose
```

## üîê Authentification

### Cr√©er un compte
```bash
flasktunnel --register
```

### Se connecter
```bash
flasktunnel --login
```

### Se d√©connecter
```bash
flasktunnel --logout
```

### Utiliser une cl√© API
```bash
# Via argument
flasktunnel --auth MA_CLE_API --port 3000

# Via variable d'environnement
export FLASKTUNNEL_API_KEY="ma_cle_api"
flasktunnel --port 3000
```

## ‚öôÔ∏è Options Avanc√©es

### Commande compl√®te avec toutes les options
```bash
flasktunnel \
  --port 3000 \
  --subdomain monapp \
  --password secret123 \
  --duration 4h \
  --cors \
  --https \
  --webhook \
  --auth MA_CLE_API \
  --verbose
```

### Configuration personnalis√©e
```bash
# Utiliser un fichier de config sp√©cifique
flasktunnel --config ./ma-config.json --port 3000
```

## üìÅ Configuration

### Fichier de configuration (.flasktunnel.json)

Cr√©ez un fichier `.flasktunnel.json` dans votre projet :

```json
{
  "port": 3000,
  "subdomain": "monapp",
  "duration": "4h",
  "cors": true,
  "https": false,
  "password": "monsecret",
  "webhook": false,
  "server_url": "https://flasktunnel.dev",
  "local_mode": false
}
```

### Configuration par projet
```bash
# Dans le dossier de votre projet
echo '{
  "port": 3000,
  "subdomain": "monprojet",
  "cors": true,
  "duration": "8h"
}' > .flasktunnel.json

# Puis simplement :
flasktunnel
```

### Fichier d'authentification (~/.flasktunnel/credentials.json)

Stockage automatique des identifiants apr√®s connexion :

```json
{
  "api_key": "ft_1234567890abcdef",
  "user_id": "user_123",
  "email": "mon@email.com",
  "plan": "free"
}
```

## üîß Variables d'Environnement

### Variables principales
```bash
# Configuration de base
export FLASKTUNNEL_PORT=3000
export FLASKTUNNEL_SUBDOMAIN=monapp
export FLASKTUNNEL_DURATION=4h

# Authentification
export FLASKTUNNEL_API_KEY=ma_cle_api
export FLASKTUNNEL_AUTH_TOKEN=mon_token

# S√©curit√©
export FLASKTUNNEL_PASSWORD=monsecret
export FLASKTUNNEL_CORS=true
export FLASKTUNNEL_HTTPS=true

# Mode d√©veloppement
export FLASKTUNNEL_LOCAL_MODE=true
export FLASKTUNNEL_SERVER_URL=http://localhost:8080

# Webhook
export FLASKTUNNEL_WEBHOOK=true
export FLASKTUNNEL_CUSTOM_DOMAIN=mondomaine.com
```

### Exemple avec .env
```bash
# Cr√©er un fichier .env
cat > .env << EOF
FLASKTUNNEL_PORT=5000
FLASKTUNNEL_SUBDOMAIN=devapp
FLASKTUNNEL_CORS=true
FLASKTUNNEL_DURATION=8h
FLASKTUNNEL_API_KEY=ft_votre_cle_ici
EOF

# Charger et utiliser
source .env
flasktunnel
```

## üíª Usage Programmatique

### Exemple basique
```python
from flasktunnel import FlaskTunnelClient

# Cr√©er un client
client = FlaskTunnelClient()

# Cr√©er un tunnel
tunnel = client.create_tunnel(port=3000)
print(f"URL publique: {tunnel.public_url}")

# Attendre que le tunnel expire
tunnel.wait_until_expired()
```

### Exemple avanc√©
```python
from flasktunnel import FlaskTunnelClient, FlaskTunnelConfig

# Configuration personnalis√©e
config = FlaskTunnelConfig(
    port=5000,
    subdomain="monapp",
    password="secret123",
    duration="4h",
    cors=True,
    https=True
)

# Client avec configuration
client = FlaskTunnelClient(config)

# Cr√©er le tunnel
tunnel = client.create_tunnel(
    port=config.port,
    subdomain=config.subdomain,
    password=config.password,
    duration=config.duration,
    cors=config.cors,
    https=config.https
)

# Callbacks pour les √©v√©nements
def on_request(data):
    print(f"Requ√™te re√ßue: {data['method']} {data['path']}")

def on_error(data):
    print(f"Erreur: {data['message']}")

tunnel.on('request', on_request)
tunnel.on('error', on_error)

# Connecter le WebSocket
tunnel.connect_websocket()

print(f"‚úÖ Tunnel actif: {tunnel.public_url}")
tunnel.wait_until_expired()
```

### Gestion des tunnels
```python
from flasktunnel import FlaskTunnelClient

client = FlaskTunnelClient()

# Lister les tunnels
tunnels = client.list_tunnels()
for tunnel in tunnels:
    print(f"- {tunnel['public_url']} (port {tunnel['port']})")

# Supprimer un tunnel
tunnel_id = "tunnel_123456"
client.delete_tunnel(tunnel_id)

# Statistiques d'un tunnel
stats = client.get_tunnel_stats(tunnel_id)
if stats:
    print(f"Requ√™tes: {stats['requests_count']}")
    print(f"Trafic: {stats['bandwidth_used']}")
```

### Configuration depuis fichier
```python
from flasktunnel import FlaskTunnelConfig, FlaskTunnelClient

# Charger depuis fichier JSON
config = FlaskTunnelConfig.from_file("ma-config.json")

# Charger depuis variables d'environnement
config = FlaskTunnelConfig.from_env()

# Combiner fichier + arguments
config = FlaskTunnelConfig.from_file().merge_with_args(
    port=8000,
    subdomain="override"
)

client = FlaskTunnelClient(config)
```

## üåç Exemples Pratiques

### 1. Application Flask
```python
# app.py
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello():
    return "Hello World depuis Flask!"

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)
```

```bash
# Terminal 1: D√©marrer Flask
python app.py

# Terminal 2: Exposer via FlaskTunnel
flasktunnel --port 5000 --subdomain flask-demo
```

### 2. Application Django
```bash
# D√©marrer Django
python manage.py runserver 8000

# Exposer avec CORS pour les APIs
flasktunnel --port 8000 --subdomain django-api --cors
```

### 3. Server de d√©veloppement Node.js
```bash
# D√©marrer l'app Node
npm start  # suppose port 3000

# Tunnel avec monitoring en temps r√©el
flasktunnel --port 3000 --subdomain node-app --verbose
```

### 4. Webhook pour GitHub
```bash
# Serveur webhook local sur port 4000
flasktunnel --port 4000 --subdomain github-webhook --webhook --password secret123
```

### 5. API avec authentification
```bash
# API prot√©g√©e
flasktunnel --port 8080 --subdomain secure-api --password api-secret --https --cors
```

### 6. D√©veloppement mobile (React Native, etc.)
```bash
# Serveur de dev accessible pour mobile
flasktunnel --port 19006 --subdomain expo-app --cors --duration 8h
```

## üîç Troubleshooting

### Diagnostic automatique
```bash
# Analyser les probl√®mes potentiels
flasktunnel --diagnose
```

### Probl√®mes courants

#### 1. Port non disponible
```bash
# Erreur: "Aucun service ne tourne sur le port 3000"
# Solutions:
python -m http.server 3000  # Serveur test
# ou
flasktunnel --port 8000  # Autre port
```

#### 2. Serveur inaccessible
```bash
# Tester la connexion
flasktunnel --test

# Mode local si serveur principal indisponible
flasktunnel --local-mode --port 3000
```

#### 3. Authentification
```bash
# V√©rifier le statut de connexion
flasktunnel --login

# Ou utiliser cl√© API directement
flasktunnel --auth YOUR_API_KEY --port 3000
```

#### 4. Sous-domaine occup√©
```bash
# Erreur: "Sous-domaine d√©j√† utilis√©"
# Solutions:
flasktunnel --port 3000 --subdomain monapp-v2
# ou laisser auto-g√©n√©rer:
flasktunnel --port 3000
```

### Logs et debugging
```bash
# Mode verbeux pour voir toutes les requ√™tes
flasktunnel --port 3000 --verbose

# Tester avec un serveur simple
python -c "
import http.server
import socketserver

PORT = 8000
Handler = http.server.SimpleHTTPRequestHandler
with socketserver.TCPServer(('', PORT), Handler) as httpd:
    print(f'Server running on port {PORT}')
    httpd.serve_forever()
" &

flasktunnel --port 8000 --verbose
```

## üõ°Ô∏è S√©curit√©

### Bonnes pratiques
```bash
# Toujours utiliser un mot de passe pour les donn√©es sensibles
flasktunnel --port 3000 --password "mon-mot-de-passe-fort"

# Forcer HTTPS pour les APIs
flasktunnel --port 8080 --https --password secret

# Limiter la dur√©e pour les tests temporaires
flasktunnel --port 3000 --duration 1h
```

### Protection des credentials
```bash
# Fichier de credentials prot√©g√© (600)
chmod 600 ~/.flasktunnel/credentials.json

# Variables d'environnement s√©curis√©es
export FLASKTUNNEL_API_KEY="$(cat ~/.flasktunnel/api_key)"
```

## üìä Monitoring et Stats

### Interface temps r√©el
```bash
# Monitoring complet avec stats
flasktunnel --port 3000 --verbose
```

### Stats programmatiques
```python
from flasktunnel import FlaskTunnelClient

client = FlaskTunnelClient()
tunnel = client.create_tunnel(port=3000)

# R√©cup√©rer les stats p√©riodiquement
import time
while tunnel.is_active:
    stats = client.get_tunnel_stats(tunnel.tunnel_id)
    if stats:
        print(f"Requ√™tes: {stats['requests_count']}")
        print(f"Bande passante: {stats['bandwidth_used']}")
    time.sleep(60)
```

## ü§ù Support et Contribution

### Liens utiles
- üåê Site web: [https://flasktunnel.dev](https://flasktunnel.dev)
- üìö Documentation: [https://docs.flasktunnel.dev](https://docs.flasktunnel.dev)
- üêõ Issues: [https://github.com/flasktunnel/client/issues](https://github.com/flasktunnel/client/issues)
- üí¨ Support: support@flasktunnel.dev

### Alternative si FlaskTunnel est indisponible
```bash
# Autres solutions de tunneling
# ngrok (payant apr√®s limite)
ngrok http 3000

# localtunnel (gratuit)
npx localtunnel --port 3000

# serveo (SSH tunnel)
ssh -R 80:localhost:3000 serveo.net
```

## üìÑ License

MIT License - voir le fichier [LICENSE](LICENSE) pour plus de d√©tails.

---

**FlaskTunnel** - Rendez vos applications locales accessibles au monde entier ! üöÄ
