Metadata-Version: 2.4
Name: constitutional-dynamics
Version: 0.1.0
Summary: Constitutional Dynamics: An application for AI alignment analysis using State Transition Calculus principles from the PrincipiaDynamica project
Home-page: https://github.com/FF-GardenFn/principiadynamica
Author: FF-GardenFn
Author-email: faycal.farhat@mail.mcgill.ca
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: numpy
Requires-Dist: scipy
Requires-Dist: pyyaml
Requires-Dist: rich
Provides-Extra: graph
Requires-Dist: neo4j; extra == "graph"
Provides-Extra: quantum
Requires-Dist: dwave-ocean-sdk; extra == "quantum"
Provides-Extra: dev
Requires-Dist: pytest; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: ruff; extra == "dev"
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license-file
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

<!-- README.md â€“ constitutional-dynamics 0.1 -->

<h1 align="center">Constitutional Dynamics ğŸ§­</h1>
<p align="center">
  <em>Vector-space alignment metrics &amp; state-transition calculus for language-model telemetry</em><br>
  <img alt="Status" src="https://img.shields.io/badge/status-prototype-orange">
</p>

---

## âœ¨ Why does this exist?

Large-model "alignment" is usually reported as a static score *after* fine-tuning.  
**Constitutional Dynamics** treats alignment as a **trajectory** your model walks through embedding-space:

* **Time domain** â€“ how successive responses drift toward / away from desired values.  
* **Frequency domain** â€“ whether telemetry or exfil channels reveal periodic "spikes" defenders can spot.  
* **State-Transition Calculus (STC)** â€“ a lightweight formalism that captures latent *potentialities* (good **and** bad) and how they re-activate under specific context.

The result is a self-contained Python package you can drop on any JSON embedding dump or live psutil feed, and instantly obtain:

* Ï•-alignment scores, robust to noise & perturbations  
* Î”-transition vectors with direction-to-aligned-region heuristics  
* PSD (spectral) deviation for stealth / anomaly studies  
* A dual-objective cost `C(t)` ready to feed into quantum / classical optimizers

> **TL;DR**  
> Constitutional Dynamics isn't "yet another" static alignment benchmark.
> It treats alignment as a living trajectoryâ€”monitored in real time, quantified in both time- and frequency-domains, and optimized via QUBO solvers. If we want to improve alignment, we must measure its dynamics, not just its snapshots. Constitutional Dynamics delivers that, coupling production-grade engineering (pydantic configs, CLI, tests, CI) with research-grade rigor.
> â€” built for practitioners who treat alignment as an empirical science. At least that is what we are aiming for (ãƒ„)
> (For Anthropicâ€” with appreciation.) ğŸ«¡

---

## ğŸ—„ï¸ Package layout
```
principiadynamica/                  <-- Repository Root (contains pyproject.toml, README.md)
â”‚
â”œâ”€â”€ constitutional_dynamics/        <-- Main Python package
â”‚   â”œâ”€â”€ __init__.py                 # version + public re-exports
â”‚   â”‚
â”‚   â”œâ”€â”€ cfg/                        # YAML & logging config
â”‚   â”‚   â”œâ”€â”€ defaults.yaml           # Ï„ (memory), Î», thresholdsâ€¦
â”‚   â”‚   â””â”€â”€ logging.yaml            # Logging configuration
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                       # Core functionality
â”‚   â”‚   â”œâ”€â”€ space.py                # AlignmentVectorSpace
â”‚   â”‚   â”œâ”€â”€ transition.py           # analyse_transition() + STC wrappers
â”‚   â”‚   â”œâ”€â”€ metrics.py              # stability, robustness, PSD distance
â”‚   â”‚   â””â”€â”€ optimise.py             # Graph- & QUBO-based multi-objective solver
â”‚   â”‚
â”‚   â”œâ”€â”€ io/                         # Input/Output operations
â”‚   â”‚   â”œâ”€â”€ loaders.py              # load_embeddings() / aligned_examples()
â”‚   â”‚   â”œâ”€â”€ timeseries.py           # detect & order time-series
â”‚   â”‚   â””â”€â”€ live.py                 # psutil collector
â”‚   â”‚
â”‚   â”œâ”€â”€ integrations/               # External system integrations
â”‚   â”‚   â”œâ”€â”€ graph.py                # Neo4j consequence-graph connector
â”‚   â”‚   â”œâ”€â”€ quantum.py              # D-Wave / dwave-ocean wrapper
â”‚   â”‚   â””â”€â”€ strategist.py           # (optional) LLM prompt builder
â”‚   â”‚
â”‚   â”œâ”€â”€ vis/                        # Visualization tools
â”‚   â”‚   â””â”€â”€ visualizer.py           # Rich / ASCII sparklines & tables
â”‚   â”‚
â”‚   â””â”€â”€ cli/                        # Command-line interface
â”‚       â””â”€â”€ main.py                 # python -m constitutional_dynamics ...
â”‚
â”œâ”€â”€ tests/                          # Tests for the package & integrations
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docs/                           # Project documentation
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ ... (LICENSE, .gitignore, etc.)
```

---

## ğŸ§   Mathematical backbone

### 1.  Alignment region  *(time domain)*  
*Vector-space hypersphere or convex-hull defined by known "good-behaviour" embeddings.*

* **Ï•(state)** â€” cosine similarity to aligned centroid/boundary (with exponential memory decay Ï„).

### 2.  State-Transition Calculus (STC)  
| STC symbol | Implementation                                  |
|------------|-------------------------------------------------|
| `a_i` (value subset)        | cluster centres / prototype vectors |
| `Ï†(a_i,t, â€¦)`               | `metrics.activation()` (`Ï• Â· e^{-Î”t/Ï„}`) |
| Residual potentiality `b(a_res)` | robustness perturbation samples |
| `Î»(t)` exploration/exploitation knob | CLI flag â†’ cost weight |

### 3.  Dual-objective cost  

\[
C(t)=\bigl[1-\bar Ï•(t)\bigr]\;+\;\lambda(t)\,\text{PSD\_distance}(S_x,S_{\text{aligned}})
\]

*Minimized by `core/optimise.py` with a graph-enhanced QUBO (quantum or classical).*

---

## ğŸš€  Quick-start

### Installation

From source:
```bash
git clone https://github.com/FF-GardenFn/principiadynamica.git
cd principiadynamica
pip install -e .  # This will install as constitutional-dynamics
```

For developers:
```bash
git clone https://github.com/FF-GardenFn/principiadynamica.git
cd principiadynamica
pip install -e ".[dev]"  # Installs as constitutional-dynamics with development dependencies
```

### Usage Examples

```bash
# 1. offline log analysis
python -m constitutional_dynamics \
  --embeddings runs/LLM_chat_embeddings.json \
  --aligned docs/aligned_examples.json \
  --spectral --steps 6

# 2. live feed (every 1 s)
python -m constitutional_dynamics --live --graph bolt://neo4j:password@localhost:7687
```

Hit Ctrl-C to see a Rich sparkline of alignment vs time plus the PSD deviation table.

---

## ğŸ“š Full Documentation

For more detailed information, including a full usage guide, the mathematical framework of State Transition Calculus, and complete API references, please see:

* **[Main Documentation Index](docs/index.md)** (Browse on GitHub)
    * [Usage Guide](docs/usage.md)
    * [Mathematical Framework (STC)](docs/mathematical_framework.md)
    * API Reference:
        * [Core (`constitutional_dynamics.core`)](docs/api/core.md)
        * [IO (`constitutional_dynamics.io`)](docs/api/io.md)
        * [Integrations (`constitutional_dynamics.integrations`)](docs/api/integrations.md)
        * [Visualization (`constitutional_dynamics.vis`)](docs/api/vis.md)

---

## ğŸ”® Roadmap

| Milestone | Status | ETA |
|-----------|--------|-----|
| ğŸ› Configurable Î»(t) schedules (cosine, linear...) | ğŸ”œ | v0.2 |
| ğŸŒ Neo4j -> GraphQL API for dashboards | â³ | v0.3 |
| âš›ï¸ D-Wave hybrid solver integration | â³ | v0.3 |
| ğŸ¤– LLM strategist loop ("Suggest a timing modulation...") | â³ | v0.4 |

---

## ğŸ“œ License & Attribution

Prototype code Â© 2025 FF-GardenFn.
Released under the Apache License 2.0 for non-commercial research & interview demo purposes.

> "In theory there is no difference between theory and practice.
> In practice, there is." â€” Yogi Berra
