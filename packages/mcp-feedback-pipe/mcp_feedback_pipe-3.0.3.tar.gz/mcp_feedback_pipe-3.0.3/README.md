# ğŸ¯ MCPåé¦ˆé€šé“ (MCP Feedback Pipe)


![Version](https://img.shields.io/badge/version-3.0.1-blue)
![Python](https://img.shields.io/badge/python-3.8+-green)
![License](https://img.shields.io/badge/license-MIT-orange)
![SSH Compatible](https://img.shields.io/badge/SSH-Compatible-success)
![Markdown](https://img.shields.io/badge/Markdown-Supported-brightgreen)
![Mermaid](https://img.shields.io/badge/Mermaid-Diagrams-blue)


ä¸€ä¸ªåŸºäºFlaskçš„ç°ä»£åŒ–Webç•Œé¢åé¦ˆæ”¶é›†å·¥å…·ï¼Œä¸“ä¸ºMCP (Model Context Protocol) ç¯å¢ƒè®¾è®¡ã€‚ä»GUIæ¶æ„å®Œå…¨é‡æ„ä¸ºWebæ¶æ„ï¼Œå®Œç¾æ”¯æŒSSHè¿œç¨‹ç¯å¢ƒå’ŒCursorç­‰ç°ä»£å¼€å‘å·¥å…·ã€‚æ”¯æŒMarkdownæ¸²æŸ“ã€Mermaidå›¾è¡¨ã€ä»£ç é«˜äº®ç­‰ä¸°å¯Œçš„å†…å®¹å±•ç¤ºåŠŸèƒ½ã€‚

---

## ğŸ†• æœ€æ–°æ›´æ–° (v3.0.1)

### âœ… **åŠŸèƒ½éªŒè¯ä¸ä¼˜åŒ–**
- **ğŸ”§ suggestå‚æ•°éªŒè¯**: ç¡®è®¤ `collect_feedback` å·¥å…·çš„ `suggest` å‚æ•°æ­£ç¡®ä½¿ç”¨æ•°ç»„ç±»å‹ `List[str]`
- **ğŸ¯ å‚æ•°å¤„ç†ä¼˜åŒ–**: éªŒè¯ä»MCPè°ƒç”¨åˆ°å‰ç«¯æ˜¾ç¤ºçš„å®Œæ•´æ•°æ®æµï¼Œæ— ä¸å¿…è¦çš„JSONè½¬æ¢
- **ğŸŒ å‰ç«¯ç•Œé¢å¢å¼º**: å»ºè®®é€‰é¡¹æ­£ç¡®æ˜¾ç¤ºï¼Œæ”¯æŒç‚¹å‡»ç›´æ¥æäº¤æˆ–å¤åˆ¶åˆ°è¾“å…¥æ¡†
- **ğŸ“± ç”¨æˆ·ä½“éªŒæ”¹è¿›**: ç•Œé¢å¸ƒå±€ä¼˜åŒ–ï¼Œå“åº”å¼è®¾è®¡å®Œå–„
- **ğŸ¨ ç•Œé¢é‡æ„**: ç´§å‡‘åŒ–å¸ƒå±€ã€åŠ¨æ€å¤§å°è°ƒæ•´ã€å›¾ç‰‡ä¸Šä¼ ä½“éªŒä¼˜åŒ–
- **ğŸ“ å†…å®¹æ¸²æŸ“**: Markdownè¯­æ³•æ”¯æŒã€Mermaidå›¾è¡¨æ¸²æŸ“ã€ä»£ç è¯­æ³•é«˜äº®

### ğŸ› ï¸ **æŠ€æœ¯æ”¹è¿›**
- **âœ… å‚æ•°ç±»å‹ä¼˜åŒ–**: suggest å‚æ•°ä½¿ç”¨æ ‡å‡†æ•°ç»„æ ¼å¼
- **ğŸ§ª åŠŸèƒ½æµ‹è¯•**: é€šè¿‡å®é™…æµ‹è¯•éªŒè¯å»ºè®®é€‰é¡¹åŠŸèƒ½æ­£å¸¸
- **ğŸ“‹ ä»£ç è´¨é‡**: ç¡®ä¿å‚æ•°å¤„ç†ç¬¦åˆæœ€ä½³å®è·µ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### â­ æ¨èï¼šuvxä¸€é”®å®‰è£…

```bash
# âœ… PyPIæ­£å¼å‘å¸ƒï¼Œé›¶é…ç½®ä¸€é”®è¿è¡Œ
uvx mcp-feedback-pipe
```

> **ğŸ‰ å‘å¸ƒçŠ¶æ€**: å·²æ­£å¼å‘å¸ƒåˆ°PyPIï¼ä½¿ç”¨å…¨æ–°åç§°`mcp-feedback-pipe`ï¼Œæ— å†²çªï¼Œå³è£…å³ç”¨

### ğŸ“¦ ä¼ ç»Ÿæ–¹å¼å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ElemTran/mcp-feedback-pipe.git
cd mcp-feedback-pipe

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡
python scripts/start_server.py
```

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### âœ¨ ç”¨æˆ·ä½“éªŒ
- **ğŸŒ ç°ä»£Webç•Œé¢**: åŸºäºFlask + HTML5çš„å“åº”å¼è®¾è®¡
- **ğŸ“± å¤šè®¾å¤‡æ”¯æŒ**: æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘å®Œç¾é€‚é…
- **ğŸ¨ ä¼˜é›…äº¤äº’**: å®æ—¶åé¦ˆã€åŠ¨ç”»æ•ˆæœã€ç›´è§‚æ“ä½œ
- **ğŸ“ ä¸°å¯Œå†…å®¹**: Markdownæ¸²æŸ“ã€Mermaidå›¾è¡¨ã€ä»£ç é«˜äº®

### ğŸ”§ æŠ€æœ¯æ¶æ„
- **ğŸ—ï¸ æ¨¡å—åŒ–è®¾è®¡**: 8ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œå…³æ³¨ç‚¹åˆ†ç¦»
- **ğŸ§ª å®Œæ•´æµ‹è¯•**: 43ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œ65%ä»£ç è¦†ç›–ç‡
- **ğŸ“Š å®æ—¶ç›‘æ§**: æœåŠ¡çŠ¶æ€ã€ç«¯å£ç®¡ç†ã€è¿›ç¨‹ç›‘æ§

### ğŸŒ ç¯å¢ƒå…¼å®¹
- **ğŸ”— SSHè¿œç¨‹æ”¯æŒ**: å®Œç¾æ”¯æŒSSHç«¯å£è½¬å‘
- **ğŸ¯ Cursoré›†æˆ**: æ— ç¼é›†æˆCursor MCPå·¥å…·é“¾
- **âš¡ uvxé›¶é…ç½®**: ä¸€é”®å®‰è£…ï¼Œå³å¼€å³ç”¨

---

## ğŸ› ï¸ Cursor MCPé…ç½®

### â­ æ¨èé…ç½® (PyPIç‰ˆæœ¬)
```json
{
  "mcpServers": {
    "mcp-feedback-pipe": {
      "command": "uvx",
      "args": ["mcp-feedback-pipe"],
      "env": {
        "PYTHONIOENCODING": "utf-8",
        "MCP_DIALOG_TIMEOUT": "600",
        "MCP_USE_WEB": "true"
      }
    }
  }
}
```

> **âœ… å·²å‘å¸ƒ**: ç›´æ¥ä½¿ç”¨PyPIç‰ˆæœ¬ï¼Œè‡ªåŠ¨è·å–æœ€æ–°æ›´æ–°

### å¤‡é€‰é…ç½® (æœ¬åœ°å¼€å‘)
```json
{
  "mcpServers": {
    "mcp-feedback-pipe": {
      "command": "/path/to/mcp-feedback-pipe/.venv/bin/python",
      "args": ["-m", "mcp_feedback_pipe.server"],
      "env": {
        "PYTHONPATH": "/path/to/mcp-feedback-pipe/src",
        "MCP_USE_WEB": "true"
      }
    }
  }
}
```

---

## ğŸ”— SSHç¯å¢ƒéƒ¨ç½²

### ç«¯å£è½¬å‘é…ç½®
```bash
# æœ¬åœ°è½¬å‘ï¼ˆæ¨èï¼‰
ssh -L 5000:localhost:5000 username@your-server-ip

# ä½¿ç”¨VS Code SSHæ‰©å±•ä¼šè‡ªåŠ¨å¤„ç†ç«¯å£è½¬å‘
```

## ğŸ¯ åœ¨Cursorä¸­çš„ä½¿ç”¨é…ç½®

åœ¨Cursorçš„è‡ªå®šä¹‰æŒ‡ä»¤ä¸­å¯ä»¥è¿™æ ·é…ç½®ï¼š

```
"Whenever you want to ask a question, always call the MCP.

Whenever you're about to complete a user request, call the MCP instead of simply ending the process. Keep calling MCP until the user's feedback is empty, then end the request. mcp-feedback-pipe.collect_feedback"
```
---

## ğŸ“š å¯ç”¨å·¥å…·

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **`collect_feedback`**: å¯åŠ¨Webç•Œé¢æ”¶é›†ç”¨æˆ·åé¦ˆ
  - `work_summary`: AIå·¥ä½œæ±‡æŠ¥å†…å®¹
  - `timeout_seconds`: è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤300ç§’ï¼‰
  - `suggest`: å»ºè®®é€‰é¡¹åˆ—è¡¨ï¼Œæ ¼å¼å¦‚ï¼š`["é€‰é¡¹1", "é€‰é¡¹2", "é€‰é¡¹3"]` âœ¨**å·²éªŒè¯**
- **`pick_image`**: å›¾ç‰‡é€‰æ‹©å’Œä¸Šä¼ åŠŸèƒ½
- **`get_image_info_tool`**: è·å–å›¾ç‰‡è¯¦ç»†ä¿¡æ¯

### ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹
```python
# åœ¨Cursorä¸­è°ƒç”¨collect_feedbackå·¥å…·
# 1. åŸºç¡€åé¦ˆæ”¶é›†
collect_feedback(work_summary="ä»»åŠ¡å®Œæˆæƒ…å†µæ±‡æŠ¥")

# 2. å¸¦å»ºè®®é€‰é¡¹çš„åé¦ˆæ”¶é›† âœ¨æ–°åŠŸèƒ½éªŒè¯
collect_feedback(
    work_summary="åŠŸèƒ½å¼€å‘å®Œæˆï¼Œè¯·æä¾›åé¦ˆ",
    suggest=["åŠŸèƒ½æ­£å¸¸", "éœ€è¦ä¼˜åŒ–", "æœ‰é—®é¢˜", "å»ºè®®ä¿®æ”¹"]
)

# 3. è‡ªå®šä¹‰è¶…æ—¶æ—¶é—´
collect_feedback(
    work_summary="é•¿æ—¶é—´ä»»åŠ¡å®Œæˆ",
    timeout_seconds=600,
    suggest=["æ»¡æ„", "éœ€è¦è°ƒæ•´", "ç»§ç»­ä¼˜åŒ–"]
)
```

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ğŸ“ ç›®å½•ç»“æ„
```
mcp-feedback-pipe/
â”œâ”€â”€ src/mcp_feedback_pipe/         # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ server.py                  # MCPæœåŠ¡å™¨
â”‚   â”œâ”€â”€ web_app.py                # Flask Webåº”ç”¨
â”‚   â”œâ”€â”€ server_manager.py         # æœåŠ¡ç®¡ç†å™¨
â”‚   â””â”€â”€ templates/                # Webæ¨¡æ¿
â”œâ”€â”€ scripts/                      # å®ç”¨è„šæœ¬
â”œâ”€â”€ tests/                        # æµ‹è¯•å¥—ä»¶
â””â”€â”€ docs/                         # å®Œæ•´æ–‡æ¡£
```

### ğŸ§ª è´¨é‡ä¿è¯
- **å•å…ƒæµ‹è¯•**: 32ä¸ªæµ‹è¯•ç”¨ä¾‹
- **é›†æˆæµ‹è¯•**: 11ä¸ªæµ‹è¯•ç”¨ä¾‹  
- **ä»£ç è¦†ç›–ç‡**: 65%
- **ä»£ç è§„èŒƒ**: æ¯ä¸ªæ–‡ä»¶<250è¡Œ

---

## ğŸ“– æ–‡æ¡£èµ„æº

### ğŸ“‹ é…ç½®æŒ‡å—
- [SSHè®¾ç½®æŒ‡å—](docs/SSH_SETUP.md) - å®Œæ•´çš„SSHé…ç½®è¯´æ˜
- [MCPé…ç½®æ‰‹å†Œ](docs/MCP_SETUP.md) - Cursorå’ŒClaudeé…ç½®
- [éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT_GUIDE.md) - å¤šç§éƒ¨ç½²æ–¹æ¡ˆå¯¹æ¯”

### ğŸ›ï¸ æŠ€æœ¯æ–‡æ¡£  
- [æ¶æ„è®¾è®¡](docs/ARCHITECTURE.md) - ç³»ç»Ÿæ¶æ„å’Œè®¾è®¡ç†å¿µ
- [æµ‹è¯•æŠ¥å‘Š](docs/TEST_REPORT.md) - è¯¦ç»†çš„æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š

---

## ğŸ¯ ç‰ˆæœ¬å†å²

### v3.0.1 (å½“å‰ç‰ˆæœ¬)
- **âœ… suggestå‚æ•°éªŒè¯**: ç¡®è®¤æ•°ç»„ç±»å‹å‚æ•°å¤„ç†æ­£ç¡®
- **ğŸ¯ åŠŸèƒ½æµ‹è¯•å®Œå–„**: å®é™…éªŒè¯å»ºè®®é€‰é¡¹åŠŸèƒ½
- **ğŸŒ ç•Œé¢ä¼˜åŒ–**: å‰ç«¯äº¤äº’ä½“éªŒæ”¹è¿›
- **ğŸ¨ ç•Œé¢é‡æ„**: ç´§å‡‘åŒ–å¸ƒå±€ã€åŠ¨æ€è°ƒæ•´ã€ä¸Šä¼ ä½“éªŒä¼˜åŒ–
- **ğŸ“ å†…å®¹æ¸²æŸ“**: Markdownè¯­æ³•ã€Mermaidå›¾è¡¨ã€ä»£ç é«˜äº®æ”¯æŒ
- **ğŸ“‹ æ–‡æ¡£æ›´æ–°**: å®Œå–„ä½¿ç”¨ç¤ºä¾‹å’Œå‚æ•°è¯´æ˜

### v3.0.0 (é‡å¤§ç‰ˆæœ¬)
- **ğŸ—ï¸ æ¶æ„é‡æ„**: GUI â†’ Webï¼Œå®Œå…¨é‡å†™
- **ğŸŒ ç°ä»£åŒ–ç•Œé¢**: Flask + HTML5å“åº”å¼è®¾è®¡  
- **ğŸ”— SSHå®Œç¾æ”¯æŒ**: æ— ç¼é›†æˆSSHè¿œç¨‹ç¯å¢ƒ
- **âš¡ uvxé›¶é…ç½®**: ä¸€é”®å®‰è£…å³å¼€å³ç”¨
- **ğŸ§ª å®Œæ•´æµ‹è¯•**: 43ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè´¨é‡ä¿è¯

### v2.x (å·²åºŸå¼ƒ)
- åŸºäºtkinterçš„GUIç‰ˆæœ¬
- SSHç¯å¢ƒå…¼å®¹æ€§é—®é¢˜
- å·²å®Œå…¨æ›¿æ¢ä¸ºWebç‰ˆæœ¬

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸ› ï¸ å¼€å‘ç¯å¢ƒ
```bash
# å¼€å‘è€…å®‰è£…
git clone https://github.com/ElemTran/mcp-feedback-pipe.git
cd mcp-feedback-pipe
python -m venv .venv
source .venv/bin/activate
pip install -e .

# è¿è¡Œæµ‹è¯•
pytest

# ä»£ç æ ¼å¼åŒ–
black src/ tests/
```

### ğŸ“ æäº¤è§„èŒƒ
- ğŸ› **fix**: ä¿®å¤bug
- âœ¨ **feat**: æ–°åŠŸèƒ½
- ğŸ“š **docs**: æ–‡æ¡£æ›´æ–°
- ğŸ§ª **test**: æµ‹è¯•ç›¸å…³
- ğŸ”§ **refactor**: ä»£ç é‡æ„

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç¤¾åŒºæ”¯æŒï¼

**è®©AIä¸ç”¨æˆ·çš„äº¤äº’æ›´é«˜æ•ˆç›´è§‚ï¼** ğŸ¯