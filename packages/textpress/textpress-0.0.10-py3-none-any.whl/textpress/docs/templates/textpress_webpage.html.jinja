{% extends "simple_webpage.html.jinja" %}

{% block head_extra %}
  <style>
    .textpress-logo {
      font-family: "PT Serif", serif;
      font-size: 1.3rem;
      display: flex;
      letter-spacing: 0.03em;
    }
    .logo-black {
      color: var(--color-text);
      transition: color 0.4s ease-in-out;
    }
    .logo-grey {
      color: hsl(140, 2%, 50%);
      transition: color 0.4s ease-in-out;
    }
    [data-theme="dark"] .logo-grey {
      color: hsl(140, 2%, 58%);
    }
    
    .textpress-header {
      font-family: var(--font-sans);
      font-size: 1rem;
      background-color: var(--color-bg-alt);
      border-bottom: 1px solid var(--color-border-hint);
      transition: color 0.2s ease-in-out;
      position: relative;
    }
    .textpress-main-nav {
      color: hsl(140, 2%, 50%);
      letter-spacing: 0.03em;
      font-size: var(--font-size-small);
    }
    .textpress-main-nav a {
      color: hsl(140, 2%, 50%);
    }
    .textpress-main-nav a:hover {
      text-decoration: none;
      color: var(--color-primary-light);
    }
    /* Ensure logo link doesn't change color or get underlined on hover */
    .textpress-logo:hover {
      text-decoration: none;
    }
    .textpress-footer {
      font-family: var(--font-sans);
      color: var(--color-text-hint);
      font-size: var(--font-size-small);
    }
    .boxed-text {
      border: 1px solid hsl(140, 2%, 34%);
      padding: 0.2rem 1.2rem;
      border-radius: 4px;
      margin: 2rem 0;
    }
    .centered-headers h1,
    .centered-headers h2,
    .centered-headers h3 {
      text-align: center;
    }
    .get-started {
      border: 1px solid hsl(140, 2%, 0%);
      background-color: var(--color-bg-alt);
    }
    .justify p {
      text-align: justify;
      text-align-last: left;
    }
    .textpress-main-content pre,
    .textpress-main-content code {
      color: hsl(0, 18%, 39%);
    }

    /* Override theme toggle positioning for textpress header */
    .textpress-header .theme-toggle {
      position: absolute;
      right: 1rem;
      top: 1.6rem;
      transform: translateY(-50%);
      /* Reset the fixed positioning from base styles */
      position: absolute !important;
      width: 2rem;
      height: 2rem;
      font-size: 0.9rem;
    }

    .textpress-header .theme-toggle svg {
      width: 0.9rem;
      height: 0.9rem;
    }

    /* Only add padding when screen is narrow enough for overlap to occur */
    @media (max-width: 820px) {
      .textpress-main-nav {
        padding-right: 2.5rem;
      }
    }
  </style>
{% endblock head_extra %}

{% block theme_toggle %}
  {# Hide the default theme toggle from base template #}
{% endblock theme_toggle %}

{% block body_header %}
  <header class="textpress-header">
    <div class="max-w-3xl mx-auto flex justify-between items-baseline px-6 py-2">
      <a href="https://textpress.md/" class="textpress-logo">
        <div class="flex">
          <span class="logo-black">T</span>
          <span class="logo-grey">E</span>
          <span class="logo-grey">X</span>
          <span class="logo-grey">T</span>
          <span class="logo-black">P</span>
          <span class="logo-grey">R</span>
          <span class="logo-grey">E</span>
          <span class="logo-grey">S</span>
          <span class="logo-grey">S</span>
        </div>
      </a>
      <nav class="textpress-main-nav flex items-center flex-grow ml-8">
        <div class="ml-auto flex">
          <a href="https://textpress.md/#get-started" class="mr-4">Try Textpress</a>
          <a href="https://github.com/jlevy/textpress">GitHub</a>
        </div>
      </nav>
      {# Theme toggle button positioned at far right - using same class as base template #}
      <button class="theme-toggle" aria-label="toggle dark mode">
        <i data-feather="moon"></i>
      </button>
    </div>
  </header>
{% endblock body_header %}

{% block main_content %}
  <div class="textpress-main-content mt-6 {{ add_classes|safe }}">
    {{ super() }}
  </div>
{% endblock main_content %}

{% block body_footer %}
  {# Align footer with body content #}
  <footer class="textpress-footer container max-w-3xl mx-auto px-6 py-6 text-center">
    <p>
      Published on <a href="https://textpress.md/">Textpress</a>
      <br/>
      <a href="https://textpress.md/textpress/d/privacy.html">Privacy</a>
      &nbsp;â€¢&nbsp;
      <a href="https://textpress.md/textpress/d/tos.html">Terms of Service</a>
    </p>
  </footer>
{% endblock body_footer %}

