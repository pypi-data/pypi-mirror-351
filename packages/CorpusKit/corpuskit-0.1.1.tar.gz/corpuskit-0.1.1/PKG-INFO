Metadata-Version: 2.4
Name: CorpusKit
Version: 0.1.1
Summary: Corpus analysis and processing toolkit
Author-email: Morton Li <Morton.L@Outlook.com>
License: Apache-2.0
License-File: LICENSE.txt
Keywords: NLP,corpus,natural language processing,text analysis,text cleaning,text processing
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Python: >=3.9
Requires-Dist: datasketch~=1.6.5
Requires-Dist: pandas~=2.2.3
Requires-Dist: pyarrow~=20.0.0
Requires-Dist: tqdm~=4.67.1
Provides-Extra: dev
Provides-Extra: ml
Requires-Dist: accelerate~=1.7.0; extra == 'ml'
Requires-Dist: torch~=2.7.0; extra == 'ml'
Requires-Dist: transformers~=4.52.3; extra == 'ml'
Description-Content-Type: text/markdown

# CorpusToolkit

**CorpusToolkit** æ˜¯ä¸€ä¸ªé¢å‘ä¸­æ–‡è¯­æ–™é¢„å¤„ç†ã€å»é‡ä¸è´¨é‡è¯„ä¼°çš„å·¥å…·åŒ…ï¼Œé€‚ç”¨äº NLP æ•°æ®æ¸…æ´—ä¸è®­ç»ƒè¯­æ–™å‡†å¤‡åœºæ™¯ã€‚

---

## ğŸ“¦ Installation / å®‰è£…

```bash
pip install CorpusKit
```

æˆ–ä»æºç å®‰è£…ï¼š

```bash
git clone https://github.com/Morton-Li/CorpusToolkit.git
cd CorpusToolkit
pip install .
```

<details>
<summary><strong>âš ï¸ æ³¨æ„ / Note</strong></summary>

å¦‚éœ€ä½¿ç”¨æœºå™¨å­¦ä¹ ç›¸å…³åŠŸèƒ½ï¼Œè¯·ç¡®ä¿å®‰è£…äº† `ml` å¯é€‰ä¾èµ–é¡¹ï¼š  
To use neural network-related features, make sure to install the optional dependencies group `ml`:  

* For PyPI install / ä½¿ç”¨ PyPI å®‰è£…ï¼š
  ```bash
  pip install CorpusKit[ml]
  ```

* For source install / ä»æºç å®‰è£…ï¼š
  ```bash
  pip install .[ml]
  ```

</details>

---

## ğŸ§° æ¨¡å—åŠŸèƒ½ç®€ä»‹ / Module Overview

| æ¨¡å—                                | åŠŸèƒ½                                   |
|-----------------------------------|--------------------------------------|
| `CorpusToolkit.scorer`            | è®¡ç®—ä¸­æ–‡è¯­æ–™çš„è´¨é‡è¯„åˆ†ï¼Œå¦‚å›°æƒ‘åº¦ï¼ˆPerplexityï¼‰         |
| `CorpusToolkit.Cleaner`           | æ ‡ç‚¹è§„èŒƒã€ç©ºç™½ç¬¦æ¸…æ´—ã€HTML å®ä½“è§£ç ã€emoji è¿‡æ»¤ç­‰è¯­æ–™æ¸…æ´—åŠŸèƒ½ |
| `CorpusToolkit.DuplicateDetector` | åŸºäº MinHash + LSH å®ç°è¯­å¥çº§é‡å¤æ£€æµ‹           |
| `CorpusToolkit.split_sentence`    | ä¸­æ–‡æ–‡æœ¬é•¿å¥åˆ†å‰²å·¥å…·                           |

---

## ğŸª„ å¿«é€Ÿä½¿ç”¨ç¤ºä¾‹ / Quick Usage Examples

### 1. **è®¡ç®—å›°æƒ‘åº¦ / Compute Perplexity**

```python
from CorpusToolkit.scorer import compute_perplexity

sample_texts = [
    "ä»–èµ°è¿›äº†å’–å•¡åº—ï¼Œç‚¹äº†ä¸€æ¯æ‹¿é“ã€‚",
    "ä¸­å›½æ˜¯ä¸€ä¸ªæ‹¥æœ‰æ‚ ä¹…å†å²çš„å›½å®¶ã€‚",
    "æ ‘ç«‹ç§‘å­¦æ€æƒ³ï¼ŒæŒæ¡ç§‘å­¦æ–¹æ³•ï¼Œäº†è§£ç§‘æŠ€çŸ¥è¯†ã€‚",
    "äººå·¥æ™ºèƒ½æ­£åœ¨æ”¹å˜æˆ‘ä»¬çš„ç”Ÿæ´»æ–¹å¼ã€‚",
    "å•Šå‘ç–¯å¼€iå¥ié˜¶æ®µå“¦å°è„¾æ°”ã€‚",  # æ— æ„ä¹‰æ–‡æœ¬ç¤ºä¾‹
]
ppl_scores = compute_perplexity(sample_texts)
print(ppl_scores)  # [9.5992, 14.1634, 26.9556, 10.4854, 3445.8342]
```

### 2. **æ£€æµ‹ä¸å»é™¤é‡å¤è¯­å¥ / Detect and Remove Duplicates**

```python
from CorpusToolkit import DuplicateDetector

sample_texts = [
    "ä»Šå¤©å¤©æ°”ä¸é”™",
    "æˆ‘å–œæ¬¢äººå·¥æ™ºèƒ½ã€‚",
    "æˆ‘éå¸¸å–œæ¬¢äººå·¥æ™ºèƒ½ã€‚",
    "æˆ‘å–œæ¬¢äººå·¥æ™ºèƒ½ã€‚",
]

detector = DuplicateDetector()
detector.add_batch(sample_texts)

for text in sample_texts:
    similar_ids = detector.query(text)
    print(f"Text: '{text}' has similar IDs: {similar_ids}")

# Text: 'ä»Šå¤©å¤©æ°”ä¸é”™' has similar IDs: [0]
# Text: 'æˆ‘å–œæ¬¢äººå·¥æ™ºèƒ½ã€‚' has similar IDs: [3, 1, 2]
# Text: 'æˆ‘éå¸¸å–œæ¬¢äººå·¥æ™ºèƒ½ã€‚' has similar IDs: [3, 1, 2]
# Text: 'æˆ‘å–œæ¬¢äººå·¥æ™ºèƒ½ã€‚' has similar IDs: [3, 1, 2]

duplicates = detector.find_all_duplicates()
print("All duplicate groups:", duplicates)  # All duplicate groups: {1: [3, 2]}
```

> æ›´å¤šç¤ºä¾‹è¯·å‚è€ƒ [examples](./examples) ç›®å½•ã€‚

---

## ğŸ“„ License / è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 åè®®ã€‚

