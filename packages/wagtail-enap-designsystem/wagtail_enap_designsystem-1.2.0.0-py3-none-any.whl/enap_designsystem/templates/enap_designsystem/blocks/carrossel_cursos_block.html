{% load wagtailcore_tags %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/10.3.1/swiper-bundle.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/10.3.1/swiper-bundle.min.js"></script>

<div class="carrossel-cursos">
  <div class="swiper swiper-cursos-{{ id }}">
    <div class="swiper-wrapper">
      {% for card_block in value.cards %}
        <div class="swiper-slide">
          {% include_block card_block %}
        </div>
      {% endfor %}
    </div>
    
    <!-- Navegação e paginação -->

  </div>

  <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
</div>

<style>
  .carrossel-cursos {
    position: relative;
    padding: 0 40px;
    margin: 30px 0;
    height: 400px;
  }

  .swiper{
    max-width: 1142px;
  }

  .swiper-button-next{
    right: 130px;
  }

  .swiper-button-prev{
    left: 130px;
  }
  
  .swiper-button-next,
  .swiper-button-prev {
    color: #333;
    background-color: rgba(255, 255, 255, 0.8);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }
  
  .swiper-button-next:hover,
  .swiper-button-prev:hover {
    background-color: var(--highlight-color, #c3e92e);
    color: white;
  }
  
  .swiper-pagination-bullet-active {
    background-color: var(--highlight-color, #c3e92e);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    new Swiper('.swiper-cursos-{{ id }}', {
      slidesPerView: {{ value.slidesPerView_mobile }},
      spaceBetween: 20,
      loop: true,
      
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      
      breakpoints: {
        640: {
          slidesPerView: {{ value.slidesPerView_mobile }},
        },
        768: {
          slidesPerView: {{ value.slidesPerView_tablet }},
        },
        1024: {
          slidesPerView: {{ value.slidesPerView_desktop }},
        },
      },
      
      {% if value.auto_play %}
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      {% endif %}
    });
  });
</script>