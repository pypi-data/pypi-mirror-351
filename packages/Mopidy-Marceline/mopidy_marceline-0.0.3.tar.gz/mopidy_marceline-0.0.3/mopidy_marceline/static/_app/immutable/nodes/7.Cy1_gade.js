import{c as j,a as o,t as h,b as _,s as v}from"../chunks/Ddg5X7gK.js";import{p as k,f as p,a as x,g as y,d as w,b as $,t as b,s as T,n as z}from"../chunks/mF3OkLKa.js";import{i as A,s as D,r as H}from"../chunks/C8XeOgap.js";import{S as M}from"../chunks/CxtWjmlo.js";import{g as V}from"../chunks/UAtXrf73.js";import{a as q,b as C}from"../chunks/BL6xdtUQ.js";import{T as K,b as B,a as F}from"../chunks/Dfv5jg-a.js";import{T as G}from"../chunks/HfRZSccY.js";import{V as J}from"../chunks/CDmcrrOQ.js";const N=async({parent:r})=>{const{mopidy:t}=await r(),a=t.history;return await t.requestImages(a.map(e=>e.track.uri)),{history:a}},lt=Object.freeze(Object.defineProperty({__proto__:null,load:N},Symbol.toStringTag,{value:"Module"}));var Q=h("<!> <!>",1),U=h("<!> <span></span>",1);function W(r,t){k(t,!0);let a=H(t,["$$slots","$$events","$$legacy","entry"]);const e=V();let i=w(()=>e.getTrack(t.entry.track.uri));var c=j(),P=p(c);{var L=n=>{G(n,D({get track(){return y(i)}},()=>a,{trailing:R=>{var f=U(),u=p(f);K(u,{children:(E,Z)=>{var g=Q(),d=p(g);B(d,{class:"relative before:absolute before:inset-0 before:z-10",children:(m,O)=>{$();var s=_();b(l=>v(s,`${l??""} ago`),[()=>q(t.entry.timestamp)]),o(m,s)},$$slots:{default:!0}});var I=T(d,2);F(I,{children:(m,O)=>{$();var s=_();b(l=>v(s,l),[()=>C(t.entry.timestamp)]),o(m,s)},$$slots:{default:!0}}),o(E,g)},$$slots:{default:!0}});var S=T(u,2);S.textContent=M,o(R,f)},$$slots:{trailing:!0}}))};A(P,n=>{y(i)&&n(L)})}o(r,c),x()}function X(r,t){J(r,{get data(){return t.entries},getKey:e=>`${e.track.uri} ${e.timestamp.getTime()}`,item:(e,i=z)=>{W(e,{get entry(){return i()}})},$$slots:{item:!0}})}function pt(r,t){k(t,!0),X(r,{get entries(){return t.data.history}}),x()}export{pt as component,lt as universal};
