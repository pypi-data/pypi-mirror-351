var As=Object.defineProperty;var ko=r=>{throw TypeError(r)};var Rs=(r,t,e)=>t in r?As(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var O=(r,t,e)=>Rs(r,typeof t!="symbol"?t+"":t,e),Vn=(r,t,e)=>t.has(r)||ko("Cannot "+e);var d=(r,t,e)=>(Vn(r,t,"read from private field"),e?e.call(r):t.get(r)),C=(r,t,e)=>t.has(r)?ko("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),Ce=(r,t,e,n)=>(Vn(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),W=(r,t,e)=>(Vn(r,t,"access private method"),e);import{N as Po,E as Ms,aU as Is,aV as Ds,Z as Es,z as Ht,aW as Ls,ab as Os,$ as Ns,n as ut,af as _o,ag as xo,ah as Fs,g as c,h as K,e as B,d as x,u as _t,p as st,f as U,a as it,D as Bt,c as $,r as Q,t as at,x as zs,s as nt,b as Ee,aX as Bs,aY as Ae}from"../chunks/mF3OkLKa.js";import{a as Y,p as L,i as ct,s as ht,r as lt,b as Wo}from"../chunks/C8XeOgap.js";import{B as Vs,W as Ws}from"../chunks/CxtWjmlo.js";import{b as Us}from"../chunks/Ddm0HaqK.js";import{Z as Wn,_ as js,C as ae,s as It,j as qs,S as Hs,K as Uo,Q as Gs,I as Ys,u as Lt,n as se,f as z,U as Xs,m as ft,V as Ks,W as So,X as Js,R as Qs,Y as ao,$ as lo,a0 as Zs,a1 as Mn,y as gr,a2 as In,d as jo,c as qo,A as Ho,e as Go,H as Yo,E as Xo,o as Ko,w as Jo,J as Qo,L as Zo,z as $o,a3 as $s,a4 as ti,a5 as ei,a as Gn,T as To,b as Co}from"../chunks/Dfv5jg-a.js";import{j as Yt,a as ot,c as mt,t as ee,S as Dn,I as br,d as $t,s as Mr,f as te,r as ri,e as Le,k as Oe,l as Ao,g as co,m as ni}from"../chunks/UAtXrf73.js";import{r as oi,w as si,c as Z,a as I,t as et,q as Vt,b as Ne,s as ke}from"../chunks/Ddg5X7gK.js";import{p as ts}from"../chunks/DtkGj2Sm.js";import{b as Yn}from"../chunks/BMdZThlg.js";import{i as ii}from"../chunks/Df_TvqB9.js";import{f as Ro}from"../chunks/BL6xdtUQ.js";import{i as ai,v as li,I as Me}from"../chunks/BGW3jQ35.js";import{c as Et}from"../chunks/DSyo_t5Z.js";import{s as ci}from"../chunks/N7XvCs47.js";const ui=()=>performance.now(),qt={tick:r=>requestAnimationFrame(r),now:()=>ui(),tasks:new Set};function es(){const r=qt.now();qt.tasks.forEach(t=>{t.c(r)||(qt.tasks.delete(t),t.f())}),qt.tasks.size!==0&&qt.tick(es)}function hi(r){let t;return qt.tasks.size===0&&qt.tick(es),{promise:new Promise(e=>{qt.tasks.add(t={c:r,f:e})}),abort(){qt.tasks.delete(t)}}}function _r(r,t){si(()=>{r.dispatchEvent(new CustomEvent(t))})}function di(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function Mo(r){const t={},e=r.split(";");for(const n of e){const[o,s]=n.split(":");if(!o||s===void 0)break;const i=di(o.trim());t[i]=s.trim()}return t}const fi=r=>r;function pi(r,t,e,n){var o=(r&Ls)!==0,s="both",i,a=t.inert,l=t.style.overflow,h,u;function f(){var _=Fs,A=Po;_o(null),xo(null);try{return i??(i=e()(t,(n==null?void 0:n())??{},{direction:s}))}finally{_o(_),xo(A)}}var p={is_global:o,in(){t.inert=a,_r(t,"introstart"),h=Xn(t,f(),u,1,()=>{_r(t,"introend"),h==null||h.abort(),h=i=void 0,t.style.overflow=l})},out(_){t.inert=!0,_r(t,"outrostart"),u=Xn(t,f(),h,0,()=>{_r(t,"outroend"),_==null||_()})},stop:()=>{h==null||h.abort(),u==null||u.abort()}},m=Po;if((m.transitions??(m.transitions=[])).push(p),oi){var b=o;if(!b){for(var g=m.parent;g&&(g.f&Ms)!==0;)for(;(g=g.parent)&&(g.f&Is)===0;);b=!g||(g.f&Ds)!==0}b&&Es(()=>{Ht(()=>p.in())})}}function Xn(r,t,e,n,o){var s=n===1;if(Os(t)){var i,a=!1;return Ns(()=>{if(!a){var _=t({direction:s?"in":"out"});i=Xn(r,_,e,n,o)}}),{abort:()=>{a=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(e==null||e.deactivate(),!(t!=null&&t.duration))return o(),{abort:ut,deactivate:ut,reset:ut,t:()=>n};const{delay:l=0,css:h,tick:u,easing:f=fi}=t;var p=[];if(s&&e===void 0&&(u&&u(0,1),h)){var m=Mo(h(0,1));p.push(m,m)}var b=()=>1-n,g=r.animate(p,{duration:l});return g.onfinish=()=>{var _=(e==null?void 0:e.t())??1-n;e==null||e.abort();var A=n-_,T=t.duration*Math.abs(A),R=[];if(T>0){var w=!1;if(h)for(var v=Math.ceil(T/16.666666666666668),P=0;P<=v;P+=1){var y=_+A*f(P/v),S=Mo(h(y,1-y));R.push(S),w||(w=S.overflow==="hidden")}w&&(r.style.overflow="hidden"),b=()=>{var D=g.currentTime;return _+A*f(D/T)},u&&hi(()=>{if(g.playState!=="running")return!1;var D=b();return u(D,1-D),!0})}g=r.animate(R,{duration:T,fill:"forwards"}),g.onfinish=()=>{b=()=>n,u==null||u(n,1-n),o()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=ut)},deactivate:()=>{o=ut},reset:()=>{n===0&&(u==null||u(1,0))},t:()=>b()}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r){return r<0?-1:r===0?0:1}function Ie(r,t,e){return(1-e)*r+e*t}function mi(r,t,e){return e<r?r:e>t?t:e}function Ir(r,t,e){return e<r?r:e>t?t:e}function Io(r){return r=r%360,r<0&&(r=r+360),r}function uo(r){return r=r%360,r<0&&(r=r+360),r}function gi(r,t){return uo(t-r)<=180?1:-1}function rs(r,t){return 180-Math.abs(Math.abs(r-t)-180)}function Kn(r,t){const e=r[0]*t[0][0]+r[1]*t[0][1]+r[2]*t[0][2],n=r[0]*t[1][0]+r[1]*t[1][1]+r[2]*t[1][2],o=r[0]*t[2][0]+r[1]*t[2][1]+r[2]*t[2][2];return[e,n,o]}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],bi=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],ho=[95.047,100,108.883];function En(r,t,e){return(255<<24|(r&255)<<16|(t&255)<<8|e&255)>>>0}function Do(r){const t=ie(r[0]),e=ie(r[1]),n=ie(r[2]);return En(t,e,n)}function vi(r){return r>>24&255}function fo(r){return r>>16&255}function po(r){return r>>8&255}function mo(r){return r&255}function os(r,t,e){const n=bi,o=n[0][0]*r+n[0][1]*t+n[0][2]*e,s=n[1][0]*r+n[1][1]*t+n[1][2]*e,i=n[2][0]*r+n[2][1]*t+n[2][2]*e,a=ie(o),l=ie(s),h=ie(i);return En(a,l,h)}function yi(r){const t=Gt(fo(r)),e=Gt(po(r)),n=Gt(mo(r));return Kn([t,e,n],ns)}function wi(r,t,e){const n=ho,o=(r+16)/116,s=t/500+o,i=o-e/200,a=Tr(s),l=Tr(o),h=Tr(i),u=a*n[0],f=l*n[1],p=h*n[2];return os(u,f,p)}function ki(r){const t=Gt(fo(r)),e=Gt(po(r)),n=Gt(mo(r)),o=ns,s=o[0][0]*t+o[0][1]*e+o[0][2]*n,i=o[1][0]*t+o[1][1]*e+o[1][2]*n,a=o[2][0]*t+o[2][1]*e+o[2][2]*n,l=ho,h=s/l[0],u=i/l[1],f=a/l[2],p=De(h),m=De(u),b=De(f),g=116*m-16,_=500*(p-m),A=200*(m-b);return[g,_,A]}function Pi(r){const t=Zt(r),e=ie(t);return En(e,e,e)}function Jn(r){const t=yi(r)[1];return 116*De(t/100)-16}function Zt(r){return 100*Tr((r+16)/116)}function Qn(r){return De(r/100)*116-16}function Gt(r){const t=r/255;return t<=.040449936?t/12.92*100:Math.pow((t+.055)/1.055,2.4)*100}function ie(r){const t=r/100;let e=0;return t<=.0031308?e=t*12.92:e=1.055*Math.pow(t,1/2.4)-.055,mi(0,255,Math.round(e*255))}function _i(){return ho}function De(r){const t=.008856451679035631,e=24389/27;return r>t?Math.pow(r,1/3):(e*r+16)/116}function Tr(r){const t=.008856451679035631,e=24389/27,n=r*r*r;return n>t?n:(116*r-16)/e}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static make(t=_i(),e=200/Math.PI*Zt(50)/100,n=50,o=2,s=!1){const i=t,a=i[0]*.401288+i[1]*.650173+i[2]*-.051461,l=i[0]*-.250268+i[1]*1.204414+i[2]*.045854,h=i[0]*-.002079+i[1]*.048952+i[2]*.953127,u=.8+o/10,f=u>=.9?Ie(.59,.69,(u-.9)*10):Ie(.525,.59,(u-.8)*10);let p=s?1:u*(1-1/3.6*Math.exp((-e-42)/92));p=p>1?1:p<0?0:p;const m=u,b=[p*(100/a)+1-p,p*(100/l)+1-p,p*(100/h)+1-p],g=1/(5*e+1),_=g*g*g*g,A=1-_,T=_*e+.1*A*A*Math.cbrt(5*e),R=Zt(n)/t[1],w=1.48+Math.sqrt(R),v=.725/Math.pow(R,.2),P=v,y=[Math.pow(T*b[0]*a/100,.42),Math.pow(T*b[1]*l/100,.42),Math.pow(T*b[2]*h/100,.42)],S=[400*y[0]/(y[0]+27.13),400*y[1]/(y[1]+27.13),400*y[2]/(y[2]+27.13)],D=(2*S[0]+S[1]+.05*S[2])*v;return new Wt(R,D,v,P,f,m,b,T,Math.pow(T,.25),w)}constructor(t,e,n,o,s,i,a,l,h,u){this.n=t,this.aw=e,this.nbb=n,this.ncb=o,this.c=s,this.nc=i,this.rgbD=a,this.fl=l,this.fLRoot=h,this.z=u}}Wt.DEFAULT=Wt.make();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,e,n,o,s,i,a,l,h){this.hue=t,this.chroma=e,this.j=n,this.q=o,this.m=s,this.s=i,this.jstar=a,this.astar=l,this.bstar=h}distance(t){const e=this.jstar-t.jstar,n=this.astar-t.astar,o=this.bstar-t.bstar,s=Math.sqrt(e*e+n*n+o*o);return 1.41*Math.pow(s,.63)}static fromInt(t){return yt.fromIntInViewingConditions(t,Wt.DEFAULT)}static fromIntInViewingConditions(t,e){const n=(t&16711680)>>16,o=(t&65280)>>8,s=t&255,i=Gt(n),a=Gt(o),l=Gt(s),h=.41233895*i+.35762064*a+.18051042*l,u=.2126*i+.7152*a+.0722*l,f=.01932141*i+.11916382*a+.95034478*l,p=.401288*h+.650173*u-.051461*f,m=-.250268*h+1.204414*u+.045854*f,b=-.002079*h+.048952*u+.953127*f,g=e.rgbD[0]*p,_=e.rgbD[1]*m,A=e.rgbD[2]*b,T=Math.pow(e.fl*Math.abs(g)/100,.42),R=Math.pow(e.fl*Math.abs(_)/100,.42),w=Math.pow(e.fl*Math.abs(A)/100,.42),v=Mt(g)*400*T/(T+27.13),P=Mt(_)*400*R/(R+27.13),y=Mt(A)*400*w/(w+27.13),S=(11*v+-12*P+y)/11,D=(v+P-2*y)/9,M=(20*v+20*P+21*y)/20,J=(40*v+20*P+y)/20,H=Math.atan2(D,S)*180/Math.PI,V=H<0?H+360:H>=360?H-360:H,X=V*Math.PI/180,tt=J*e.nbb,rt=100*Math.pow(tt/e.aw,e.c*e.z),dt=4/e.c*Math.sqrt(rt/100)*(e.aw+4)*e.fLRoot,xt=V<20.14?V+360:V,gt=.25*(Math.cos(xt*Math.PI/180+2)+3.8),Ft=5e4/13*gt*e.nc*e.ncb*Math.sqrt(S*S+D*D)/(M+.305),Ot=Math.pow(Ft,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),Ut=Ot*Math.sqrt(rt/100),xe=Ut*e.fLRoot,wr=50*Math.sqrt(Ot*e.c/(e.aw+4)),Bn=(1+100*.007)*rt/(1+.007*rt),Se=1/.0228*Math.log(1+.0228*xe),kr=Se*Math.cos(X),Pr=Se*Math.sin(X);return new yt(V,Ut,rt,dt,xe,wr,Bn,kr,Pr)}static fromJch(t,e,n){return yt.fromJchInViewingConditions(t,e,n,Wt.DEFAULT)}static fromJchInViewingConditions(t,e,n,o){const s=4/o.c*Math.sqrt(t/100)*(o.aw+4)*o.fLRoot,i=e*o.fLRoot,a=e/Math.sqrt(t/100),l=50*Math.sqrt(a*o.c/(o.aw+4)),h=n*Math.PI/180,u=(1+100*.007)*t/(1+.007*t),f=1/.0228*Math.log(1+.0228*i),p=f*Math.cos(h),m=f*Math.sin(h);return new yt(n,e,t,s,i,l,u,p,m)}static fromUcs(t,e,n){return yt.fromUcsInViewingConditions(t,e,n,Wt.DEFAULT)}static fromUcsInViewingConditions(t,e,n,o){const s=e,i=n,a=Math.sqrt(s*s+i*i),h=(Math.exp(a*.0228)-1)/.0228/o.fLRoot;let u=Math.atan2(i,s)*(180/Math.PI);u<0&&(u+=360);const f=t/(1-(t-100)*.007);return yt.fromJchInViewingConditions(f,h,u,o)}toInt(){return this.viewed(Wt.DEFAULT)}viewed(t){const e=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),n=Math.pow(e/Math.pow(1.64-Math.pow(.29,t.n),.73),1/.9),o=this.hue*Math.PI/180,s=.25*(Math.cos(o+2)+3.8),i=t.aw*Math.pow(this.j/100,1/t.c/t.z),a=s*(5e4/13)*t.nc*t.ncb,l=i/t.nbb,h=Math.sin(o),u=Math.cos(o),f=23*(l+.305)*n/(23*a+11*n*u+108*n*h),p=f*u,m=f*h,b=(460*l+451*p+288*m)/1403,g=(460*l-891*p-261*m)/1403,_=(460*l-220*p-6300*m)/1403,A=Math.max(0,27.13*Math.abs(b)/(400-Math.abs(b))),T=Mt(b)*(100/t.fl)*Math.pow(A,1/.42),R=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),w=Mt(g)*(100/t.fl)*Math.pow(R,1/.42),v=Math.max(0,27.13*Math.abs(_)/(400-Math.abs(_))),P=Mt(_)*(100/t.fl)*Math.pow(v,1/.42),y=T/t.rgbD[0],S=w/t.rgbD[1],D=P/t.rgbD[2],M=1.86206786*y-1.01125463*S+.14918677*D,J=.38752654*y+.62144744*S-.00897398*D,q=-.0158415*y-.03412294*S+1.04996444*D;return os(M,J,q)}static fromXyzInViewingConditions(t,e,n,o){const s=.401288*t+.650173*e-.051461*n,i=-.250268*t+1.204414*e+.045854*n,a=-.002079*t+.048952*e+.953127*n,l=o.rgbD[0]*s,h=o.rgbD[1]*i,u=o.rgbD[2]*a,f=Math.pow(o.fl*Math.abs(l)/100,.42),p=Math.pow(o.fl*Math.abs(h)/100,.42),m=Math.pow(o.fl*Math.abs(u)/100,.42),b=Mt(l)*400*f/(f+27.13),g=Mt(h)*400*p/(p+27.13),_=Mt(u)*400*m/(m+27.13),A=(11*b+-12*g+_)/11,T=(b+g-2*_)/9,R=(20*b+20*g+21*_)/20,w=(40*b+20*g+_)/20,P=Math.atan2(T,A)*180/Math.PI,y=P<0?P+360:P>=360?P-360:P,S=y*Math.PI/180,D=w*o.nbb,M=100*Math.pow(D/o.aw,o.c*o.z),J=4/o.c*Math.sqrt(M/100)*(o.aw+4)*o.fLRoot,q=y<20.14?y+360:y,H=1/4*(Math.cos(q*Math.PI/180+2)+3.8),X=5e4/13*H*o.nc*o.ncb*Math.sqrt(A*A+T*T)/(R+.305),tt=Math.pow(X,.9)*Math.pow(1.64-Math.pow(.29,o.n),.73),rt=tt*Math.sqrt(M/100),dt=rt*o.fLRoot,xt=50*Math.sqrt(tt*o.c/(o.aw+4)),gt=(1+100*.007)*M/(1+.007*M),St=Math.log(1+.0228*dt)/.0228,Ft=St*Math.cos(S),Ot=St*Math.sin(S);return new yt(y,rt,M,J,dt,xt,gt,Ft,Ot)}xyzInViewingConditions(t){const e=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),n=Math.pow(e/Math.pow(1.64-Math.pow(.29,t.n),.73),1/.9),o=this.hue*Math.PI/180,s=.25*(Math.cos(o+2)+3.8),i=t.aw*Math.pow(this.j/100,1/t.c/t.z),a=s*(5e4/13)*t.nc*t.ncb,l=i/t.nbb,h=Math.sin(o),u=Math.cos(o),f=23*(l+.305)*n/(23*a+11*n*u+108*n*h),p=f*u,m=f*h,b=(460*l+451*p+288*m)/1403,g=(460*l-891*p-261*m)/1403,_=(460*l-220*p-6300*m)/1403,A=Math.max(0,27.13*Math.abs(b)/(400-Math.abs(b))),T=Mt(b)*(100/t.fl)*Math.pow(A,1/.42),R=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),w=Mt(g)*(100/t.fl)*Math.pow(R,1/.42),v=Math.max(0,27.13*Math.abs(_)/(400-Math.abs(_))),P=Mt(_)*(100/t.fl)*Math.pow(v,1/.42),y=T/t.rgbD[0],S=w/t.rgbD[1],D=P/t.rgbD[2],M=1.86206786*y-1.01125463*S+.14918677*D,J=.38752654*y+.62144744*S-.00897398*D,q=-.0158415*y-.03412294*S+1.04996444*D;return[M,J,q]}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{static sanitizeRadians(t){return(t+Math.PI*8)%(Math.PI*2)}static trueDelinearized(t){const e=t/100;let n=0;return e<=.0031308?n=e*12.92:n=1.055*Math.pow(e,1/2.4)-.055,n*255}static chromaticAdaptation(t){const e=Math.pow(Math.abs(t),.42);return Mt(t)*400*e/(e+27.13)}static hueOf(t){const e=Kn(t,j.SCALED_DISCOUNT_FROM_LINRGB),n=j.chromaticAdaptation(e[0]),o=j.chromaticAdaptation(e[1]),s=j.chromaticAdaptation(e[2]),i=(11*n+-12*o+s)/11,a=(n+o-2*s)/9;return Math.atan2(a,i)}static areInCyclicOrder(t,e,n){const o=j.sanitizeRadians(e-t),s=j.sanitizeRadians(n-t);return o<s}static intercept(t,e,n){return(e-t)/(n-t)}static lerpPoint(t,e,n){return[t[0]+(n[0]-t[0])*e,t[1]+(n[1]-t[1])*e,t[2]+(n[2]-t[2])*e]}static setCoordinate(t,e,n,o){const s=j.intercept(t[o],e,n[o]);return j.lerpPoint(t,s,n)}static isBounded(t){return 0<=t&&t<=100}static nthVertex(t,e){const n=j.Y_FROM_LINRGB[0],o=j.Y_FROM_LINRGB[1],s=j.Y_FROM_LINRGB[2],i=e%4<=1?0:100,a=e%2===0?0:100;if(e<4){const l=i,h=a,u=(t-l*o-h*s)/n;return j.isBounded(u)?[u,l,h]:[-1,-1,-1]}else if(e<8){const l=i,h=a,u=(t-h*n-l*s)/o;return j.isBounded(u)?[h,u,l]:[-1,-1,-1]}else{const l=i,h=a,u=(t-l*n-h*o)/s;return j.isBounded(u)?[l,h,u]:[-1,-1,-1]}}static bisectToSegment(t,e){let n=[-1,-1,-1],o=n,s=0,i=0,a=!1,l=!0;for(let h=0;h<12;h++){const u=j.nthVertex(t,h);if(u[0]<0)continue;const f=j.hueOf(u);if(!a){n=u,o=u,s=f,i=f,a=!0;continue}(l||j.areInCyclicOrder(s,f,i))&&(l=!1,j.areInCyclicOrder(s,e,f)?(o=u,i=f):(n=u,s=f))}return[n,o]}static midpoint(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]}static criticalPlaneBelow(t){return Math.floor(t-.5)}static criticalPlaneAbove(t){return Math.ceil(t-.5)}static bisectToLimit(t,e){const n=j.bisectToSegment(t,e);let o=n[0],s=j.hueOf(o),i=n[1];for(let a=0;a<3;a++)if(o[a]!==i[a]){let l=-1,h=255;o[a]<i[a]?(l=j.criticalPlaneBelow(j.trueDelinearized(o[a])),h=j.criticalPlaneAbove(j.trueDelinearized(i[a]))):(l=j.criticalPlaneAbove(j.trueDelinearized(o[a])),h=j.criticalPlaneBelow(j.trueDelinearized(i[a])));for(let u=0;u<8&&!(Math.abs(h-l)<=1);u++){const f=Math.floor((l+h)/2),p=j.CRITICAL_PLANES[f],m=j.setCoordinate(o,p,i,a),b=j.hueOf(m);j.areInCyclicOrder(s,e,b)?(i=m,h=f):(o=m,s=b,l=f)}}return j.midpoint(o,i)}static inverseChromaticAdaptation(t){const e=Math.abs(t),n=Math.max(0,27.13*e/(400-e));return Mt(t)*Math.pow(n,1/.42)}static findResultByJ(t,e,n){let o=Math.sqrt(n)*11;const s=Wt.DEFAULT,i=1/Math.pow(1.64-Math.pow(.29,s.n),.73),l=.25*(Math.cos(t+2)+3.8)*(5e4/13)*s.nc*s.ncb,h=Math.sin(t),u=Math.cos(t);for(let f=0;f<5;f++){const p=o/100,m=e===0||o===0?0:e/Math.sqrt(p),b=Math.pow(m*i,1/.9),_=s.aw*Math.pow(p,1/s.c/s.z)/s.nbb,A=23*(_+.305)*b/(23*l+11*b*u+108*b*h),T=A*u,R=A*h,w=(460*_+451*T+288*R)/1403,v=(460*_-891*T-261*R)/1403,P=(460*_-220*T-6300*R)/1403,y=j.inverseChromaticAdaptation(w),S=j.inverseChromaticAdaptation(v),D=j.inverseChromaticAdaptation(P),M=Kn([y,S,D],j.LINRGB_FROM_SCALED_DISCOUNT);if(M[0]<0||M[1]<0||M[2]<0)return 0;const J=j.Y_FROM_LINRGB[0],q=j.Y_FROM_LINRGB[1],H=j.Y_FROM_LINRGB[2],V=J*M[0]+q*M[1]+H*M[2];if(V<=0)return 0;if(f===4||Math.abs(V-n)<.002)return M[0]>100.01||M[1]>100.01||M[2]>100.01?0:Do(M);o=o-(V-n)*o/(2*V)}return 0}static solveToInt(t,e,n){if(e<1e-4||n<1e-4||n>99.9999)return Pi(n);t=uo(t);const o=t/180*Math.PI,s=Zt(n),i=j.findResultByJ(o,e,s);if(i!==0)return i;const a=j.bisectToLimit(s,o);return Do(a)}static solveToCam(t,e,n){return yt.fromInt(j.solveToInt(t,e,n))}}j.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]];j.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]];j.Y_FROM_LINRGB=[.2126,.7152,.0722];j.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static from(t,e,n){return new bt(j.solveToInt(t,e,n))}static fromInt(t){return new bt(t)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(t){this.setInternalState(j.solveToInt(t,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(t){this.setInternalState(j.solveToInt(this.internalHue,t,this.internalTone))}get tone(){return this.internalTone}set tone(t){this.setInternalState(j.solveToInt(this.internalHue,this.internalChroma,t))}constructor(t){this.argb=t;const e=yt.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=Jn(t),this.argb=t}setInternalState(t){const e=yt.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=Jn(t),this.argb=t}inViewingConditions(t){const n=yt.fromInt(this.toInt()).xyzInViewingConditions(t),o=yt.fromXyzInViewingConditions(n[0],n[1],n[2],Wt.make());return bt.from(o.hue,o.chroma,Qn(n[1]))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static harmonize(t,e){const n=bt.fromInt(t),o=bt.fromInt(e),s=rs(n.hue,o.hue),i=Math.min(s*.5,15),a=uo(n.hue+i*gi(n.hue,o.hue));return bt.from(a,n.chroma,n.tone).toInt()}static hctHue(t,e,n){const o=go.cam16Ucs(t,e,n),s=yt.fromInt(o),i=yt.fromInt(t);return bt.from(s.hue,i.chroma,Jn(t)).toInt()}static cam16Ucs(t,e,n){const o=yt.fromInt(t),s=yt.fromInt(e),i=o.jstar,a=o.astar,l=o.bstar,h=s.jstar,u=s.astar,f=s.bstar,p=i+(h-i)*n,m=a+(u-a)*n,b=l+(f-l)*n;return yt.fromUcs(p,m,b).toInt()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static ratioOfTones(t,e){return t=Ir(0,100,t),e=Ir(0,100,e),vt.ratioOfYs(Zt(t),Zt(e))}static ratioOfYs(t,e){const n=t>e?t:e,o=n===e?t:e;return(n+5)/(o+5)}static lighter(t,e){if(t<0||t>100)return-1;const n=Zt(t),o=e*(n+5)-5,s=vt.ratioOfYs(o,n),i=Math.abs(s-e);if(s<e&&i>.04)return-1;const a=Qn(o)+.4;return a<0||a>100?-1:a}static darker(t,e){if(t<0||t>100)return-1;const n=Zt(t),o=(n+5)/e-5,s=vt.ratioOfYs(n,o),i=Math.abs(s-e);if(s<e&&i>.04)return-1;const a=Qn(o)-.4;return a<0||a>100?-1:a}static lighterUnsafe(t,e){const n=vt.lighter(t,e);return n<0?100:n}static darkerUnsafe(t,e){const n=vt.darker(t,e);return n<0?0:n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static isDisliked(t){const e=Math.round(t.hue)>=90&&Math.round(t.hue)<=111,n=Math.round(t.chroma)>16,o=Math.round(t.tone)<65;return e&&n&&o}static fixIfDisliked(t){return bo.isDisliked(t)?bt.from(t.hue,t.chroma,70):t}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{static fromPalette(t){return new N(t.name??"",t.palette,t.tone,t.isBackground??!1,t.background,t.secondBackground,t.contrastCurve,t.toneDeltaPair)}constructor(t,e,n,o,s,i,a,l){if(this.name=t,this.palette=e,this.tone=n,this.isBackground=o,this.background=s,this.secondBackground=i,this.contrastCurve=a,this.toneDeltaPair=l,this.hctCache=new Map,!s&&i)throw new Error(`Color ${t} has secondBackgrounddefined, but background is not defined.`);if(!s&&a)throw new Error(`Color ${t} has contrastCurvedefined, but background is not defined.`);if(s&&!a)throw new Error(`Color ${t} has backgrounddefined, but contrastCurve is not defined.`)}getArgb(t){return this.getHct(t).toInt()}getHct(t){const e=this.hctCache.get(t);if(e!=null)return e;const n=this.getTone(t),o=this.palette(t).getHct(n);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(t,o),o}getTone(t){const e=t.contrastLevel<0;if(this.toneDeltaPair){const n=this.toneDeltaPair(t),o=n.roleA,s=n.roleB,i=n.delta,a=n.polarity,l=n.stayTogether,u=this.background(t).getTone(t),f=a==="nearer"||a==="lighter"&&!t.isDark||a==="darker"&&t.isDark,p=f?o:s,m=f?s:o,b=this.name===p.name,g=t.isDark?1:-1,_=p.contrastCurve.get(t.contrastLevel),A=m.contrastCurve.get(t.contrastLevel),T=p.tone(t);let R=vt.ratioOfTones(u,T)>=_?T:N.foregroundTone(u,_);const w=m.tone(t);let v=vt.ratioOfTones(u,w)>=A?w:N.foregroundTone(u,A);return e&&(R=N.foregroundTone(u,_),v=N.foregroundTone(u,A)),(v-R)*g>=i||(v=Ir(0,100,R+i*g),(v-R)*g>=i||(R=Ir(0,100,v-i*g))),50<=R&&R<60?g>0?(R=60,v=Math.max(v,R+i*g)):(R=49,v=Math.min(v,R+i*g)):50<=v&&v<60&&(l?g>0?(R=60,v=Math.max(v,R+i*g)):(R=49,v=Math.min(v,R+i*g)):g>0?v=60:v=49),b?R:v}else{let n=this.tone(t);if(this.background==null)return n;const o=this.background(t).getTone(t),s=this.contrastCurve.get(t.contrastLevel);if(vt.ratioOfTones(o,n)>=s||(n=N.foregroundTone(o,s)),e&&(n=N.foregroundTone(o,s)),this.isBackground&&50<=n&&n<60&&(vt.ratioOfTones(49,o)>=s?n=49:n=60),this.secondBackground){const[i,a]=[this.background,this.secondBackground],[l,h]=[i(t).getTone(t),a(t).getTone(t)],[u,f]=[Math.max(l,h),Math.min(l,h)];if(vt.ratioOfTones(u,n)>=s&&vt.ratioOfTones(f,n)>=s)return n;const p=vt.lighter(u,s),m=vt.darker(f,s),b=[];return p!==-1&&b.push(p),m!==-1&&b.push(m),N.tonePrefersLightForeground(l)||N.tonePrefersLightForeground(h)?p<0?100:p:b.length===1?b[0]:m<0?0:m}return n}}static foregroundTone(t,e){const n=vt.lighterUnsafe(t,e),o=vt.darkerUnsafe(t,e),s=vt.ratioOfTones(n,t),i=vt.ratioOfTones(o,t);if(N.tonePrefersLightForeground(t)){const l=Math.abs(s-i)<.1&&s<e&&i<e;return s>=e||s>=i||l?n:o}else return i>=e||i>=s?o:n}static tonePrefersLightForeground(t){return Math.round(t)<60}static toneAllowsLightForeground(t){return Math.round(t)<=49}static enableLightForeground(t){return N.tonePrefersLightForeground(t)&&!N.toneAllowsLightForeground(t)?49:t}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromInt(t){const e=bt.fromInt(t);return At.fromHct(e)}static fromHct(t){return new At(t.hue,t.chroma,t)}static fromHueAndChroma(t,e){const n=new xi(t,e).create();return new At(t,e,n)}constructor(t,e,n){this.hue=t,this.chroma=e,this.keyColor=n,this.cache=new Map}tone(t){let e=this.cache.get(t);return e===void 0&&(e=bt.from(this.hue,this.chroma,t).toInt(),this.cache.set(t,e)),e}getHct(t){return bt.fromInt(this.tone(t))}}class xi{constructor(t,e){this.hue=t,this.requestedChroma=e,this.chromaCache=new Map,this.maxChromaValue=200}create(){let o=0,s=100;for(;o<s;){const i=Math.floor((o+s)/2),a=this.maxChroma(i)<this.maxChroma(i+1);if(this.maxChroma(i)>=this.requestedChroma-.01)if(Math.abs(o-50)<Math.abs(s-50))s=i;else{if(o===i)return bt.from(this.hue,this.requestedChroma,o);o=i}else a?o=i+1:s=i}return bt.from(this.hue,this.requestedChroma,o)}maxChroma(t){if(this.chromaCache.has(t))return this.chromaCache.get(t);const e=bt.from(this.hue,this.maxChromaValue,t).chroma;return this.chromaCache.set(t,e),e}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t,e,n,o){this.low=t,this.normal=e,this.medium=n,this.high=o}get(t){return t<=-1?this.low:t<0?Ie(this.low,this.normal,(t- -1)/1):t<.5?Ie(this.normal,this.medium,(t-0)/.5):t<1?Ie(this.medium,this.high,(t-.5)/.5):this.high}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,e,n,o,s){this.roleA=t,this.roleB=e,this.delta=n,this.polarity=o,this.stayTogether=s}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.MONOCHROME=0]="MONOCHROME",r[r.NEUTRAL=1]="NEUTRAL",r[r.TONAL_SPOT=2]="TONAL_SPOT",r[r.VIBRANT=3]="VIBRANT",r[r.EXPRESSIVE=4]="EXPRESSIVE",r[r.FIDELITY=5]="FIDELITY",r[r.CONTENT=6]="CONTENT",r[r.RAINBOW=7]="RAINBOW",r[r.FRUIT_SALAD=8]="FRUIT_SALAD"})(Fe||(Fe={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r){return r.variant===Fe.FIDELITY||r.variant===Fe.CONTENT}function pt(r){return r.variant===Fe.MONOCHROME}function Si(r,t,e,n){let o=e,s=bt.from(r,t,e);if(s.chroma<t){let i=s.chroma;for(;s.chroma<t;){o+=n?-1:1;const a=bt.from(r,t,o);if(i>a.chroma||Math.abs(a.chroma-t)<.4)break;const l=Math.abs(a.chroma-t),h=Math.abs(s.chroma-t);l<h&&(s=a),i=Math.max(i,a.chroma)}}return o}class k{static highestSurface(t){return t.isDark?k.surfaceBright:k.surfaceDim}}k.contentAccentToneDelta=15;k.primaryPaletteKeyColor=N.fromPalette({name:"primary_palette_key_color",palette:r=>r.primaryPalette,tone:r=>r.primaryPalette.keyColor.tone});k.secondaryPaletteKeyColor=N.fromPalette({name:"secondary_palette_key_color",palette:r=>r.secondaryPalette,tone:r=>r.secondaryPalette.keyColor.tone});k.tertiaryPaletteKeyColor=N.fromPalette({name:"tertiary_palette_key_color",palette:r=>r.tertiaryPalette,tone:r=>r.tertiaryPalette.keyColor.tone});k.neutralPaletteKeyColor=N.fromPalette({name:"neutral_palette_key_color",palette:r=>r.neutralPalette,tone:r=>r.neutralPalette.keyColor.tone});k.neutralVariantPaletteKeyColor=N.fromPalette({name:"neutral_variant_palette_key_color",palette:r=>r.neutralVariantPalette,tone:r=>r.neutralVariantPalette.keyColor.tone});k.background=N.fromPalette({name:"background",palette:r=>r.neutralPalette,tone:r=>r.isDark?6:98,isBackground:!0});k.onBackground=N.fromPalette({name:"on_background",palette:r=>r.neutralPalette,tone:r=>r.isDark?90:10,background:r=>k.background,contrastCurve:new G(3,3,4.5,7)});k.surface=N.fromPalette({name:"surface",palette:r=>r.neutralPalette,tone:r=>r.isDark?6:98,isBackground:!0});k.surfaceDim=N.fromPalette({name:"surface_dim",palette:r=>r.neutralPalette,tone:r=>r.isDark?6:new G(87,87,80,75).get(r.contrastLevel),isBackground:!0});k.surfaceBright=N.fromPalette({name:"surface_bright",palette:r=>r.neutralPalette,tone:r=>r.isDark?new G(24,24,29,34).get(r.contrastLevel):98,isBackground:!0});k.surfaceContainerLowest=N.fromPalette({name:"surface_container_lowest",palette:r=>r.neutralPalette,tone:r=>r.isDark?new G(4,4,2,0).get(r.contrastLevel):100,isBackground:!0});k.surfaceContainerLow=N.fromPalette({name:"surface_container_low",palette:r=>r.neutralPalette,tone:r=>r.isDark?new G(10,10,11,12).get(r.contrastLevel):new G(96,96,96,95).get(r.contrastLevel),isBackground:!0});k.surfaceContainer=N.fromPalette({name:"surface_container",palette:r=>r.neutralPalette,tone:r=>r.isDark?new G(12,12,16,20).get(r.contrastLevel):new G(94,94,92,90).get(r.contrastLevel),isBackground:!0});k.surfaceContainerHigh=N.fromPalette({name:"surface_container_high",palette:r=>r.neutralPalette,tone:r=>r.isDark?new G(17,17,21,25).get(r.contrastLevel):new G(92,92,88,85).get(r.contrastLevel),isBackground:!0});k.surfaceContainerHighest=N.fromPalette({name:"surface_container_highest",palette:r=>r.neutralPalette,tone:r=>r.isDark?new G(22,22,26,30).get(r.contrastLevel):new G(90,90,84,80).get(r.contrastLevel),isBackground:!0});k.onSurface=N.fromPalette({name:"on_surface",palette:r=>r.neutralPalette,tone:r=>r.isDark?90:10,background:r=>k.highestSurface(r),contrastCurve:new G(4.5,7,11,21)});k.surfaceVariant=N.fromPalette({name:"surface_variant",palette:r=>r.neutralVariantPalette,tone:r=>r.isDark?30:90,isBackground:!0});k.onSurfaceVariant=N.fromPalette({name:"on_surface_variant",palette:r=>r.neutralVariantPalette,tone:r=>r.isDark?80:30,background:r=>k.highestSurface(r),contrastCurve:new G(3,4.5,7,11)});k.inverseSurface=N.fromPalette({name:"inverse_surface",palette:r=>r.neutralPalette,tone:r=>r.isDark?90:20});k.inverseOnSurface=N.fromPalette({name:"inverse_on_surface",palette:r=>r.neutralPalette,tone:r=>r.isDark?20:95,background:r=>k.inverseSurface,contrastCurve:new G(4.5,7,11,21)});k.outline=N.fromPalette({name:"outline",palette:r=>r.neutralVariantPalette,tone:r=>r.isDark?60:50,background:r=>k.highestSurface(r),contrastCurve:new G(1.5,3,4.5,7)});k.outlineVariant=N.fromPalette({name:"outline_variant",palette:r=>r.neutralVariantPalette,tone:r=>r.isDark?30:80,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5)});k.shadow=N.fromPalette({name:"shadow",palette:r=>r.neutralPalette,tone:r=>0});k.scrim=N.fromPalette({name:"scrim",palette:r=>r.neutralPalette,tone:r=>0});k.surfaceTint=N.fromPalette({name:"surface_tint",palette:r=>r.primaryPalette,tone:r=>r.isDark?80:40,isBackground:!0});k.primary=N.fromPalette({name:"primary",palette:r=>r.primaryPalette,tone:r=>pt(r)?r.isDark?100:0:r.isDark?80:40,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(3,4.5,7,7),toneDeltaPair:r=>new Dt(k.primaryContainer,k.primary,10,"nearer",!1)});k.onPrimary=N.fromPalette({name:"on_primary",palette:r=>r.primaryPalette,tone:r=>pt(r)?r.isDark?10:90:r.isDark?20:100,background:r=>k.primary,contrastCurve:new G(4.5,7,11,21)});k.primaryContainer=N.fromPalette({name:"primary_container",palette:r=>r.primaryPalette,tone:r=>_e(r)?r.sourceColorHct.tone:pt(r)?r.isDark?85:25:r.isDark?30:90,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.primaryContainer,k.primary,10,"nearer",!1)});k.onPrimaryContainer=N.fromPalette({name:"on_primary_container",palette:r=>r.primaryPalette,tone:r=>_e(r)?N.foregroundTone(k.primaryContainer.tone(r),4.5):pt(r)?r.isDark?0:100:r.isDark?90:30,background:r=>k.primaryContainer,contrastCurve:new G(3,4.5,7,11)});k.inversePrimary=N.fromPalette({name:"inverse_primary",palette:r=>r.primaryPalette,tone:r=>r.isDark?40:80,background:r=>k.inverseSurface,contrastCurve:new G(3,4.5,7,7)});k.secondary=N.fromPalette({name:"secondary",palette:r=>r.secondaryPalette,tone:r=>r.isDark?80:40,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(3,4.5,7,7),toneDeltaPair:r=>new Dt(k.secondaryContainer,k.secondary,10,"nearer",!1)});k.onSecondary=N.fromPalette({name:"on_secondary",palette:r=>r.secondaryPalette,tone:r=>pt(r)?r.isDark?10:100:r.isDark?20:100,background:r=>k.secondary,contrastCurve:new G(4.5,7,11,21)});k.secondaryContainer=N.fromPalette({name:"secondary_container",palette:r=>r.secondaryPalette,tone:r=>{const t=r.isDark?30:90;return pt(r)?r.isDark?30:85:_e(r)?Si(r.secondaryPalette.hue,r.secondaryPalette.chroma,t,!r.isDark):t},isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.secondaryContainer,k.secondary,10,"nearer",!1)});k.onSecondaryContainer=N.fromPalette({name:"on_secondary_container",palette:r=>r.secondaryPalette,tone:r=>pt(r)?r.isDark?90:10:_e(r)?N.foregroundTone(k.secondaryContainer.tone(r),4.5):r.isDark?90:30,background:r=>k.secondaryContainer,contrastCurve:new G(3,4.5,7,11)});k.tertiary=N.fromPalette({name:"tertiary",palette:r=>r.tertiaryPalette,tone:r=>pt(r)?r.isDark?90:25:r.isDark?80:40,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(3,4.5,7,7),toneDeltaPair:r=>new Dt(k.tertiaryContainer,k.tertiary,10,"nearer",!1)});k.onTertiary=N.fromPalette({name:"on_tertiary",palette:r=>r.tertiaryPalette,tone:r=>pt(r)?r.isDark?10:90:r.isDark?20:100,background:r=>k.tertiary,contrastCurve:new G(4.5,7,11,21)});k.tertiaryContainer=N.fromPalette({name:"tertiary_container",palette:r=>r.tertiaryPalette,tone:r=>{if(pt(r))return r.isDark?60:49;if(!_e(r))return r.isDark?30:90;const t=r.tertiaryPalette.getHct(r.sourceColorHct.tone);return bo.fixIfDisliked(t).tone},isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.tertiaryContainer,k.tertiary,10,"nearer",!1)});k.onTertiaryContainer=N.fromPalette({name:"on_tertiary_container",palette:r=>r.tertiaryPalette,tone:r=>pt(r)?r.isDark?0:100:_e(r)?N.foregroundTone(k.tertiaryContainer.tone(r),4.5):r.isDark?90:30,background:r=>k.tertiaryContainer,contrastCurve:new G(3,4.5,7,11)});k.error=N.fromPalette({name:"error",palette:r=>r.errorPalette,tone:r=>r.isDark?80:40,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(3,4.5,7,7),toneDeltaPair:r=>new Dt(k.errorContainer,k.error,10,"nearer",!1)});k.onError=N.fromPalette({name:"on_error",palette:r=>r.errorPalette,tone:r=>r.isDark?20:100,background:r=>k.error,contrastCurve:new G(4.5,7,11,21)});k.errorContainer=N.fromPalette({name:"error_container",palette:r=>r.errorPalette,tone:r=>r.isDark?30:90,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.errorContainer,k.error,10,"nearer",!1)});k.onErrorContainer=N.fromPalette({name:"on_error_container",palette:r=>r.errorPalette,tone:r=>pt(r)?r.isDark?90:10:r.isDark?90:30,background:r=>k.errorContainer,contrastCurve:new G(3,4.5,7,11)});k.primaryFixed=N.fromPalette({name:"primary_fixed",palette:r=>r.primaryPalette,tone:r=>pt(r)?40:90,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.primaryFixed,k.primaryFixedDim,10,"lighter",!0)});k.primaryFixedDim=N.fromPalette({name:"primary_fixed_dim",palette:r=>r.primaryPalette,tone:r=>pt(r)?30:80,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.primaryFixed,k.primaryFixedDim,10,"lighter",!0)});k.onPrimaryFixed=N.fromPalette({name:"on_primary_fixed",palette:r=>r.primaryPalette,tone:r=>pt(r)?100:10,background:r=>k.primaryFixedDim,secondBackground:r=>k.primaryFixed,contrastCurve:new G(4.5,7,11,21)});k.onPrimaryFixedVariant=N.fromPalette({name:"on_primary_fixed_variant",palette:r=>r.primaryPalette,tone:r=>pt(r)?90:30,background:r=>k.primaryFixedDim,secondBackground:r=>k.primaryFixed,contrastCurve:new G(3,4.5,7,11)});k.secondaryFixed=N.fromPalette({name:"secondary_fixed",palette:r=>r.secondaryPalette,tone:r=>pt(r)?80:90,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.secondaryFixed,k.secondaryFixedDim,10,"lighter",!0)});k.secondaryFixedDim=N.fromPalette({name:"secondary_fixed_dim",palette:r=>r.secondaryPalette,tone:r=>pt(r)?70:80,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.secondaryFixed,k.secondaryFixedDim,10,"lighter",!0)});k.onSecondaryFixed=N.fromPalette({name:"on_secondary_fixed",palette:r=>r.secondaryPalette,tone:r=>10,background:r=>k.secondaryFixedDim,secondBackground:r=>k.secondaryFixed,contrastCurve:new G(4.5,7,11,21)});k.onSecondaryFixedVariant=N.fromPalette({name:"on_secondary_fixed_variant",palette:r=>r.secondaryPalette,tone:r=>pt(r)?25:30,background:r=>k.secondaryFixedDim,secondBackground:r=>k.secondaryFixed,contrastCurve:new G(3,4.5,7,11)});k.tertiaryFixed=N.fromPalette({name:"tertiary_fixed",palette:r=>r.tertiaryPalette,tone:r=>pt(r)?40:90,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.tertiaryFixed,k.tertiaryFixedDim,10,"lighter",!0)});k.tertiaryFixedDim=N.fromPalette({name:"tertiary_fixed_dim",palette:r=>r.tertiaryPalette,tone:r=>pt(r)?30:80,isBackground:!0,background:r=>k.highestSurface(r),contrastCurve:new G(1,1,3,4.5),toneDeltaPair:r=>new Dt(k.tertiaryFixed,k.tertiaryFixedDim,10,"lighter",!0)});k.onTertiaryFixed=N.fromPalette({name:"on_tertiary_fixed",palette:r=>r.tertiaryPalette,tone:r=>pt(r)?100:10,background:r=>k.tertiaryFixedDim,secondBackground:r=>k.tertiaryFixed,contrastCurve:new G(4.5,7,11,21)});k.onTertiaryFixedVariant=N.fromPalette({name:"on_tertiary_fixed_variant",palette:r=>r.tertiaryPalette,tone:r=>pt(r)?90:30,background:r=>k.tertiaryFixedDim,secondBackground:r=>k.tertiaryFixed,contrastCurve:new G(3,4.5,7,11)});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static of(t){return new Pt(t,!1)}static contentOf(t){return new Pt(t,!0)}static fromColors(t){return Pt.createPaletteFromColors(!1,t)}static contentFromColors(t){return Pt.createPaletteFromColors(!0,t)}static createPaletteFromColors(t,e){const n=new Pt(e.primary,t);if(e.secondary){const o=new Pt(e.secondary,t);n.a2=o.a1}if(e.tertiary){const o=new Pt(e.tertiary,t);n.a3=o.a1}if(e.error){const o=new Pt(e.error,t);n.error=o.a1}if(e.neutral){const o=new Pt(e.neutral,t);n.n1=o.n1}if(e.neutralVariant){const o=new Pt(e.neutralVariant,t);n.n2=o.n2}return n}constructor(t,e){const n=bt.fromInt(t),o=n.hue,s=n.chroma;e?(this.a1=At.fromHueAndChroma(o,s),this.a2=At.fromHueAndChroma(o,s/3),this.a3=At.fromHueAndChroma(o+60,s/2),this.n1=At.fromHueAndChroma(o,Math.min(s/12,4)),this.n2=At.fromHueAndChroma(o,Math.min(s/6,8))):(this.a1=At.fromHueAndChroma(o,Math.max(48,s)),this.a2=At.fromHueAndChroma(o,16),this.a3=At.fromHueAndChroma(o+60,24),this.n1=At.fromHueAndChroma(o,4),this.n2=At.fromHueAndChroma(o,8)),this.error=At.fromHueAndChroma(25,84)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{fromInt(t){return ki(t)}toInt(t){return wi(t[0],t[1],t[2])}distance(t,e){const n=t[0]-e[0],o=t[1]-e[1],s=t[2]-e[2];return n*n+o*o+s*s}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=10,Ai=3;class Ri{static quantize(t,e,n){const o=new Map,s=new Array,i=new Array,a=new Ti;let l=0;for(let T=0;T<t.length;T++){const R=t[T],w=o.get(R);w===void 0?(l++,s.push(a.fromInt(R)),i.push(R),o.set(R,1)):o.set(R,w+1)}const h=new Array;for(let T=0;T<l;T++){const R=i[T],w=o.get(R);w!==void 0&&(h[T]=w)}let u=Math.min(n,l);e.length>0&&(u=Math.min(u,e.length));const f=new Array;for(let T=0;T<e.length;T++)f.push(a.fromInt(e[T]));const p=u-f.length;if(e.length===0&&p>0)for(let T=0;T<p;T++){const R=Math.random()*100,w=Math.random()*201+-100,v=Math.random()*201+-100;f.push(new Array(R,w,v))}const m=new Array;for(let T=0;T<l;T++)m.push(Math.floor(Math.random()*u));const b=new Array;for(let T=0;T<u;T++){b.push(new Array);for(let R=0;R<u;R++)b[T].push(0)}const g=new Array;for(let T=0;T<u;T++){g.push(new Array);for(let R=0;R<u;R++)g[T].push(new Mi)}const _=new Array;for(let T=0;T<u;T++)_.push(0);for(let T=0;T<Ci;T++){for(let y=0;y<u;y++){for(let S=y+1;S<u;S++){const D=a.distance(f[y],f[S]);g[S][y].distance=D,g[S][y].index=y,g[y][S].distance=D,g[y][S].index=S}g[y].sort();for(let S=0;S<u;S++)b[y][S]=g[y][S].index}let R=0;for(let y=0;y<l;y++){const S=s[y],D=m[y],M=f[D],J=a.distance(S,M);let q=J,H=-1;for(let V=0;V<u;V++){if(g[D][V].distance>=4*J)continue;const X=a.distance(S,f[V]);X<q&&(q=X,H=V)}H!==-1&&Math.abs(Math.sqrt(q)-Math.sqrt(J))>Ai&&(R++,m[y]=H)}if(R===0&&T!==0)break;const w=new Array(u).fill(0),v=new Array(u).fill(0),P=new Array(u).fill(0);for(let y=0;y<u;y++)_[y]=0;for(let y=0;y<l;y++){const S=m[y],D=s[y],M=h[y];_[S]+=M,w[S]+=D[0]*M,v[S]+=D[1]*M,P[S]+=D[2]*M}for(let y=0;y<u;y++){const S=_[y];if(S===0){f[y]=[0,0,0];continue}const D=w[y]/S,M=v[y]/S,J=P[y]/S;f[y]=[D,M,J]}}const A=new Map;for(let T=0;T<u;T++){const R=_[T];if(R===0)continue;const w=a.toInt(f[T]);A.has(w)||A.set(w,R)}return A}}class Mi{constructor(){this.distance=-1,this.index=-1}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{static quantize(t){const e=new Map;for(let n=0;n<t.length;n++){const o=t[n];vi(o)<255||e.set(o,(e.get(o)??0)+1)}return e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=5,Nt=33,Re=35937,Tt={RED:"red",GREEN:"green",BLUE:"blue"};class Di{constructor(t=[],e=[],n=[],o=[],s=[],i=[]){this.weights=t,this.momentsR=e,this.momentsG=n,this.momentsB=o,this.moments=s,this.cubes=i}quantize(t,e){this.constructHistogram(t),this.computeMoments();const n=this.createBoxes(e);return this.createResult(n.resultCount)}constructHistogram(t){this.weights=Array.from({length:Re}).fill(0),this.momentsR=Array.from({length:Re}).fill(0),this.momentsG=Array.from({length:Re}).fill(0),this.momentsB=Array.from({length:Re}).fill(0),this.moments=Array.from({length:Re}).fill(0);const e=Ii.quantize(t);for(const[n,o]of e.entries()){const s=fo(n),i=po(n),a=mo(n),l=8-xr,h=(s>>l)+1,u=(i>>l)+1,f=(a>>l)+1,p=this.getIndex(h,u,f);this.weights[p]=(this.weights[p]??0)+o,this.momentsR[p]+=o*s,this.momentsG[p]+=o*i,this.momentsB[p]+=o*a,this.moments[p]+=o*(s*s+i*i+a*a)}}computeMoments(){for(let t=1;t<Nt;t++){const e=Array.from({length:Nt}).fill(0),n=Array.from({length:Nt}).fill(0),o=Array.from({length:Nt}).fill(0),s=Array.from({length:Nt}).fill(0),i=Array.from({length:Nt}).fill(0);for(let a=1;a<Nt;a++){let l=0,h=0,u=0,f=0,p=0;for(let m=1;m<Nt;m++){const b=this.getIndex(t,a,m);l+=this.weights[b],h+=this.momentsR[b],u+=this.momentsG[b],f+=this.momentsB[b],p+=this.moments[b],e[m]+=l,n[m]+=h,o[m]+=u,s[m]+=f,i[m]+=p;const g=this.getIndex(t-1,a,m);this.weights[b]=this.weights[g]+e[m],this.momentsR[b]=this.momentsR[g]+n[m],this.momentsG[b]=this.momentsG[g]+o[m],this.momentsB[b]=this.momentsB[g]+s[m],this.moments[b]=this.moments[g]+i[m]}}}}createBoxes(t){this.cubes=Array.from({length:t}).fill(0).map(()=>new Ei);const e=Array.from({length:t}).fill(0);this.cubes[0].r0=0,this.cubes[0].g0=0,this.cubes[0].b0=0,this.cubes[0].r1=Nt-1,this.cubes[0].g1=Nt-1,this.cubes[0].b1=Nt-1;let n=t,o=0;for(let s=1;s<t;s++){this.cut(this.cubes[o],this.cubes[s])?(e[o]=this.cubes[o].vol>1?this.variance(this.cubes[o]):0,e[s]=this.cubes[s].vol>1?this.variance(this.cubes[s]):0):(e[o]=0,s--),o=0;let i=e[0];for(let a=1;a<=s;a++)e[a]>i&&(i=e[a],o=a);if(i<=0){n=s+1;break}}return new Li(t,n)}createResult(t){const e=[];for(let n=0;n<t;++n){const o=this.cubes[n],s=this.volume(o,this.weights);if(s>0){const i=Math.round(this.volume(o,this.momentsR)/s),a=Math.round(this.volume(o,this.momentsG)/s),l=Math.round(this.volume(o,this.momentsB)/s),h=255<<24|(i&255)<<16|(a&255)<<8|l&255;e.push(h)}}return e}variance(t){const e=this.volume(t,this.momentsR),n=this.volume(t,this.momentsG),o=this.volume(t,this.momentsB),s=this.moments[this.getIndex(t.r1,t.g1,t.b1)]-this.moments[this.getIndex(t.r1,t.g1,t.b0)]-this.moments[this.getIndex(t.r1,t.g0,t.b1)]+this.moments[this.getIndex(t.r1,t.g0,t.b0)]-this.moments[this.getIndex(t.r0,t.g1,t.b1)]+this.moments[this.getIndex(t.r0,t.g1,t.b0)]+this.moments[this.getIndex(t.r0,t.g0,t.b1)]-this.moments[this.getIndex(t.r0,t.g0,t.b0)],i=e*e+n*n+o*o,a=this.volume(t,this.weights);return s-i/a}cut(t,e){const n=this.volume(t,this.momentsR),o=this.volume(t,this.momentsG),s=this.volume(t,this.momentsB),i=this.volume(t,this.weights),a=this.maximize(t,Tt.RED,t.r0+1,t.r1,n,o,s,i),l=this.maximize(t,Tt.GREEN,t.g0+1,t.g1,n,o,s,i),h=this.maximize(t,Tt.BLUE,t.b0+1,t.b1,n,o,s,i);let u;const f=a.maximum,p=l.maximum,m=h.maximum;if(f>=p&&f>=m){if(a.cutLocation<0)return!1;u=Tt.RED}else p>=f&&p>=m?u=Tt.GREEN:u=Tt.BLUE;switch(e.r1=t.r1,e.g1=t.g1,e.b1=t.b1,u){case Tt.RED:t.r1=a.cutLocation,e.r0=t.r1,e.g0=t.g0,e.b0=t.b0;break;case Tt.GREEN:t.g1=l.cutLocation,e.r0=t.r0,e.g0=t.g1,e.b0=t.b0;break;case Tt.BLUE:t.b1=h.cutLocation,e.r0=t.r0,e.g0=t.g0,e.b0=t.b1;break;default:throw new Error("unexpected direction "+u)}return t.vol=(t.r1-t.r0)*(t.g1-t.g0)*(t.b1-t.b0),e.vol=(e.r1-e.r0)*(e.g1-e.g0)*(e.b1-e.b0),!0}maximize(t,e,n,o,s,i,a,l){const h=this.bottom(t,e,this.momentsR),u=this.bottom(t,e,this.momentsG),f=this.bottom(t,e,this.momentsB),p=this.bottom(t,e,this.weights);let m=0,b=-1,g=0,_=0,A=0,T=0;for(let R=n;R<o;R++){if(g=h+this.top(t,e,R,this.momentsR),_=u+this.top(t,e,R,this.momentsG),A=f+this.top(t,e,R,this.momentsB),T=p+this.top(t,e,R,this.weights),T===0)continue;let w=(g*g+_*_+A*A)*1,v=T*1,P=w/v;g=s-g,_=i-_,A=a-A,T=l-T,T!==0&&(w=(g*g+_*_+A*A)*1,v=T*1,P+=w/v,P>m&&(m=P,b=R))}return new Oi(b,m)}volume(t,e){return e[this.getIndex(t.r1,t.g1,t.b1)]-e[this.getIndex(t.r1,t.g1,t.b0)]-e[this.getIndex(t.r1,t.g0,t.b1)]+e[this.getIndex(t.r1,t.g0,t.b0)]-e[this.getIndex(t.r0,t.g1,t.b1)]+e[this.getIndex(t.r0,t.g1,t.b0)]+e[this.getIndex(t.r0,t.g0,t.b1)]-e[this.getIndex(t.r0,t.g0,t.b0)]}bottom(t,e,n){switch(e){case Tt.RED:return-n[this.getIndex(t.r0,t.g1,t.b1)]+n[this.getIndex(t.r0,t.g1,t.b0)]+n[this.getIndex(t.r0,t.g0,t.b1)]-n[this.getIndex(t.r0,t.g0,t.b0)];case Tt.GREEN:return-n[this.getIndex(t.r1,t.g0,t.b1)]+n[this.getIndex(t.r1,t.g0,t.b0)]+n[this.getIndex(t.r0,t.g0,t.b1)]-n[this.getIndex(t.r0,t.g0,t.b0)];case Tt.BLUE:return-n[this.getIndex(t.r1,t.g1,t.b0)]+n[this.getIndex(t.r1,t.g0,t.b0)]+n[this.getIndex(t.r0,t.g1,t.b0)]-n[this.getIndex(t.r0,t.g0,t.b0)];default:throw new Error("unexpected direction $direction")}}top(t,e,n,o){switch(e){case Tt.RED:return o[this.getIndex(n,t.g1,t.b1)]-o[this.getIndex(n,t.g1,t.b0)]-o[this.getIndex(n,t.g0,t.b1)]+o[this.getIndex(n,t.g0,t.b0)];case Tt.GREEN:return o[this.getIndex(t.r1,n,t.b1)]-o[this.getIndex(t.r1,n,t.b0)]-o[this.getIndex(t.r0,n,t.b1)]+o[this.getIndex(t.r0,n,t.b0)];case Tt.BLUE:return o[this.getIndex(t.r1,t.g1,n)]-o[this.getIndex(t.r1,t.g0,n)]-o[this.getIndex(t.r0,t.g1,n)]+o[this.getIndex(t.r0,t.g0,n)];default:throw new Error("unexpected direction $direction")}}getIndex(t,e,n){return(t<<xr*2)+(t<<xr+1)+t+(e<<xr)+e+n}}class Ei{constructor(t=0,e=0,n=0,o=0,s=0,i=0,a=0){this.r0=t,this.r1=e,this.g0=n,this.g1=o,this.b0=s,this.b1=i,this.vol=a}}class Li{constructor(t,e){this.requestedCount=t,this.resultCount=e}}class Oi{constructor(t,e){this.cutLocation=t,this.maximum=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{static quantize(t,e){const o=new Di().quantize(t,e);return Ri.quantize(t,o,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(t){return jt.lightFromCorePalette(Pt.of(t))}static dark(t){return jt.darkFromCorePalette(Pt.of(t))}static lightContent(t){return jt.lightFromCorePalette(Pt.contentOf(t))}static darkContent(t){return jt.darkFromCorePalette(Pt.contentOf(t))}static lightFromCorePalette(t){return new jt({primary:t.a1.tone(40),onPrimary:t.a1.tone(100),primaryContainer:t.a1.tone(90),onPrimaryContainer:t.a1.tone(10),secondary:t.a2.tone(40),onSecondary:t.a2.tone(100),secondaryContainer:t.a2.tone(90),onSecondaryContainer:t.a2.tone(10),tertiary:t.a3.tone(40),onTertiary:t.a3.tone(100),tertiaryContainer:t.a3.tone(90),onTertiaryContainer:t.a3.tone(10),error:t.error.tone(40),onError:t.error.tone(100),errorContainer:t.error.tone(90),onErrorContainer:t.error.tone(10),background:t.n1.tone(99),onBackground:t.n1.tone(10),surface:t.n1.tone(99),onSurface:t.n1.tone(10),surfaceVariant:t.n2.tone(90),onSurfaceVariant:t.n2.tone(30),outline:t.n2.tone(50),outlineVariant:t.n2.tone(80),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(20),inverseOnSurface:t.n1.tone(95),inversePrimary:t.a1.tone(80)})}static darkFromCorePalette(t){return new jt({primary:t.a1.tone(80),onPrimary:t.a1.tone(20),primaryContainer:t.a1.tone(30),onPrimaryContainer:t.a1.tone(90),secondary:t.a2.tone(80),onSecondary:t.a2.tone(20),secondaryContainer:t.a2.tone(30),onSecondaryContainer:t.a2.tone(90),tertiary:t.a3.tone(80),onTertiary:t.a3.tone(20),tertiaryContainer:t.a3.tone(30),onTertiaryContainer:t.a3.tone(90),error:t.error.tone(80),onError:t.error.tone(20),errorContainer:t.error.tone(30),onErrorContainer:t.error.tone(80),background:t.n1.tone(10),onBackground:t.n1.tone(90),surface:t.n1.tone(10),onSurface:t.n1.tone(90),surfaceVariant:t.n2.tone(30),onSurfaceVariant:t.n2.tone(80),outline:t.n2.tone(60),outlineVariant:t.n2.tone(30),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(90),inverseOnSurface:t.n1.tone(20),inversePrimary:t.a1.tone(40)})}constructor(t){this.props=t}toJSON(){return{...this.props}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={desired:4,fallbackColorARGB:4282549748,filter:!0};function zi(r,t){return r.score>t.score?-1:r.score<t.score?1:0}class Rt{constructor(){}static score(t,e){const{desired:n,fallbackColorARGB:o,filter:s}={...Fi,...e},i=[],a=new Array(360).fill(0);let l=0;for(const[m,b]of t.entries()){const g=bt.fromInt(m);i.push(g);const _=Math.floor(g.hue);a[_]+=b,l+=b}const h=new Array(360).fill(0);for(let m=0;m<360;m++){const b=a[m]/l;for(let g=m-14;g<m+16;g++){const _=Io(g);h[_]+=b}}const u=new Array;for(const m of i){const b=Io(Math.round(m.hue)),g=h[b];if(s&&(m.chroma<Rt.CUTOFF_CHROMA||g<=Rt.CUTOFF_EXCITED_PROPORTION))continue;const _=g*100*Rt.WEIGHT_PROPORTION,A=m.chroma<Rt.TARGET_CHROMA?Rt.WEIGHT_CHROMA_BELOW:Rt.WEIGHT_CHROMA_ABOVE,T=(m.chroma-Rt.TARGET_CHROMA)*A,R=_+T;u.push({hct:m,score:R})}u.sort(zi);const f=[];for(let m=90;m>=15;m--){f.length=0;for(const{hct:b}of u)if(f.find(_=>rs(b.hue,_.hue)<m)||f.push(b),f.length>=n)break;if(f.length>=n)break}const p=[];f.length===0&&p.push(o);for(const m of f)p.push(m.toInt());return p}}Rt.TARGET_CHROMA=48;Rt.WEIGHT_PROPORTION=.7;Rt.WEIGHT_CHROMA_ABOVE=.3;Rt.WEIGHT_CHROMA_BELOW=.1;Rt.CUTOFF_CHROMA=5;Rt.CUTOFF_EXCITED_PROPORTION=.01;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bi(r){const t=await new Promise((i,a)=>{const l=document.createElement("canvas"),h=l.getContext("2d");if(!h){a(new Error("Could not get canvas context"));return}const u=()=>{l.width=r.width,l.height=r.height,h.drawImage(r,0,0);let p=[0,0,r.width,r.height];const m=r.dataset.area;m&&/^\d+(\s*,\s*\d+){3}$/.test(m)&&(p=m.split(/\s*,\s*/).map(T=>parseInt(T,10)));const[b,g,_,A]=p;i(h.getImageData(b,g,_,A).data)},f=()=>{a(new Error("Image load failed"))};r.complete?u():(r.onload=u,r.onerror=f)}),e=[];for(let i=0;i<t.length;i+=4){const a=t[i],l=t[i+1],h=t[i+2];if(t[i+3]<255)continue;const f=En(a,l,h);e.push(f)}const n=Ni.quantize(e,128);return Rt.score(n)[0]}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(r,t=[]){const e=Pt.of(r);return{source:r,schemes:{light:jt.light(r),dark:jt.dark(r)},palettes:{primary:e.a1,secondary:e.a2,tertiary:e.a3,neutral:e.n1,neutralVariant:e.n2,error:e.error},customColors:t.map(n=>Ui(r,n))}}async function Wi(r,t=[]){const e=await Bi(r);return Vi(e,t)}function Ui(r,t){let e=t.value;const n=e,o=r;t.blend&&(e=go.harmonize(n,o));const i=Pt.of(e).a1;return{color:t,value:e,light:{color:i.tone(40),onColor:i.tone(100),colorContainer:i.tone(90),onColorContainer:i.tone(10)},dark:{color:i.tone(80),onColor:i.tone(20),colorContainer:i.tone(30),onColorContainer:i.tone(90)}}}const ji=async r=>{var n;const t=new URLSearchParams({album_name:r.albumName??"",artist_name:r.artistName,duration:((n=r.duration)==null?void 0:n.toString())||"",track_name:r.trackName}),e=await fetch(`https://lrclib.net/api/get?${t}`);if(!e.ok)throw new Error("Failed to fetch lyrics");return await e.json()};var Sr={exports:{}},Eo;function qi(){if(Eo)return Sr.exports;Eo=1;var r=typeof Reflect=="object"?Reflect:null,t=r&&typeof r.apply=="function"?r.apply:function(v,P,y){return Function.prototype.apply.call(v,P,y)},e;r&&typeof r.ownKeys=="function"?e=r.ownKeys:Object.getOwnPropertySymbols?e=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:e=function(v){return Object.getOwnPropertyNames(v)};function n(w){console&&console.warn&&console.warn(w)}var o=Number.isNaN||function(v){return v!==v};function s(){s.init.call(this)}Sr.exports=s,Sr.exports.once=A,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function a(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(w){if(typeof w!="number"||w<0||o(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");i=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||o(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function l(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(v){for(var P=[],y=1;y<arguments.length;y++)P.push(arguments[y]);var S=v==="error",D=this._events;if(D!==void 0)S=S&&D.error===void 0;else if(!S)return!1;if(S){var M;if(P.length>0&&(M=P[0]),M instanceof Error)throw M;var J=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw J.context=M,J}var q=D[v];if(q===void 0)return!1;if(typeof q=="function")t(q,this,P);else for(var H=q.length,V=b(q,H),y=0;y<H;++y)t(V[y],this,P);return!0};function h(w,v,P,y){var S,D,M;if(a(P),D=w._events,D===void 0?(D=w._events=Object.create(null),w._eventsCount=0):(D.newListener!==void 0&&(w.emit("newListener",v,P.listener?P.listener:P),D=w._events),M=D[v]),M===void 0)M=D[v]=P,++w._eventsCount;else if(typeof M=="function"?M=D[v]=y?[P,M]:[M,P]:y?M.unshift(P):M.push(P),S=l(w),S>0&&M.length>S&&!M.warned){M.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=w,J.type=v,J.count=M.length,n(J)}return w}s.prototype.addListener=function(v,P){return h(this,v,P,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(v,P){return h(this,v,P,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,v,P){var y={fired:!1,wrapFn:void 0,target:w,type:v,listener:P},S=u.bind(y);return S.listener=P,y.wrapFn=S,S}s.prototype.once=function(v,P){return a(P),this.on(v,f(this,v,P)),this},s.prototype.prependOnceListener=function(v,P){return a(P),this.prependListener(v,f(this,v,P)),this},s.prototype.removeListener=function(v,P){var y,S,D,M,J;if(a(P),S=this._events,S===void 0)return this;if(y=S[v],y===void 0)return this;if(y===P||y.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete S[v],S.removeListener&&this.emit("removeListener",v,y.listener||P));else if(typeof y!="function"){for(D=-1,M=y.length-1;M>=0;M--)if(y[M]===P||y[M].listener===P){J=y[M].listener,D=M;break}if(D<0)return this;D===0?y.shift():g(y,D),y.length===1&&(S[v]=y[0]),S.removeListener!==void 0&&this.emit("removeListener",v,J||P)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(v){var P,y,S;if(y=this._events,y===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[v]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete y[v]),this;if(arguments.length===0){var D=Object.keys(y),M;for(S=0;S<D.length;++S)M=D[S],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=y[v],typeof P=="function")this.removeListener(v,P);else if(P!==void 0)for(S=P.length-1;S>=0;S--)this.removeListener(v,P[S]);return this};function p(w,v,P){var y=w._events;if(y===void 0)return[];var S=y[v];return S===void 0?[]:typeof S=="function"?P?[S.listener||S]:[S]:P?_(S):b(S,S.length)}s.prototype.listeners=function(v){return p(this,v,!0)},s.prototype.rawListeners=function(v){return p(this,v,!1)},s.listenerCount=function(w,v){return typeof w.listenerCount=="function"?w.listenerCount(v):m.call(w,v)},s.prototype.listenerCount=m;function m(w){var v=this._events;if(v!==void 0){var P=v[w];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};function b(w,v){for(var P=new Array(v),y=0;y<v;++y)P[y]=w[y];return P}function g(w,v){for(;v+1<w.length;v++)w[v]=w[v+1];w.pop()}function _(w){for(var v=new Array(w.length),P=0;P<v.length;++P)v[P]=w[P].listener||w[P];return v}function A(w,v){return new Promise(function(P,y){function S(M){w.removeListener(v,D),y(M)}function D(){typeof w.removeListener=="function"&&w.removeListener("error",S),P([].slice.call(arguments))}R(w,v,D,{once:!0}),v!=="error"&&T(w,S,{once:!0})})}function T(w,v,P){typeof w.on=="function"&&R(w,"error",v,P)}function R(w,v,P,y){if(typeof w.on=="function")y.once?w.once(v,P):w.on(v,P);else if(typeof w.addEventListener=="function")w.addEventListener(v,function S(D){y.once&&w.removeEventListener(v,S),P(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return Sr.exports}var Un,Lo;function Hi(){if(Lo)return Un;Lo=1;var r=null;return typeof WebSocket<"u"?r=WebSocket:typeof MozWebSocket<"u"?r=MozWebSocket:typeof Wn<"u"?r=Wn.WebSocket||Wn.MozWebSocket:typeof window<"u"?r=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(r=self.WebSocket||self.MozWebSocket),Un=r,Un}var jn,Oo;function Gi(){if(Oo)return jn;Oo=1;const r=qi(),t=Hi();function e(i){return i.replace(/(_[a-z])/g,a=>a.toUpperCase().replace("_",""))}class n extends r{constructor(a){super(),this._console=this._getConsole(a||{}),this._settings=this._configure(a||{}),this._backoffDelay=this._settings.backoffDelayMin,this._pendingRequests={},this._webSocket=null,this._delegateEvents(),this._settings.autoConnect&&this.connect()}_getConsole(a){if(typeof a.console<"u")return a.console;const l=typeof console<"u"&&console||{};return l.log=l.log||(()=>{}),l.warn=l.warn||(()=>{}),l.error=l.error||(()=>{}),l}_configure(a){const l={...a},h=typeof document<"u"&&document.location.protocol==="https:"?"wss://":"ws://",u=typeof document<"u"&&document.location.host||"localhost";return l.webSocketUrl=a.webSocketUrl||`${h}${u}/mopidy/ws`,a.autoConnect!==!1&&(l.autoConnect=!0),l.backoffDelayMin=a.backoffDelayMin||1e3,l.backoffDelayMax=a.backoffDelayMax||64e3,l}_delegateEvents(){this.removeAllListeners("websocket:close"),this.removeAllListeners("websocket:error"),this.removeAllListeners("websocket:incomingMessage"),this.removeAllListeners("websocket:open"),this.removeAllListeners("state:offline"),this.on("websocket:close",this._cleanup),this.on("websocket:error",this._handleWebSocketError),this.on("websocket:incomingMessage",this._handleMessage),this.on("websocket:open",this._resetBackoffDelay),this.on("websocket:open",this._getApiSpec),this.on("state:offline",this._reconnect)}off(...a){if(a.length===0)this.removeAllListeners();else if(a.length===1){const l=a[0];if(typeof l=="string")this.removeAllListeners(l);else throw Error("Expected no arguments, a string, or a string and a listener.")}else this.removeListener(...a)}connect(){if(this._webSocket){if(this._webSocket.readyState===n.WebSocket.OPEN)return;this._webSocket.close()}this._webSocket=this._settings.webSocket||new n.WebSocket(this._settings.webSocketUrl),this._webSocket.onclose=a=>{this.emit("websocket:close",a)},this._webSocket.onerror=a=>{this.emit("websocket:error",a)},this._webSocket.onopen=()=>{this.emit("websocket:open")},this._webSocket.onmessage=a=>{this.emit("websocket:incomingMessage",a)}}_cleanup(a){Object.keys(this._pendingRequests).forEach(l=>{const{reject:h}=this._pendingRequests[l];delete this._pendingRequests[l];const u=new n.ConnectionError("WebSocket closed");u.closeEvent=a,h(u)}),this.emit("state","state:offline"),this.emit("state:offline")}_reconnect(){setTimeout(()=>{this.emit("state","reconnectionPending",{timeToAttempt:this._backoffDelay}),this.emit("reconnectionPending",{timeToAttempt:this._backoffDelay}),setTimeout(()=>{this.emit("state","reconnecting"),this.emit("reconnecting"),this.connect()},this._backoffDelay),this._backoffDelay*=2,this._backoffDelay>this._settings.backoffDelayMax&&(this._backoffDelay=this._settings.backoffDelayMax)},0)}_resetBackoffDelay(){this._backoffDelay=this._settings.backoffDelayMin}close(){this.off("state:offline",this._reconnect),this._webSocket&&this._webSocket.close()}_handleWebSocketError(a){this._console.warn("WebSocket error:",a.stack||a)}_send(a){switch(this._webSocket.readyState){case n.WebSocket.CONNECTING:return Promise.reject(new n.ConnectionError("WebSocket is still connecting"));case n.WebSocket.CLOSING:return Promise.reject(new n.ConnectionError("WebSocket is closing"));case n.WebSocket.CLOSED:return Promise.reject(new n.ConnectionError("WebSocket is closed"));default:return new Promise((l,h)=>{const u={...a,jsonrpc:"2.0",id:this._nextRequestId()};this._pendingRequests[u.id]={resolve:l,reject:h},this._webSocket.send(JSON.stringify(u)),this.emit("websocket:outgoingMessage",u)})}}_handleMessage(a){try{const l=JSON.parse(a.data);Object.hasOwnProperty.call(l,"id")?this._handleResponse(l):Object.hasOwnProperty.call(l,"event")?this._handleEvent(l):this._console.warn(`Unknown message type received. Message was: ${a.data}`)}catch(l){if(l instanceof SyntaxError)this._console.warn(`WebSocket message parsing failed. Message was: ${a.data}`);else throw l}}_handleResponse(a){if(!Object.hasOwnProperty.call(this._pendingRequests,a.id)){this._console.warn("Unexpected response received. Message was:",a);return}const{resolve:l,reject:h}=this._pendingRequests[a.id];if(delete this._pendingRequests[a.id],Object.hasOwnProperty.call(a,"result"))l(a.result);else if(Object.hasOwnProperty.call(a,"error")){const u=new n.ServerError(a.error.message);u.code=a.error.code,u.data=a.error.data,h(u),this._console.warn("Server returned error:",a.error)}else{const u=new Error("Response without 'result' or 'error' received");u.data={response:a},h(u),this._console.warn("Response without 'result' or 'error' received. Message was:",a)}}_handleEvent(a){const l={...a};delete l.event;const h=`event:${e(a.event)}`;this.emit("event",h,l),this.emit(h,l)}_getApiSpec(){return this._send({method:"core.describe"}).then(this._createApi.bind(this)).catch(this._handleWebSocketError.bind(this))}_createApi(a){const l=p=>(...m)=>{const b={method:p};return m.length===0?this._send(b):m.length>1?Promise.reject(new Error("Expected zero arguments, a single array, or a single object.")):!Array.isArray(m[0])&&m[0]!==Object(m[0])?Promise.reject(new TypeError("Expected an array or an object.")):([b.params]=m,this._send(b))},h=p=>{let m=p.split(".");return m.length>=1&&m[0]==="core"&&(m=m.slice(1)),m},u=p=>{let m=this;return p.forEach(b=>{const g=e(b);m[g]=m[g]||{},m=m[g]}),m},f=p=>{const m=h(p),b=e(m.slice(-1)[0]),g=u(m.slice(0,-1));g[b]=l(p),g[b].description=a[p].description,g[b].params=a[p].params};Object.keys(a).forEach(f),this.emit("state","state:online"),this.emit("state:online")}}class o extends Error{constructor(a){super(a),this.name="ConnectionError"}}n.ConnectionError=o;class s extends Error{constructor(a){super(a),this.name="ServerError"}}return n.ServerError=s,n.WebSocket=t,n.prototype._nextRequestId=(()=>{let i=-1;return()=>(i+=1,i)})(),jn=n,jn}var Yi=Gi();const Xi=js(Yi);var ce,ue,ze,F,Cr,Zn,$n,to,Be,zt,he,Ve,We,Ue,Xt,eo,ro,ss,is,no,oo,so,Ar,re,ne,de,fe,Rr,as,ls,io,cs,pe,us,me,ge,hs,ds,je,fs,be,oe,Lr,Kt,Or,Jt,E;class Ki{constructor(){C(this,F);C(this,ce,K(null));C(this,ue,null);C(this,ze,K(Y([])));C(this,Be,K(!1));C(this,zt,K(null));C(this,he,K("stopped"));C(this,Ve,K(!1));C(this,We,K(!1));C(this,Ue,K(!1));C(this,Xt,K(null));C(this,re,new Yt);C(this,ne,new Yt);C(this,de,new Yt);C(this,fe,new Yt);C(this,pe,new Yt);C(this,me,K(!1));C(this,ge,K(100));C(this,je,K(Y([])));C(this,be,x(()=>c(d(this,zt))?this.getImage(c(d(this,zt)).track.uri)??null:null));C(this,oe,new Yt);C(this,Lr,x(()=>c(d(this,be))?this.getPalette(c(d(this,be)))??null:null));C(this,Kt,new Yt);C(this,Or,x(()=>c(d(this,zt))?this.getLyrics(c(d(this,zt)).track.uri)??null:null));C(this,Jt,new Yt);C(this,E);Ce(this,E,new Xi({webSocketUrl:new URL("/mopidy/ws",Ws).toString()}))}get nextTrack(){return c(d(this,ce))}get previousTrack(){return d(this,ue)}get queue(){return c(d(this,ze))}async addToQueue(t){if(d(this,E).tracklist)try{await d(this,E).tracklist.add(W(this,F,Cr).call(this,t))}catch(e){console.error("Failed to add tracks to queue"),console.error(e)}}async clearQueue(){if(d(this,E).tracklist)try{await d(this,E).tracklist.clear()}catch(t){console.error("Failed to clear queue"),console.error(t)}}async playNext(t){if(!(!d(this,E).tracklist||!d(this,E).playback))try{await d(this,E).tracklist.add({...W(this,F,Cr).call(this,t),at_position:1}),await d(this,E).playback.play({})}catch(e){console.error("Failed to play tracks next"),console.error(e)}}async playNow(t){if(!(!d(this,E).tracklist||!d(this,E).playback))try{await d(this,E).tracklist.clear(),await d(this,E).tracklist.add(W(this,F,Cr).call(this,t)),await d(this,E).playback.play({})}catch(e){console.error("Failed to play tracks now"),console.error(e)}}async removeFromQueue(t){if(d(this,E).tracklist)try{await d(this,E).tracklist.remove({criteria:{tlid:[t]}})}catch(e){console.error("Failed to remove track from queue"),console.error(e)}}async shuffleQueue(){if(d(this,E).tracklist)try{await d(this,E).tracklist.shuffle({})}catch(t){console.error("Failed to shuffle queue"),console.error(t)}}get consume(){return c(d(this,Be))}set consume(t){var e;(e=d(this,E).tracklist)==null||e.setConsume({value:t})}get currentTrack(){return c(d(this,zt))}get playbackState(){return c(d(this,he))}set playbackState(t){var e,n,o;switch(t){case"paused":(e=d(this,E).playback)==null||e.pause();break;case"playing":(n=d(this,E).playback)==null||n.resume();break;case"stopped":(o=d(this,E).playback)==null||o.stop();break;default:console.error("Unknown playback state");break}}get repeat(){return c(d(this,Ve))}set repeat(t){var e;(e=d(this,E).tracklist)==null||e.setRepeat({value:t})}get shuffle(){return c(d(this,We))}set shuffle(t){var e;(e=d(this,E).tracklist)==null||e.setRandom({value:t})}get single(){return c(d(this,Ue))}set single(t){var e;(e=d(this,E).tracklist)==null||e.setSingle({value:t})}get timePosition(){return c(d(this,Xt))}set timePosition(t){var e;t!==null&&((e=d(this,E).playback)==null||e.seek({time_position:t}).then(()=>void W(this,F,Ar).call(this)).catch(n=>{console.error("Failed to set time position"),console.error(n)}))}skipNext(){var t;(t=d(this,E).playback)==null||t.next()}skipPrevious(){var t;(t=d(this,E).playback)==null||t.previous()}togglePlaybackState(){switch(this.playbackState){case"paused":this.playbackState="playing";break;case"playing":this.playbackState="paused";break;case"stopped":break;default:console.error("Unknown playback state");break}}get albums(){return d(this,re).values().toArray()}get artists(){return d(this,ne).values().toArray()}get currentTrackImage(){return c(d(this,be))}get directories(){return d(this,de).values().toArray()}get tracks(){return d(this,fe).values().toArray()}getAlbum(t){return d(this,re).get(t)}getArtist(t){return d(this,ne).get(t)}getDirectory(t){return d(this,de).get(t)}getTrack(t){return d(this,fe).get(t)}get playlists(){return d(this,pe).values().toArray()}getPlaylist(t){return d(this,pe).get(t)}get mute(){return c(d(this,me))}set mute(t){var e;(e=d(this,E).mixer)==null||e.setMute({mute:t})}get volume(){return c(d(this,ge))}set volume(t){var e;(e=d(this,E).mixer)==null||e.setVolume({volume:t})}get history(){return c(d(this,je))}getImage(t){return d(this,oe).get(t)}async requestImages(t){var e;try{const n=await((e=d(this,E).library)==null?void 0:e.getImages({uris:t.filter(o=>!d(this,oe).has(o))}))??{};for(const[o,s]of Object.entries(n)){const i=s.at(0);if(!i)continue;const a=new URL(i.uri,Vs).toString();d(this,oe).set(Us(o),a)}return t.map(o=>d(this,oe).get(o))}catch(n){console.error("Failed to get images"),console.error(n)}}get currentTrackPalette(){return c(d(this,Lr))}getPalette(t){return d(this,Kt).get(t)}async requestPalette(t){if(d(this,Kt).has(t))return d(this,Kt).get(t);const e=new Image;e.crossOrigin="",e.src=t;try{const n=await Wi(e);return d(this,Kt).set(t,Object.entries(n.palettes).flatMap(([o,s])=>[0,4,5,6,10,12,15,17,20,22,25,30,35,40,50,60,70,80,90,92,94,95,96,98,99,100].map(i=>`--color-${o.replace("V","-v")}-${i.toString()}: #${(s.tone(i)&16777215).toString(16).padStart(6,"0")}`)).join(";")),d(this,Kt).get(t)}catch(n){console.error("Failed to get palette"),console.error(n)}}get currentTrackLyrics(){return c(d(this,Or))}getLyrics(t){return d(this,Jt).get(t)}async requestLyrics(t){const e=t.uri;if(d(this,Jt).has(e))return d(this,Jt).get(e);try{const n=await ji({albumName:t.album.name,artistName:t.artists.map(i=>i.name).join(", "),duration:Math.round(t.length/1e3),trackName:t.name});if(!n.syncedLyrics)return d(this,Jt).set(e,[]),[];const o=/\[(\d+):(\d+).(\d+)\]\s*(.*)/,s=n.syncedLyrics.split(`
`).flatMap(i=>{const a=i.match(o);if(a){const[,l,h,u,f]=a;return[{lyrics:f,timestamp:10*(parseInt(u)+100*(parseInt(h)+60*parseInt(l)))}]}return[]});return d(this,Jt).set(e,s),s}catch(n){console.error("Failed to get lyrics"),console.error(n)}}init(){return d(this,E).on("event:tracklistChanged",()=>{W(this,F,to).call(this)}),d(this,E).on("event:optionsChanged",()=>{W(this,F,ro).call(this),W(this,F,oo).call(this),W(this,F,no).call(this),W(this,F,so).call(this)}),d(this,E).on("event:seeked",({time_position:t})=>{B(d(this,Xt),Y(t))}),d(this,E).on("event:trackPlaybackStarted",({tl_track:t})=>{W(this,F,eo).call(this,t),W(this,F,$n).call(this),W(this,F,Zn).call(this),B(d(this,Xt),0)}),d(this,E).on("event:trackPlaybackEnded",()=>{B(d(this,zt),null),B(d(this,Xt),null)}),d(this,E).on("event:playbackStateChanged",({new_state:t})=>{B(d(this,he),Y(t))}),setInterval(()=>{this.playbackState==="playing"&&W(this,F,Ar).call(this)},100),d(this,E).on("event:muteChanged",({mute:t})=>{B(d(this,me),Y(t))}),d(this,E).on("event:volumeChanged",({volume:t})=>{B(d(this,ge),Y(t))}),new Promise((t,e)=>{d(this,E).on("state:online",()=>{Promise.allSettled([W(this,F,to).call(this),W(this,F,$n).call(this),W(this,F,Zn).call(this),W(this,F,ro).call(this),W(this,F,oo).call(this),W(this,F,no).call(this),W(this,F,so).call(this),W(this,F,ss).call(this),W(this,F,Ar).call(this),W(this,F,is).call(this),W(this,F,io).call(this,null),W(this,F,us).call(this),W(this,F,hs).call(this),W(this,F,ds).call(this),W(this,F,fs).call(this)]).then(()=>{t()}).catch(n=>{console.error("Failed to initialize Mopidy"),console.error(n),e(new Error("Failed to initialize Mopidy",{cause:n}))})})})}}ce=new WeakMap,ue=new WeakMap,ze=new WeakMap,F=new WeakSet,Cr=function(t){const e=Array.isArray(t)?t:[t];return e.length<1?{}:typeof e[0]=="string"?{uris:e}:"uri"in e[0]?{uris:e.map(n=>n.uri)}:{tracks:"track"in e[0]?e.map(n=>n.track):e}},Zn=async function(){if(d(this,E).tracklist)try{const t=await d(this,E).tracklist.getNextTlid();if(t===null){B(d(this,ce),null);return}B(d(this,ce),Y(this.queue.find(e=>e.tlid===t)??null))}catch(t){console.error("Failed to get next track"),console.error(t)}},$n=async function(){if(d(this,E).tracklist)try{const t=await d(this,E).tracklist.getPreviousTlid();if(t===null){Ce(this,ue,null);return}Ce(this,ue,this.queue.find(e=>e.tlid===t)??null)}catch(t){console.error("Failed to get previous track"),console.error(t)}},to=async function(){if(d(this,E).tracklist)try{B(d(this,ze),Y(await d(this,E).tracklist.getTlTracks()))}catch(t){console.error("Failed to get queue"),console.error(t)}},Be=new WeakMap,zt=new WeakMap,he=new WeakMap,Ve=new WeakMap,We=new WeakMap,Ue=new WeakMap,Xt=new WeakMap,eo=async function(t){var e;if(B(d(this,zt),Y(t)),t)try{const n=this.requestLyrics(t.track),o=(e=await this.requestImages([t.track.uri]))==null?void 0:e.at(0);o&&await this.requestPalette(o),await n}catch(n){console.error("Failed to get image, palette, or lyrics"),console.error(n)}},ro=async function(){if(d(this,E).tracklist)try{B(d(this,Be),Y(await d(this,E).tracklist.getConsume()))}catch(t){console.error("Failed to get consume"),console.error(t)}},ss=async function(){if(d(this,E).playback)try{await W(this,F,eo).call(this,await d(this,E).playback.getCurrentTlTrack())}catch(t){console.error("Failed to get current track"),console.error(t)}},is=async function(){if(d(this,E).playback)try{B(d(this,he),Y(await d(this,E).playback.getState()))}catch(t){console.error("Failed to get playback state"),console.error(t)}},no=async function(){if(d(this,E).tracklist)try{B(d(this,Ve),Y(await d(this,E).tracklist.getRepeat()))}catch(t){console.error("Failed to get repeat"),console.error(t)}},oo=async function(){if(d(this,E).tracklist)try{B(d(this,We),Y(await d(this,E).tracklist.getRandom()))}catch(t){console.error("Failed to get shuffle"),console.error(t)}},so=async function(){if(d(this,E).tracklist)try{B(d(this,Ue),Y(await d(this,E).tracklist.getSingle()))}catch(t){console.error("Failed to get single"),console.error(t)}},Ar=async function(){if(d(this,E).playback)try{B(d(this,Xt),Y(await d(this,E).playback.getTimePosition()))}catch(t){console.error("Failed to get time position"),console.error(t)}},re=new WeakMap,ne=new WeakMap,de=new WeakMap,fe=new WeakMap,Rr=async function(t){if(d(this,E).library)try{return(await d(this,E).library.lookup({uris:[t]}))[t]}catch(e){console.error("Failed to get tracks"),console.error(e)}},as=async function(t){var e,n;if(d(this,E).library)try{const o=await W(this,F,Rr).call(this,t),s=(e=o==null?void 0:o.at(0))==null?void 0:e.album;if(!s)return;const i={...s,tracks:o};d(this,re).set(t,i);for(const a of i.artists)(n=d(this,ne).get(a.uri))==null||n.albums.push(i);return i}catch(o){console.error("Failed to get album"),console.error(o)}},ls=async function(t){if(d(this,E).library)try{const e=await W(this,F,Rr).call(this,t),n=e==null?void 0:e.flatMap(s=>s.artists).find(s=>s.uri===t);if(!n)return;const o={...n,albums:d(this,re).values().toArray().filter(s=>s.artists.some(i=>i.uri===t))};return d(this,ne).set(t,o),o}catch(e){console.error("Failed to get artist"),console.error(e)}},io=async function(t,e){if(d(this,E).library)try{const n=await d(this,E).library.browse({uri:t});return d(this,de).set(t,{children:n,name:e,uri:t}),await Promise.allSettled(n.map(o=>{switch(o.type){case"album":return W(this,F,as).call(this,o.uri);case"artist":return W(this,F,ls).call(this,o.uri);case"directory":return W(this,F,io).call(this,o.uri,o.name);case"track":return W(this,F,cs).call(this,o.uri)}})),n}catch(n){console.error("Failed to walk directory"),console.error(n)}},cs=async function(t){if(d(this,E).library)try{const e=await W(this,F,Rr).call(this,t);return(e==null?void 0:e.length)!==1?void 0:(d(this,fe).set(t,e[0]),e[0])}catch(e){console.error("Failed to get track"),console.error(e)}},pe=new WeakMap,us=async function(){if(d(this,E).playlists)try{await Promise.allSettled((await d(this,E).playlists.asList()).filter(t=>t.type==="playlist").map(async({uri:t})=>{var n;const e=await((n=d(this,E).playlists)==null?void 0:n.lookup({uri:t}));e&&d(this,pe).set(t,e)}))}catch(t){console.error("Failed to get playlists"),console.error(t)}},me=new WeakMap,ge=new WeakMap,hs=async function(){if(d(this,E).mixer)try{B(d(this,me),Y(await d(this,E).mixer.getMute()??!1))}catch(t){console.error("Failed to get mute"),console.error(t)}},ds=async function(){if(d(this,E).mixer)try{B(d(this,ge),Y(await d(this,E).mixer.getVolume()??100))}catch(t){console.error("Failed to get volume"),console.error(t)}},je=new WeakMap,fs=async function(){if(d(this,E).history)try{B(d(this,je),Y((await d(this,E).history.getHistory()).map(([t,e])=>({timestamp:new Date(t),track:e}))))}catch(t){console.error("Failed to get history"),console.error(t)}},be=new WeakMap,oe=new WeakMap,Lr=new WeakMap,Kt=new WeakMap,Or=new WeakMap,Jt=new WeakMap,E=new WeakMap;const Ji=!1,Qi=async()=>{const r=new Ki;return await r.init(),{mopidy:r}},jc=Object.freeze(Object.defineProperty({__proto__:null,load:Qi,ssr:Ji},Symbol.toStringTag,{value:"Module"}));function Ln(r,t=250){let e=K(null);function n(...o){if(c(e))c(e).timeout&&clearTimeout(c(e).timeout);else{let s,i;const a=new Promise((l,h)=>{s=l,i=h});B(e,Y({timeout:null,runner:null,promise:a,resolve:s,reject:i}))}return c(e).runner=async()=>{if(!c(e))return;const s=c(e);B(e,null);try{s.resolve(await r.apply(this,o))}catch(i){s.reject(i)}},c(e).timeout=setTimeout(c(e).runner,typeof t=="function"?t():t),c(e).promise}return n.cancel=async()=>{(!c(e)||c(e).timeout===null)&&(await new Promise(o=>setTimeout(o,0)),!c(e)||c(e).timeout===null)||(clearTimeout(c(e).timeout),c(e).reject("Cancelled"),B(e,null))},n.runScheduledNow=async()=>{var o,s;(!c(e)||!c(e).timeout)&&(await new Promise(i=>setTimeout(i,0)),!c(e)||!c(e).timeout)||(clearTimeout(c(e).timeout),c(e).timeout=null,await((s=(o=c(e)).runner)==null?void 0:s.call(o)))},Object.defineProperty(n,"pending",{enumerable:!0,get(){var o;return!!((o=c(e))!=null&&o.timeout)}}),n}var ve;class vo{constructor(){C(this,ve,K(!1));_t(()=>(Ht(()=>B(d(this,ve),!0)),()=>{B(d(this,ve),!1)}))}get current(){return c(d(this,ve))}}ve=new WeakMap;var qe,He;class Zi{constructor(t){O(this,"opts");C(this,qe,K(null));C(this,He,K(null));this.opts=t}get contentNode(){return c(d(this,qe))}set contentNode(t){B(d(this,qe),Y(t))}get triggerNode(){return c(d(this,He))}set triggerNode(t){B(d(this,He),Y(t))}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}}qe=new WeakMap,He=new WeakMap;var Nr,ps,Fr;class $i{constructor(t,e){C(this,Nr);O(this,"opts");O(this,"root");C(this,Fr,x(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":Gs(this.root.opts.open.current),"data-state":Uo(this.root.opts.open.current),"aria-controls":W(this,Nr,ps).call(this),"data-popover-trigger":"",disabled:this.opts.disabled.current,onkeydown:this.onkeydown,onclick:this.onclick})));this.opts=t,this.root=e,It({...t,onRefChange:n=>{this.root.triggerNode=n}}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||t.button===0&&this.root.toggleOpen()}onkeydown(t){this.opts.disabled.current||(t.key===qs||t.key===Hs)&&(t.preventDefault(),this.root.toggleOpen())}get props(){return c(d(this,Fr))}}Nr=new WeakSet,ps=function(){var t,e;if(this.root.opts.open.current&&((t=this.root.contentNode)!=null&&t.id))return(e=this.root.contentNode)==null?void 0:e.id},Fr=new WeakMap;var zr,Br;class ta{constructor(t,e){O(this,"opts");O(this,"root");O(this,"onInteractOutside",t=>{this.opts.onInteractOutside.current(t),!(t.defaultPrevented||!Ys(t.target)||t.target.closest("[data-popover-trigger]")===this.root.triggerNode)&&this.root.handleClose()});O(this,"onEscapeKeydown",t=>{this.opts.onEscapeKeydown.current(t),!t.defaultPrevented&&this.root.handleClose()});O(this,"onCloseAutoFocus",t=>{var e;this.opts.onCloseAutoFocus.current(t),!t.defaultPrevented&&(t.preventDefault(),(e=this.root.triggerNode)==null||e.focus())});C(this,zr,x(()=>({open:this.root.opts.open.current})));C(this,Br,x(()=>({id:this.opts.id.current,tabindex:-1,"data-state":Uo(this.root.opts.open.current),"data-popover-content":"",style:{pointerEvents:"auto"}})));O(this,"popperProps",{onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onCloseAutoFocus:this.onCloseAutoFocus});this.opts=t,this.root=e,It({...t,deps:()=>this.root.opts.open.current,onRefChange:n=>{this.root.contentNode=n}})}get snippetProps(){return c(d(this,zr))}get props(){return c(d(this,Br))}}zr=new WeakMap,Br=new WeakMap;const yo=new ae("Popover.Root");function ea(r){return yo.set(new Zi(r))}function ra(r){return new $i(r,yo.get())}function na(r){return new ta(r,yo.get())}var oa=et("<div><div><!></div></div>"),sa=et("<div><div><!></div></div>");function ia(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=L(t,"forceMount",3,!1),s=L(t,"onCloseAutoFocus",3,se),i=L(t,"onEscapeKeydown",3,se),a=L(t,"onInteractOutside",3,se),l=L(t,"trapFocus",3,!0),h=L(t,"preventScroll",3,!1),u=lt(t,["$$slots","$$events","$$legacy","child","children","ref","id","forceMount","onCloseAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll"]);const f=na({id:z.with(()=>n()),ref:z.with(()=>e(),A=>e(A)),onInteractOutside:z.with(()=>a()),onEscapeKeydown:z.with(()=>i()),onCloseAutoFocus:z.with(()=>s())}),p=x(()=>ft(u,f.props));var m=Z(),b=U(m);{var g=A=>{Xs(A,ht(()=>c(p),()=>f.popperProps,{get enabled(){return f.root.opts.open.current},get id(){return n()},get trapFocus(){return l()},get preventScroll(){return h()},loop:!0,forceMount:!0,popper:(R,w)=>{let v=()=>w==null?void 0:w().props,P=()=>w==null?void 0:w().wrapperProps;var y=Z();const S=x(()=>ft(v(),{style:So("popover")}));var D=U(y);{var M=q=>{var H=Z(),V=U(H),X=Bt(()=>({props:c(S),wrapperProps:P(),...f.snippetProps}));ot(V,()=>t.child,()=>c(X)),I(q,H)},J=q=>{var H=oa();let V;var X=$(H);let tt;var rt=$(X);ot(rt,()=>t.children??ut),Q(X),Q(H),at(()=>{V=mt(H,V,{...P()}),tt=mt(X,tt,{...c(S)})}),I(q,H)};ct(D,q=>{t.child?q(M):q(J,!1)})}I(R,y)},$$slots:{popper:!0}}))},_=(A,T)=>{{var R=w=>{Ks(w,ht(()=>c(p),()=>f.popperProps,{get present(){return f.root.opts.open.current},get id(){return n()},get trapFocus(){return l()},get preventScroll(){return h()},loop:!0,forceMount:!1,popper:(P,y)=>{let S=()=>y==null?void 0:y().props,D=()=>y==null?void 0:y().wrapperProps;var M=Z();const J=x(()=>ft(S(),{style:So("popover")}));var q=U(M);{var H=X=>{var tt=Z(),rt=U(tt),dt=Bt(()=>({props:c(J),wrapperProps:D(),...f.snippetProps}));ot(rt,()=>t.child,()=>c(dt)),I(X,tt)},V=X=>{var tt=sa();let rt;var dt=$(tt);let xt;var gt=$(dt);ot(gt,()=>t.children??ut),Q(dt),Q(tt),at(()=>{rt=mt(tt,rt,{...D()}),xt=mt(dt,xt,{...c(J)})}),I(X,tt)};ct(q,X=>{t.child?X(H):X(V,!1)})}I(P,M)},$$slots:{popper:!0}}))};ct(A,w=>{o()||w(R)},T)}};ct(b,A=>{o()?A(g):A(_,!1)})}I(r,m),it()}var aa=et("<button><!></button>");function la(r,t){st(t,!0);let e=L(t,"id",19,Lt),n=L(t,"ref",15,null),o=L(t,"type",3,"button"),s=L(t,"disabled",3,!1),i=lt(t,["$$slots","$$events","$$legacy","children","child","id","ref","type","disabled"]);const a=ra({id:z.with(()=>e()),ref:z.with(()=>n(),h=>n(h)),disabled:z.with(()=>!!s())}),l=x(()=>ft(i,a.props,{type:o()}));Js(r,{get id(){return e()},children:(h,u)=>{var f=Z(),p=U(f);{var m=g=>{var _=Z(),A=U(_);ot(A,()=>t.child,()=>({props:c(l)})),I(g,_)},b=g=>{var _=aa();let A;var T=$(_);ot(T,()=>t.children??ut),Q(_),at(()=>A=mt(_,A,{...c(l)})),I(g,_)};ct(p,g=>{t.child?g(m):g(b,!1)})}I(h,f)},$$slots:{default:!0}}),it()}function Pe(r,t){_t(()=>{let e=0;const n=r();if(!n)return;const o=new ResizeObserver(()=>{cancelAnimationFrame(e),e=window.requestAnimationFrame(t)});return o.observe(n),()=>{window.cancelAnimationFrame(e),o.unobserve(n)}})}function ca(r,t){st(t,!0);let e=L(t,"open",15,!1),n=L(t,"onOpenChange",3,se);ea({open:z.with(()=>e(),o=>{e(o),n()(o)})}),Qs(r,{children:(o,s)=>{var i=Z(),a=U(i);ot(a,()=>t.children??ut),I(o,i)},$$slots:{default:!0}}),it()}function ua(r,t,e){return Math.min(e,Math.max(t,r))}const ha="data-scroll-area-root",da="data-scroll-area-viewport",fa="data-scroll-area-corner",pa="data-scroll-area-thumb",ma="data-scroll-area-scrollbar";var Ge,Ye,Xe,Ke,Je,Qe,Ze,$e,tr,Vr;class ga{constructor(t){O(this,"opts");C(this,Ge,K(null));C(this,Ye,K(null));C(this,Xe,K(null));C(this,Ke,K(null));C(this,Je,K(null));C(this,Qe,K(0));C(this,Ze,K(0));C(this,$e,K(!1));C(this,tr,K(!1));C(this,Vr,x(()=>({id:this.opts.id.current,dir:this.opts.dir.current,style:{position:"relative","--bits-scroll-area-corner-height":`${this.cornerHeight}px`,"--bits-scroll-area-corner-width":`${this.cornerWidth}px`},[ha]:""})));this.opts=t,It({...t,onRefChange:e=>{this.scrollAreaNode=e}})}get scrollAreaNode(){return c(d(this,Ge))}set scrollAreaNode(t){B(d(this,Ge),Y(t))}get viewportNode(){return c(d(this,Ye))}set viewportNode(t){B(d(this,Ye),Y(t))}get contentNode(){return c(d(this,Xe))}set contentNode(t){B(d(this,Xe),Y(t))}get scrollbarXNode(){return c(d(this,Ke))}set scrollbarXNode(t){B(d(this,Ke),Y(t))}get scrollbarYNode(){return c(d(this,Je))}set scrollbarYNode(t){B(d(this,Je),Y(t))}get cornerWidth(){return c(d(this,Qe))}set cornerWidth(t){B(d(this,Qe),Y(t))}get cornerHeight(){return c(d(this,Ze))}set cornerHeight(t){B(d(this,Ze),Y(t))}get scrollbarXEnabled(){return c(d(this,$e))}set scrollbarXEnabled(t){B(d(this,$e),Y(t))}get scrollbarYEnabled(){return c(d(this,tr))}set scrollbarYEnabled(t){B(d(this,tr),Y(t))}get props(){return c(d(this,Vr))}}Ge=new WeakMap,Ye=new WeakMap,Xe=new WeakMap,Ke=new WeakMap,Je=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,$e=new WeakMap,tr=new WeakMap,Vr=new WeakMap;var er,Wr,Ur,jr;class ba{constructor(t,e){O(this,"opts");O(this,"root");C(this,er,z(Lt()));C(this,Wr,z(null));C(this,Ur,x(()=>({id:this.opts.id.current,style:{overflowX:this.root.scrollbarXEnabled?"scroll":"hidden",overflowY:this.root.scrollbarYEnabled?"scroll":"hidden"},[da]:""})));C(this,jr,x(()=>({id:d(this,er).current,"data-scroll-area-content":"",style:{minWidth:this.root.scrollbarXEnabled?"fit-content":void 0}})));this.opts=t,this.root=e,It({...t,onRefChange:n=>{this.root.viewportNode=n}}),It({id:d(this,er),ref:d(this,Wr),onRefChange:n=>{this.root.contentNode=n}})}get props(){return c(d(this,Ur))}get contentProps(){return c(d(this,jr))}}er=new WeakMap,Wr=new WeakMap,Ur=new WeakMap,jr=new WeakMap;var qr,rr;class va{constructor(t,e){O(this,"opts");O(this,"root");C(this,qr,x(()=>this.opts.orientation.current==="horizontal"));C(this,rr,K(!1));this.opts=t,this.root=e,_t(()=>(this.isHorizontal?this.root.scrollbarXEnabled=!0:this.root.scrollbarYEnabled=!0,()=>{this.isHorizontal?this.root.scrollbarXEnabled=!1:this.root.scrollbarYEnabled=!1}))}get isHorizontal(){return c(d(this,qr))}get hasThumb(){return c(d(this,rr))}set hasThumb(t){B(d(this,rr),Y(t))}}qr=new WeakMap,rr=new WeakMap;var nr,Hr;class ya{constructor(t){O(this,"scrollbar");O(this,"root");C(this,nr,K(!1));C(this,Hr,x(()=>({"data-state":this.isVisible?"visible":"hidden"})));this.scrollbar=t,this.root=t.root,_t(()=>{const e=this.root.scrollAreaNode,n=this.root.opts.scrollHideDelay.current;let o=0;if(!e)return;const s=()=>{window.clearTimeout(o),Ht(()=>this.isVisible=!0)},i=()=>{o&&window.clearTimeout(o),o=window.setTimeout(()=>{Ht(()=>{this.scrollbar.hasThumb=!1,this.isVisible=!1})},n)},a=ao(Vt(e,"pointerenter",s),Vt(e,"pointerleave",i));return()=>{window.clearTimeout(o),a()}})}get isVisible(){return c(d(this,nr))}set isVisible(t){B(d(this,nr),Y(t))}get props(){return c(d(this,Hr))}}nr=new WeakMap,Hr=new WeakMap;var Gr,Yr;class wa{constructor(t){O(this,"scrollbar");O(this,"root");O(this,"machine",Zs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}}));C(this,Gr,x(()=>this.machine.state.current==="hidden"));C(this,Yr,x(()=>({"data-state":this.machine.state.current==="hidden"?"hidden":"visible",onpointerenter:this.onpointerenter,onpointerleave:this.onpointerleave})));this.scrollbar=t,this.root=t.root;const e=Ln(()=>this.machine.dispatch("SCROLL_END"),100);_t(()=>{const n=this.machine.state.current,o=this.root.opts.scrollHideDelay.current;if(n==="idle"){const s=window.setTimeout(()=>this.machine.dispatch("HIDE"),o);return()=>window.clearTimeout(s)}}),_t(()=>{const n=this.root.viewportNode;if(!n)return;const o=this.scrollbar.isHorizontal?"scrollLeft":"scrollTop";let s=n[o];return lo(n,"scroll",()=>{const l=n[o];s!==l&&(this.machine.dispatch("SCROLL"),e()),s=l})}),this.onpointerenter=this.onpointerenter.bind(this),this.onpointerleave=this.onpointerleave.bind(this)}get isHidden(){return c(d(this,Gr))}onpointerenter(t){this.machine.dispatch("POINTER_ENTER")}onpointerleave(t){this.machine.dispatch("POINTER_LEAVE")}get props(){return c(d(this,Yr))}}Gr=new WeakMap,Yr=new WeakMap;var or,Xr;class ka{constructor(t){O(this,"scrollbar");O(this,"root");C(this,or,K(!1));C(this,Xr,x(()=>({"data-state":this.isVisible?"visible":"hidden"})));this.scrollbar=t,this.root=t.root;const e=Ln(()=>{const n=this.root.viewportNode;if(!n)return;const o=n.offsetWidth<n.scrollWidth,s=n.offsetHeight<n.scrollHeight;this.isVisible=this.scrollbar.isHorizontal?o:s},10);Pe(()=>this.root.viewportNode,e),Pe(()=>this.root.contentNode,e)}get isVisible(){return c(d(this,or))}set isVisible(t){B(d(this,or),Y(t))}get props(){return c(d(this,Xr))}}or=new WeakMap,Xr=new WeakMap;var sr,ir,ar,Kr,Jr;class Pa{constructor(t){O(this,"scrollbar");O(this,"root");C(this,sr,K(null));C(this,ir,K(0));C(this,ar,K({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}));C(this,Kr,x(()=>bs(this.sizes.viewport,this.sizes.content)));C(this,Jr,x(()=>this.thumbRatio>0&&this.thumbRatio<1));O(this,"prevTransformStyle","");this.scrollbar=t,this.root=t.root,_t(()=>{this.scrollbar.hasThumb=this.hasThumb}),zs(()=>{!this.scrollbar.hasThumb&&this.thumbNode&&(this.prevTransformStyle=this.thumbNode.style.transform)})}get thumbNode(){return c(d(this,sr))}set thumbNode(t){B(d(this,sr),Y(t))}get pointerOffset(){return c(d(this,ir))}set pointerOffset(t){B(d(this,ir),Y(t))}get sizes(){return c(d(this,ar))}set sizes(t){B(d(this,ar),t)}get thumbRatio(){return c(d(this,Kr))}get hasThumb(){return c(d(this,Jr))}setSizes(t){this.sizes=t}getScrollPosition(t,e){return Ba({pointerPos:t,pointerOffset:this.pointerOffset,sizes:this.sizes,dir:e})}onThumbPointerUp(){this.pointerOffset=0}onThumbPointerDown(t){this.pointerOffset=t}xOnThumbPositionChange(){if(!(this.root.viewportNode&&this.thumbNode))return;const t=this.root.viewportNode.scrollLeft,n=`translate3d(${No({scrollPos:t,sizes:this.sizes,dir:this.root.opts.dir.current})}px, 0, 0)`;this.thumbNode.style.transform=n}xOnWheelScroll(t){this.root.viewportNode&&(this.root.viewportNode.scrollLeft=t)}xOnDragScroll(t){this.root.viewportNode&&(this.root.viewportNode.scrollLeft=this.getScrollPosition(t,this.root.opts.dir.current))}yOnThumbPositionChange(){if(!(this.root.viewportNode&&this.thumbNode))return;const t=this.root.viewportNode.scrollTop,n=`translate3d(0, ${No({scrollPos:t,sizes:this.sizes})}px, 0)`;this.thumbNode.style.transform=n}yOnWheelScroll(t){this.root.viewportNode&&(this.root.viewportNode.scrollTop=t)}yOnDragScroll(t){this.root.viewportNode&&(this.root.viewportNode.scrollTop=this.getScrollPosition(t,this.root.opts.dir.current))}}sr=new WeakMap,ir=new WeakMap,ar=new WeakMap,Kr=new WeakMap,Jr=new WeakMap;var lr,Qr,Zr;class _a{constructor(t,e){O(this,"opts");O(this,"scrollbarVis");O(this,"root");C(this,lr,K());O(this,"scrollbar");O(this,"onThumbPointerDown",t=>{this.scrollbarVis.onThumbPointerDown(t.x)});O(this,"onDragScroll",t=>{this.scrollbarVis.xOnDragScroll(t.x)});O(this,"onThumbPointerUp",()=>{this.scrollbarVis.onThumbPointerUp()});O(this,"onThumbPositionChange",()=>{this.scrollbarVis.xOnThumbPositionChange()});O(this,"onWheelScroll",(t,e)=>{if(!this.root.viewportNode)return;const n=this.root.viewportNode.scrollLeft+t.deltaX;this.scrollbarVis.xOnWheelScroll(n),ys(n,e)&&t.preventDefault()});O(this,"onResize",()=>{this.scrollbar.opts.ref.current&&this.root.viewportNode&&this.computedStyle&&this.scrollbarVis.setSizes({content:this.root.viewportNode.scrollWidth,viewport:this.root.viewportNode.offsetWidth,scrollbar:{size:this.scrollbar.opts.ref.current.clientWidth,paddingStart:Dr(this.computedStyle.paddingLeft),paddingEnd:Dr(this.computedStyle.paddingRight)}})});C(this,Qr,x(()=>Nn(this.scrollbarVis.sizes)));C(this,Zr,x(()=>({id:this.scrollbar.opts.id.current,"data-orientation":"horizontal",style:{bottom:0,left:this.root.opts.dir.current==="rtl"?"var(--bits-scroll-area-corner-width)":0,right:this.root.opts.dir.current==="ltr"?"var(--bits-scroll-area-corner-width)":0,"--bits-scroll-area-thumb-width":`${this.thumbSize}px`}})));this.opts=t,this.scrollbarVis=e,this.scrollbarVis=e,this.root=e.root,this.scrollbar=e.scrollbar,It({...this.scrollbar.opts,onRefChange:n=>{this.root.scrollbarXNode=n},deps:()=>this.opts.mounted.current}),_t(()=>{this.scrollbar.opts.ref.current&&this.opts.mounted.current&&(this.computedStyle=getComputedStyle(this.scrollbar.opts.ref.current))}),_t(()=>{this.onResize()})}get computedStyle(){return c(d(this,lr))}set computedStyle(t){B(d(this,lr),Y(t))}get thumbSize(){return c(d(this,Qr))}get props(){return c(d(this,Zr))}}lr=new WeakMap,Qr=new WeakMap,Zr=new WeakMap;var cr,$r,tn;class xa{constructor(t,e){O(this,"opts");O(this,"scrollbarVis");O(this,"root");O(this,"scrollbar");C(this,cr,K());C(this,$r,x(()=>Nn(this.scrollbarVis.sizes)));C(this,tn,x(()=>({id:this.scrollbar.opts.id.current,"data-orientation":"vertical",style:{top:0,right:this.root.opts.dir.current==="ltr"?0:void 0,left:this.root.opts.dir.current==="rtl"?0:void 0,bottom:"var(--bits-scroll-area-corner-height)","--bits-scroll-area-thumb-height":`${this.thumbSize}px`}})));this.opts=t,this.scrollbarVis=e,this.root=e.root,this.scrollbar=e.scrollbar,It({...this.scrollbar.opts,onRefChange:n=>{this.root.scrollbarYNode=n},deps:()=>this.opts.mounted.current}),_t(()=>{this.scrollbar.opts.ref.current&&this.opts.mounted.current&&(this.computedStyle=getComputedStyle(this.scrollbar.opts.ref.current))}),_t(()=>{this.onResize()}),this.onThumbPointerDown=this.onThumbPointerDown.bind(this),this.onDragScroll=this.onDragScroll.bind(this),this.onThumbPointerUp=this.onThumbPointerUp.bind(this),this.onThumbPositionChange=this.onThumbPositionChange.bind(this),this.onWheelScroll=this.onWheelScroll.bind(this),this.onResize=this.onResize.bind(this)}get computedStyle(){return c(d(this,cr))}set computedStyle(t){B(d(this,cr),Y(t))}onThumbPointerDown(t){this.scrollbarVis.onThumbPointerDown(t.y)}onDragScroll(t){this.scrollbarVis.yOnDragScroll(t.y)}onThumbPointerUp(){this.scrollbarVis.onThumbPointerUp()}onThumbPositionChange(){this.scrollbarVis.yOnThumbPositionChange()}onWheelScroll(t,e){if(!this.root.viewportNode)return;const n=this.root.viewportNode.scrollTop+t.deltaY;this.scrollbarVis.yOnWheelScroll(n),ys(n,e)&&t.preventDefault()}onResize(){this.scrollbar.opts.ref.current&&this.root.viewportNode&&this.computedStyle&&this.scrollbarVis.setSizes({content:this.root.viewportNode.scrollHeight,viewport:this.root.viewportNode.offsetHeight,scrollbar:{size:this.scrollbar.opts.ref.current.clientHeight,paddingStart:Dr(this.computedStyle.paddingTop),paddingEnd:Dr(this.computedStyle.paddingBottom)}})}get thumbSize(){return c(d(this,$r))}get props(){return c(d(this,tn))}}cr=new WeakMap,$r=new WeakMap,tn=new WeakMap;var ur,hr,en,rn;class Sa{constructor(t){O(this,"scrollbarState");O(this,"root");O(this,"scrollbarVis");O(this,"scrollbar");C(this,ur,K(null));C(this,hr,K(""));O(this,"handleResize");O(this,"handleThumbPositionChange");O(this,"handleWheelScroll");O(this,"handleThumbPointerDown");O(this,"handleThumbPointerUp");C(this,en,x(()=>this.scrollbarVis.sizes.content-this.scrollbarVis.sizes.viewport));C(this,rn,x(()=>ft({...this.scrollbarState.props,style:{position:"absolute",...this.scrollbarState.props.style},[ma]:"",onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointerup:this.onpointerup})));this.scrollbarState=t,this.root=t.root,this.scrollbarVis=t.scrollbarVis,this.scrollbar=t.scrollbarVis.scrollbar,this.handleResize=Ln(()=>this.scrollbarState.onResize(),10),this.handleThumbPositionChange=this.scrollbarState.onThumbPositionChange,this.handleWheelScroll=this.scrollbarState.onWheelScroll,this.handleThumbPointerDown=this.scrollbarState.onThumbPointerDown,this.handleThumbPointerUp=this.scrollbarState.onThumbPointerUp,_t(()=>{const e=this.maxScrollPos,n=this.scrollbar.opts.ref.current;return this.root.viewportNode,lo(document,"wheel",i=>{const a=i.target;(n==null?void 0:n.contains(a))&&this.handleWheelScroll(i,e)},{passive:!1})}),_t(()=>{this.scrollbarVis.sizes,Ht(()=>this.handleThumbPositionChange())}),_t(()=>{this.handleThumbPositionChange()}),Pe(()=>this.scrollbar.opts.ref.current,this.handleResize),Pe(()=>this.root.contentNode,this.handleResize),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointerup=this.onpointerup.bind(this)}get rect(){return c(d(this,ur))}set rect(t){B(d(this,ur),t)}get prevWebkitUserSelect(){return c(d(this,hr))}set prevWebkitUserSelect(t){B(d(this,hr),Y(t))}get maxScrollPos(){return c(d(this,en))}handleDragScroll(t){if(!this.rect)return;const e=t.clientX-this.rect.left,n=t.clientY-this.rect.top;this.scrollbarState.onDragScroll({x:e,y:n})}onpointerdown(t){var n;if(t.button!==0)return;t.target.setPointerCapture(t.pointerId),this.rect=((n=this.scrollbar.opts.ref.current)==null?void 0:n.getBoundingClientRect())??null,this.prevWebkitUserSelect=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",this.root.viewportNode&&(this.root.viewportNode.style.scrollBehavior="auto"),this.handleDragScroll(t)}onpointermove(t){this.handleDragScroll(t)}onpointerup(t){const e=t.target;e.hasPointerCapture(t.pointerId)&&e.releasePointerCapture(t.pointerId),document.body.style.webkitUserSelect=this.prevWebkitUserSelect,this.root.viewportNode&&(this.root.viewportNode.style.scrollBehavior=""),this.rect=null}get props(){return c(d(this,rn))}}ur=new WeakMap,hr=new WeakMap,en=new WeakMap,rn=new WeakMap;var dr,Qt,nn,on;class Ta{constructor(t,e){O(this,"opts");O(this,"scrollbarState");C(this,dr);C(this,Qt,K());C(this,nn,Ln(()=>{c(d(this,Qt))&&(c(d(this,Qt))(),B(d(this,Qt),void 0))},100));C(this,on,x(()=>({id:this.opts.id.current,"data-state":this.scrollbarState.scrollbarVis.hasThumb?"visible":"hidden",style:{width:"var(--bits-scroll-area-thumb-width)",height:"var(--bits-scroll-area-thumb-height)",transform:this.scrollbarState.scrollbarVis.prevTransformStyle},onpointerdowncapture:this.onpointerdowncapture,onpointerup:this.onpointerup,[pa]:""})));this.opts=t,this.scrollbarState=e,Ce(this,dr,e.root),It({...t,onRefChange:n=>{this.scrollbarState.scrollbarVis.thumbNode=n},deps:()=>this.opts.mounted.current}),_t(()=>{const n=d(this,dr).viewportNode;if(!n)return;const o=()=>{if(d(this,nn).call(this),!c(d(this,Qt))){const i=Va(n,this.scrollbarState.handleThumbPositionChange);B(d(this,Qt),Y(i)),this.scrollbarState.handleThumbPositionChange()}};return this.scrollbarState.handleThumbPositionChange(),lo(n,"scroll",o)}),this.onpointerdowncapture=this.onpointerdowncapture.bind(this),this.onpointerup=this.onpointerup.bind(this)}onpointerdowncapture(t){const e=t.target;if(!e)return;const n=e.getBoundingClientRect(),o=t.clientX-n.left,s=t.clientY-n.top;this.scrollbarState.handleThumbPointerDown({x:o,y:s})}onpointerup(t){this.scrollbarState.handleThumbPointerUp()}get props(){return c(d(this,on))}}dr=new WeakMap,Qt=new WeakMap,nn=new WeakMap,on=new WeakMap;var ye,we,sn,an;class Ca{constructor(t,e){O(this,"opts");O(this,"root");C(this,ye,K(0));C(this,we,K(0));C(this,sn,x(()=>!!(c(d(this,ye))&&c(d(this,we)))));C(this,an,x(()=>({id:this.opts.id.current,style:{width:c(d(this,ye)),height:c(d(this,we)),position:"absolute",right:this.root.opts.dir.current==="ltr"?0:void 0,left:this.root.opts.dir.current==="rtl"?0:void 0,bottom:0},[fa]:""})));this.opts=t,this.root=e,Pe(()=>this.root.scrollbarXNode,()=>{var o;const n=((o=this.root.scrollbarXNode)==null?void 0:o.offsetHeight)||0;this.root.cornerHeight=n,B(d(this,we),Y(n))}),Pe(()=>this.root.scrollbarYNode,()=>{var o;const n=((o=this.root.scrollbarYNode)==null?void 0:o.offsetWidth)||0;this.root.cornerWidth=n,B(d(this,ye),Y(n))}),It(t)}get hasSize(){return c(d(this,sn))}get props(){return c(d(this,an))}}ye=new WeakMap,we=new WeakMap,sn=new WeakMap,an=new WeakMap;const vr=new ae("ScrollArea.Root"),yr=new ae("ScrollArea.Scrollbar"),On=new ae("ScrollArea.ScrollbarVisible"),wo=new ae("ScrollArea.ScrollbarAxis"),ms=new ae("ScrollArea.ScrollbarShared");function Aa(r){return vr.set(new ga(r))}function Ra(r){return new ba(r,vr.get())}function Ma(r){return yr.set(new va(r,vr.get()))}function Ia(){return On.set(new Pa(yr.get()))}function gs(){return new ka(yr.get())}function Da(){return new wa(yr.get())}function Ea(){return new ya(yr.get())}function La(r){return wo.set(new _a(r,On.get()))}function Oa(r){return wo.set(new xa(r,On.get()))}function Na(){return ms.set(new Sa(wo.get()))}function Fa(r){return new Ta(r,ms.get())}function za(r){return new Ca(r,vr.get())}function Dr(r){return r?Number.parseInt(r,10):0}function bs(r,t){const e=r/t;return Number.isNaN(e)?0:e}function Nn(r){const t=bs(r.viewport,r.content),e=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-e)*t;return Math.max(n,18)}function Ba({pointerPos:r,pointerOffset:t,sizes:e,dir:n="ltr"}){const o=Nn(e),s=o/2,i=t||s,a=o-i,l=e.scrollbar.paddingStart+i,h=e.scrollbar.size-e.scrollbar.paddingEnd-a,u=e.content-e.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return vs([l,h],f)(r)}function No({scrollPos:r,sizes:t,dir:e="ltr"}){const n=Nn(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,a=s-n,l=e==="ltr"?[0,i]:[i*-1,0],h=ua(r,l[0],l[1]);return vs([0,i],[0,a])(h)}function vs(r,t){return e=>{if(r[0]===r[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(r[1]-r[0]);return t[0]+n*(e-r[0])}}function ys(r,t){return r>0&&r<t}function Va(r,t){let e={left:r.scrollLeft,top:r.scrollTop},n=0;return function o(){const s={left:r.scrollLeft,top:r.scrollTop},i=e.left!==s.left,a=e.top!==s.top;(i||a)&&t(),e=s,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)}var Wa=et("<div><!></div>");function Ua(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=L(t,"type",3,"hover"),s=L(t,"dir",3,"ltr"),i=L(t,"scrollHideDelay",3,600),a=lt(t,["$$slots","$$events","$$legacy","ref","id","type","dir","scrollHideDelay","children","child"]);const l=Aa({type:z.with(()=>o()),dir:z.with(()=>s()),scrollHideDelay:z.with(()=>i()),id:z.with(()=>n()),ref:z.with(()=>e(),b=>e(b))}),h=x(()=>ft(a,l.props));var u=Z(),f=U(u);{var p=b=>{var g=Z(),_=U(g);ot(_,()=>t.child,()=>({props:c(h)})),I(b,g)},m=b=>{var g=Wa();let _;var A=$(g);ot(A,()=>t.children??ut),Q(g),at(()=>_=mt(g,_,{...c(h)})),I(b,g)};ct(f,b=>{t.child?b(p):b(m,!1)})}I(r,u),it()}var ja=et("<div><div><!></div></div>");function qa(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=lt(t,["$$slots","$$events","$$legacy","ref","id","children"]);const s=Ra({id:z.with(()=>n()),ref:z.with(()=>e(),m=>e(m))}),i=x(()=>ft(o,s.props)),a=x(()=>ft({},s.contentProps));var l=ja();let h;var u=$(l);let f;var p=$(u);ot(p,()=>t.children??ut),Q(u),Q(l),at(()=>{h=mt(l,h,{...c(i)}),f=mt(u,f,{...c(a)})}),I(r,l),it()}var Ha=et("<div><!></div>");function ws(r,t){st(t,!0);let e=lt(t,["$$slots","$$events","$$legacy","child","children"]);const n=Na(),o=x(()=>ft(e,n.props));var s=Z(),i=U(s);{var a=h=>{var u=Z(),f=U(u);ot(f,()=>t.child,()=>({props:c(o)})),I(h,u)},l=h=>{var u=Ha();let f;var p=$(u);ot(p,()=>t.children??ut),Q(u),at(()=>f=mt(u,f,{...c(o)})),I(h,u)};ct(i,h=>{t.child?h(a):h(l,!1)})}I(r,s),it()}function Ga(r,t){st(t,!0);let e=lt(t,["$$slots","$$events","$$legacy"]);const n=new vo,o=La({mounted:z.with(()=>n.current)}),s=x(()=>ft(e,o.props));ws(r,ht(()=>c(s))),it()}function Ya(r,t){st(t,!0);let e=lt(t,["$$slots","$$events","$$legacy"]);const n=new vo,o=Oa({mounted:z.with(()=>n.current)}),s=x(()=>ft(e,o.props));ws(r,ht(()=>c(s))),it()}function Fn(r,t){st(t,!0);let e=lt(t,["$$slots","$$events","$$legacy"]);const n=Ia();var o=Z(),s=U(o);{var i=l=>{Ga(l,ht(()=>e))},a=l=>{Ya(l,ht(()=>e))};ct(s,l=>{n.scrollbar.opts.orientation.current==="horizontal"?l(i):l(a,!1)})}I(r,o),it()}function Xa(r,t){st(t,!0);let e=L(t,"forceMount",3,!1),n=lt(t,["$$slots","$$events","$$legacy","forceMount"]);const o=gs(),s=x(()=>ft(n,o.props)),i=x(()=>e()||o.isVisible);Mn(r,ht({get present(){return c(i)}},()=>c(s),{presence:l=>{Fn(l,ht(()=>c(s)))},$$slots:{presence:!0}})),it()}function Ka(r,t){st(t,!0);let e=L(t,"forceMount",3,!1),n=lt(t,["$$slots","$$events","$$legacy","forceMount"]);const o=Da(),s=x(()=>ft(n,o.props)),i=x(()=>e()||!o.isHidden);Mn(r,ht(()=>c(s),{get present(){return c(i)},presence:l=>{Fn(l,ht(()=>c(s)))},$$slots:{presence:!0}})),it()}function Ja(r,t){st(t,!0);let e=L(t,"forceMount",3,!1),n=lt(t,["$$slots","$$events","$$legacy","forceMount"]);const o=Ea(),s=gs(),i=x(()=>ft(n,o.props,s.props,{"data-state":o.isVisible?"visible":"hidden"})),a=x(()=>e()||o.isVisible&&s.isVisible);Mn(r,ht(()=>c(i),{get present(){return c(a)},presence:h=>{Fn(h,ht(()=>c(i)))},$$slots:{presence:!0}})),it()}function Fo(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=lt(t,["$$slots","$$events","$$legacy","ref","id","orientation"]);const s=Ma({orientation:z.with(()=>t.orientation),id:z.with(()=>n()),ref:z.with(()=>e(),f=>e(f))}),i=x(()=>s.root.opts.type.current);var a=Z(),l=U(a);{var h=f=>{Ja(f,ht(()=>o,{get id(){return n()}}))},u=(f,p)=>{{var m=g=>{Ka(g,ht(()=>o,{get id(){return n()}}))},b=(g,_)=>{{var A=R=>{Xa(R,ht(()=>o,{get id(){return n()}}))},T=(R,w)=>{{var v=P=>{Fn(P,ht(()=>o,{get id(){return n()}}))};ct(R,P=>{c(i)==="always"&&P(v)},w)}};ct(g,R=>{c(i)==="auto"?R(A):R(T,!1)},_)}};ct(f,g=>{c(i)==="scroll"?g(m):g(b,!1)},p)}};ct(l,f=>{c(i)==="hover"?f(h):f(u,!1)})}I(r,a),it()}var Qa=et("<div><!></div>");function Za(r,t){st(t,!0);let e=L(t,"ref",15,null),n=lt(t,["$$slots","$$events","$$legacy","ref","id","child","children","present"]);const o=new vo,s=Fa({id:z.with(()=>t.id),ref:z.with(()=>e(),f=>e(f)),mounted:z.with(()=>o.current)}),i=x(()=>ft(n,s.props,{style:{hidden:!t.present}}));var a=Z(),l=U(a);{var h=f=>{var p=Z(),m=U(p);ot(m,()=>t.child,()=>({props:c(i)})),I(f,p)},u=f=>{var p=Qa();let m;var b=$(p);ot(b,()=>t.children??ut),Q(p),at(()=>m=mt(p,m,{...c(i)})),I(f,p)};ct(l,f=>{t.child?f(h):f(u,!1)})}I(r,a),it()}function zo(r,t){st(t,!0);let e=L(t,"id",19,Lt),n=L(t,"ref",15,null),o=L(t,"forceMount",3,!1),s=lt(t,["$$slots","$$events","$$legacy","id","ref","forceMount"]);const i=On.get(),a=x(()=>o()||i.hasThumb);Mn(r,ht({get present(){return c(a)}},()=>s,{get id(){return e()},presence:(h,u)=>{let f=()=>u==null?void 0:u().present;Za(h,ht(()=>s,{get id(){return e()},get present(){return f().current},get ref(){return n()},set ref(p){n(p)}}))},$$slots:{presence:!0}})),it()}var $a=et("<div><!></div>");function tl(r,t){st(t,!0);let e=L(t,"ref",15,null),n=lt(t,["$$slots","$$events","$$legacy","ref","id","children","child"]);const o=za({id:z.with(()=>t.id),ref:z.with(()=>e(),u=>e(u))}),s=x(()=>ft(n,o.props));var i=Z(),a=U(i);{var l=u=>{var f=Z(),p=U(f);ot(p,()=>t.child,()=>({props:c(s)})),I(u,f)},h=u=>{var f=$a();let p;var m=$(f);ot(m,()=>t.children??ut),Q(f),at(()=>p=mt(f,p,{...c(s)})),I(u,f)};ct(a,u=>{t.child?u(l):u(h,!1)})}I(r,i),it()}function el(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=lt(t,["$$slots","$$events","$$legacy","ref","id"]);const s=vr.get(),i=x(()=>!!(s.scrollbarXNode&&s.scrollbarYNode)),a=x(()=>s.opts.type.current!=="scroll"&&c(i));var l=Z(),h=U(l);{var u=f=>{tl(f,ht(()=>o,{get id(){return n()},get ref(){return e()},set ref(p){e(p)}}))};ct(h,f=>{c(a)&&f(u)})}I(r,l),it()}function rl(r,t,e){const n={position:"absolute"};return r==="lr"?(n.left=`${t}%`,n.right=`${e}%`):r==="rl"?(n.right=`${t}%`,n.left=`${e}%`):r==="bt"?(n.bottom=`${t}%`,n.top=`${e}%`):(n.top=`${t}%`,n.bottom=`${e}%`),n}function ks(r,t){const e={position:"absolute"};return r==="lr"?(e.left=`${t}%`,e.translate="-50% 0"):r==="rl"?(e.right=`${t}%`,e.translate="50% 0"):r==="bt"?(e.bottom=`${t}%`,e.translate="0 50%"):(e.top=`${t}%`,e.translate="0 -50%"),e}function Ps(r,t,e){const n={position:"absolute"};return r==="lr"?(n.left=`${t}%`,n.translate=`${e}% 0`):r==="rl"?(n.right=`${t}%`,n.translate=`${-e}% 0`):r==="bt"?(n.bottom=`${t}%`,n.translate=`0 ${-e}%`):(n.top=`${t}%`,n.translate=`0 ${e}%`),n}function le(r,t,e,n){const o=(r-(Number.isNaN(t)?0:t))%n;let s=Math.abs(o)*2>=n?r+Math.sign(o)*(n-Math.abs(o)):r-o;Number.isNaN(t)?!Number.isNaN(e)&&s>e&&(s=Math.floor(e/n)*n):s<t?s=t:!Number.isNaN(e)&&s>e&&(s=t+Math.floor((e-t)/n)*n);const i=n.toString(),a=i.indexOf("."),l=a>=0?i.length-a:0;if(l>0){const h=10**l;s=Math.round(s*h)/h}return s}const nl="data-slider-root",Er="data-slider-thumb",ol="data-slider-range",_s="data-slider-tick";var fr,ln,cn,un;class xs{constructor(t){O(this,"opts");C(this,fr,K(!1));C(this,ln,x(()=>this.opts.orientation.current==="horizontal"?this.opts.dir.current==="rtl"?"rl":"lr":this.opts.dir.current==="rtl"?"tb":"bt"));C(this,cn,x(()=>{if(!this.opts.disabled.current)return this.opts.orientation.current==="horizontal"?"pan-y":"pan-x"}));O(this,"getAllThumbs",()=>{const t=this.opts.ref.current;return t?Array.from(t.querySelectorAll(`[${Er}]`)):[]});C(this,un,x(()=>({id:this.opts.id.current,"data-orientation":In(this.opts.orientation.current),"data-disabled":gr(this.opts.disabled.current),style:{touchAction:c(d(this,cn))},[nl]:""})));this.opts=t,It(t)}get isActive(){return c(d(this,fr))}set isActive(t){B(d(this,fr),Y(t))}get direction(){return c(d(this,ln))}get props(){return c(d(this,un))}}fr=new WeakMap,ln=new WeakMap,cn=new WeakMap,un=new WeakMap;var hn,dn,fn,pn,mn;class sl extends xs{constructor(e){super(e);O(this,"opts");O(this,"isMulti",!1);O(this,"updateValue",e=>{this.opts.value.current=le(e,this.opts.min.current,this.opts.max.current,this.opts.step.current)});O(this,"handlePointerMove",e=>{if(!this.isActive||this.opts.disabled.current)return;e.preventDefault(),e.stopPropagation();const n=this.opts.ref.current,o=this.getAllThumbs()[0];if(!n||!o)return;o.focus();const{left:s,right:i,top:a,bottom:l}=n.getBoundingClientRect();this.direction==="lr"?this.applyPosition({clientXY:e.clientX,start:s,end:i}):this.direction==="rl"?this.applyPosition({clientXY:e.clientX,start:i,end:s}):this.direction==="bt"?this.applyPosition({clientXY:e.clientY,start:l,end:a}):this.direction==="tb"&&this.applyPosition({clientXY:e.clientY,start:a,end:l})});O(this,"handlePointerDown",e=>{if(e.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,o=this.getAllThumbs()[0];if(!o||!n)return;const s=e.target;!Qo(s)||!n.contains(s)||(e.preventDefault(),o.focus(),this.isActive=!0,this.handlePointerMove(e))});O(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(Ht(()=>this.opts.value.current)),this.isActive=!1)});O(this,"getPositionFromValue",e=>{const n=this.opts.min.current,o=this.opts.max.current;return(e-n)/(o-n)*100});C(this,hn,x(()=>{const e=this.opts.value.current;return Array.from({length:1},()=>{const n=e,o=this.getPositionFromValue(n??0),s=ks(this.direction,o);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":n,"aria-disabled":$o(this.opts.disabled.current),"aria-orientation":Zo(this.opts.orientation.current),"data-value":n,tabindex:this.opts.disabled.current?-1:0,style:s,[Er]:""}})}));C(this,dn,x(()=>this.thumbsPropsArr.map((e,n)=>n)));C(this,fn,x(()=>{const e=this.opts.max.current,n=this.opts.min.current,o=this.opts.step.current,s=e-n;let i=Math.ceil(s/o);s%o==0&&i++;const a=this.opts.value.current;return Array.from({length:i},(l,h)=>{const u=h*(o/s)*100,f=h===0,p=h===i-1,m=f?0:p?-100:-50,b=Ps(this.direction,u,m),g=n+h*o,_=g<=a;return{"data-disabled":gr(this.opts.disabled.current),"data-orientation":In(this.opts.orientation.current),"data-bounded":_?"":void 0,"data-value":g,style:b,[_s]:""}})}));C(this,pn,x(()=>this.ticksPropsArr.map((e,n)=>n)));C(this,mn,x(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=e,Ko(()=>ao(Vt(document,"pointerdown",this.handlePointerDown),Vt(document,"pointerup",this.handlePointerUp),Vt(document,"pointermove",this.handlePointerMove),Vt(document,"pointerleave",this.handlePointerUp))),Jo([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,o,s,i])=>{const a=h=>le(h,o,s,n)===h,l=h=>le(h,o,s,n);a(i)||(this.opts.value.current=l(i))})}applyPosition({clientXY:e,start:n,end:o}){const s=this.opts.min.current,i=this.opts.max.current,l=(e-n)/(o-n)*(i-s)+s;if(l<s)this.updateValue(s);else if(l>i)this.updateValue(i);else{const h=this.opts.step.current,u=Math.floor((l-s)/h),f=s+u*h+h/2,p=s+(u+1)*h+h/2,m=l>=f&&l<p?(u+1)*h+s:u*h+s;m<=i&&this.updateValue(m)}}get thumbsPropsArr(){return c(d(this,hn))}get thumbsRenderArr(){return c(d(this,dn))}get ticksPropsArr(){return c(d(this,fn))}get ticksRenderArr(){return c(d(this,pn))}get snippetProps(){return c(d(this,mn))}}hn=new WeakMap,dn=new WeakMap,fn=new WeakMap,pn=new WeakMap,mn=new WeakMap;var pr,mr,gn,bn,vn,yn,wn,kn;class il extends xs{constructor(e){super(e);O(this,"opts");O(this,"isMulti",!0);C(this,pr,K(null));C(this,mr,K(0));C(this,gn,e=>{const n=this.getAllThumbs();if(!n.length)return;for(const a of n)a.blur();const o=n.map(a=>{if(this.opts.orientation.current==="horizontal"){const{left:l,right:h}=a.getBoundingClientRect();return Math.abs(e.clientX-(l+h)/2)}else{const{top:l,bottom:h}=a.getBoundingClientRect();return Math.abs(e.clientY-(l+h)/2)}}),s=n[o.indexOf(Math.min(...o))],i=n.indexOf(s);return{node:s,idx:i}});O(this,"handlePointerMove",e=>{if(!this.isActive||this.opts.disabled.current)return;e.preventDefault(),e.stopPropagation();const n=this.opts.ref.current,o=this.activeThumb;if(!n||!o)return;o.node.focus();const{left:s,right:i,top:a,bottom:l}=n.getBoundingClientRect(),h=this.direction;h==="lr"?this.applyPosition({clientXY:e.clientX,activeThumbIdx:o.idx,start:s,end:i}):h==="rl"?this.applyPosition({clientXY:e.clientX,activeThumbIdx:o.idx,start:i,end:s}):h==="bt"?this.applyPosition({clientXY:e.clientY,activeThumbIdx:o.idx,start:l,end:a}):h==="tb"&&this.applyPosition({clientXY:e.clientY,activeThumbIdx:o.idx,start:a,end:l})});O(this,"handlePointerDown",e=>{if(e.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,o=d(this,gn).call(this,e);if(!o||!n)return;const s=e.target;!Qo(s)||!n.contains(s)||(e.preventDefault(),this.activeThumb=o,o.node.focus(),this.isActive=!0,this.handlePointerMove(e))});O(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(Ht(()=>this.opts.value.current)),this.isActive=!1)});O(this,"getPositionFromValue",e=>{const n=this.opts.min.current,o=this.opts.max.current;return(e-n)/(o-n)*100});O(this,"getAllThumbs",()=>{const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(`[${Er}]`)):[]});O(this,"updateValue",(e,n)=>{const o=this.opts.value.current;if(!o.length){this.opts.value.current.push(e);return}if(o[n]===e)return;const i=[...o];if(!ai(n,i))return;const a=i[n]>e?-1:1,l=()=>{var b;const p=n+a;i[n]=i[p],i[p]=e;const m=this.getAllThumbs();m.length&&((b=m[p])==null||b.focus(),this.activeThumb={node:m[p],idx:p})};if(this.opts.autoSort.current&&(a===-1&&e<i[n-1]||a===1&&e>i[n+1])){l(),this.opts.value.current=i;return}const h=this.opts.min.current,u=this.opts.max.current,f=this.opts.step.current;i[n]=le(e,h,u,f),this.opts.value.current=i});C(this,bn,x(()=>{const e=this.opts.value.current;return Array.from({length:e.length||1},(n,o)=>{const s=Ht(()=>this.currentThumbIdx);s<e.length&&Ht(()=>{this.currentThumbIdx=s+1});const i=e[o],a=this.getPositionFromValue(i??0),l=ks(this.direction,a);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":i,"aria-disabled":$o(this.opts.disabled.current),"aria-orientation":Zo(this.opts.orientation.current),"data-value":i,tabindex:this.opts.disabled.current?-1:0,style:l,[Er]:""}})}));C(this,vn,x(()=>this.thumbsPropsArr.map((e,n)=>n)));C(this,yn,x(()=>{const e=this.opts.max.current,n=this.opts.min.current,o=this.opts.step.current,s=e-n;let i=Math.ceil(s/o);s%o==0&&i++;const a=this.opts.value.current;return Array.from({length:i},(l,h)=>{const u=h*(o/s)*100,f=h===0,p=h===i-1,m=f?0:p?-100:-50,b=Ps(this.direction,u,m),g=n+h*o,_=a.length===1?g<=a[0]:a[0]<=g&&g<=a[a.length-1];return{"data-disabled":gr(this.opts.disabled.current),"data-orientation":In(this.opts.orientation.current),"data-bounded":_?"":void 0,"data-value":g,style:b,[_s]:""}})}));C(this,wn,x(()=>this.ticksPropsArr.map((e,n)=>n)));C(this,kn,x(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=e,Ko(()=>ao(Vt(document,"pointerdown",this.handlePointerDown),Vt(document,"pointerup",this.handlePointerUp),Vt(document,"pointermove",this.handlePointerMove),Vt(document,"pointerleave",this.handlePointerUp))),Jo([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,o,s,i])=>{const a=h=>le(h,o,s,n)===h,l=h=>le(h,o,s,n);i.some(h=>!a(h))&&(this.opts.value.current=i.map(l))})}get activeThumb(){return c(d(this,pr))}set activeThumb(e){B(d(this,pr),Y(e))}get currentThumbIdx(){return c(d(this,mr))}set currentThumbIdx(e){B(d(this,mr),Y(e))}applyPosition({clientXY:e,activeThumbIdx:n,start:o,end:s}){const i=this.opts.min.current,a=this.opts.max.current,h=(e-o)/(s-o)*(a-i)+i;if(h<i)this.updateValue(i,n);else if(h>a)this.updateValue(a,n);else{const u=this.opts.step.current,f=Math.floor((h-i)/u),p=i+f*u+u/2,m=i+(f+1)*u+u/2,b=h>=p&&h<m?(f+1)*u+i:f*u+i;b<=a&&this.updateValue(b,n)}}get thumbsPropsArr(){return c(d(this,bn))}get thumbsRenderArr(){return c(d(this,vn))}get ticksPropsArr(){return c(d(this,yn))}get ticksRenderArr(){return c(d(this,wn))}get snippetProps(){return c(d(this,kn))}}pr=new WeakMap,mr=new WeakMap,gn=new WeakMap,bn=new WeakMap,vn=new WeakMap,yn=new WeakMap,wn=new WeakMap,kn=new WeakMap;const al=[jo,qo,Ho,Go,Yo,Xo];var Pn,_n;class ll{constructor(t,e){O(this,"opts");O(this,"root");C(this,Pn,x(()=>{const t=Array.isArray(this.root.opts.value.current)&&this.root.opts.value.current.length>1?this.root.getPositionFromValue(Math.min(...this.root.opts.value.current)??0):0,e=Array.isArray(this.root.opts.value.current)?100-this.root.getPositionFromValue(Math.max(...this.root.opts.value.current)??0):100-this.root.getPositionFromValue(this.root.opts.value.current);return{position:"absolute",...rl(this.root.direction,t,e)}}));C(this,_n,x(()=>({id:this.opts.id.current,"data-orientation":In(this.root.opts.orientation.current),"data-disabled":gr(this.root.opts.disabled.current),style:this.rangeStyles,[ol]:""})));this.opts=t,this.root=e,It(t)}get rangeStyles(){return c(d(this,Pn))}get props(){return c(d(this,_n))}}Pn=new WeakMap,_n=new WeakMap;var xn,kt,Ct,Sn;class cl{constructor(t,e){C(this,kt);O(this,"opts");O(this,"root");C(this,xn,x(()=>this.root.opts.disabled.current||this.opts.disabled.current));C(this,Sn,x(()=>({...this.root.thumbsPropsArr[this.opts.index.current],id:this.opts.id.current,onkeydown:this.onkeydown})));this.opts=t,this.root=e,It(t),this.onkeydown=this.onkeydown.bind(this)}onkeydown(t){if(c(d(this,xn)))return;const e=this.opts.ref.current;if(!e)return;const n=this.root.getAllThumbs();if(!n.length)return;const o=n.indexOf(e);if(this.root.isMulti&&(this.root.currentThumbIdx=o),!al.includes(t.key))return;t.preventDefault();const s=this.root.opts.min.current,i=this.root.opts.max.current,a=this.root.opts.value.current,l=Array.isArray(a)?a[o]:a,h=this.root.opts.orientation.current,u=this.root.direction,f=this.root.opts.step.current;switch(t.key){case Yo:W(this,kt,Ct).call(this,s);break;case Xo:W(this,kt,Ct).call(this,i);break;case jo:if(h!=="horizontal")break;if(t.metaKey){const p=u==="rl"?i:s;W(this,kt,Ct).call(this,p)}else u==="rl"&&l<i?W(this,kt,Ct).call(this,l+f):u==="lr"&&l>s&&W(this,kt,Ct).call(this,l-f);break;case qo:if(h!=="horizontal")break;if(t.metaKey){const p=u==="rl"?s:i;W(this,kt,Ct).call(this,p)}else u==="rl"&&l>s?W(this,kt,Ct).call(this,l-f):u==="lr"&&l<i&&W(this,kt,Ct).call(this,l+f);break;case Ho:if(t.metaKey){const p=u==="tb"?s:i;W(this,kt,Ct).call(this,p)}else u==="tb"&&l>s?W(this,kt,Ct).call(this,l-f):u!=="tb"&&l<i&&W(this,kt,Ct).call(this,l+f);break;case Go:if(t.metaKey){const p=u==="tb"?i:s;W(this,kt,Ct).call(this,p)}else u==="tb"&&l<i?W(this,kt,Ct).call(this,l+f):u!=="tb"&&l>s&&W(this,kt,Ct).call(this,l-f);break}this.root.opts.onValueCommit.current(this.root.opts.value.current)}get props(){return c(d(this,Sn))}}xn=new WeakMap,kt=new WeakSet,Ct=function(t){this.root.isMulti?this.root.updateValue(t,this.opts.index.current):this.root.updateValue(t)},Sn=new WeakMap;var Tn;class ul{constructor(t,e){O(this,"opts");O(this,"root");C(this,Tn,x(()=>({...this.root.ticksPropsArr[this.opts.index.current],id:this.opts.id.current})));this.opts=t,this.root=e,It(t)}get props(){return c(d(this,Tn))}}Tn=new WeakMap;const zn=new ae("Slider.Root");function hl(r){const{type:t,...e}=r,n=t==="single"?new sl(e):new il(e);return zn.set(n)}function dl(r){return new ll(r,zn.get())}function fl(r){return new cl(r,zn.get())}function pl(r){return new ul(r,zn.get())}var ml=et("<span><!></span>");function gl(r,t){st(t,!0);let e=L(t,"id",19,Lt),n=L(t,"ref",15,null),o=L(t,"value",15),s=L(t,"onValueChange",3,se),i=L(t,"onValueCommit",3,se),a=L(t,"disabled",3,!1),l=L(t,"min",3,0),h=L(t,"max",3,100),u=L(t,"step",3,1),f=L(t,"dir",3,"ltr"),p=L(t,"autoSort",3,!0),m=L(t,"orientation",3,"horizontal"),b=lt(t,["$$slots","$$events","$$legacy","children","child","id","ref","value","type","onValueChange","onValueCommit","disabled","min","max","step","dir","autoSort","orientation"]);o()===void 0&&o(t.type==="single"?0:[]);const g=hl({id:z.with(()=>e()),ref:z.with(()=>n(),v=>n(v)),value:z.with(()=>o(),v=>{o(v),s()(v)}),onValueCommit:z.with(()=>i()),disabled:z.with(()=>a()),min:z.with(()=>l()),max:z.with(()=>h()),step:z.with(()=>u()),dir:z.with(()=>f()),autoSort:z.with(()=>p()),orientation:z.with(()=>m()),type:t.type}),_=x(()=>ft(b,g.props));var A=Z(),T=U(A);{var R=v=>{var P=Z(),y=U(P),S=Bt(()=>({props:c(_),...g.snippetProps}));ot(y,()=>t.child,()=>c(S)),I(v,P)},w=v=>{var P=ml();let y;var S=$(P);ot(S,()=>t.children??ut,()=>g.snippetProps),Q(P),at(()=>y=mt(P,y,{...c(_)})),I(v,P)};ct(T,v=>{t.child?v(R):v(w,!1)})}I(r,A),it()}var bl=et("<span><!></span>");function vl(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=lt(t,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=dl({id:z.with(()=>n()),ref:z.with(()=>e(),f=>e(f))}),i=x(()=>ft(o,s.props));var a=Z(),l=U(a);{var h=f=>{var p=Z(),m=U(p);ot(m,()=>t.child,()=>({props:c(i)})),I(f,p)},u=f=>{var p=bl();let m;var b=$(p);ot(b,()=>t.children??ut),Q(p),at(()=>m=mt(p,m,{...c(i)})),I(f,p)};ct(l,f=>{t.child?f(h):f(u,!1)})}I(r,a),it()}var yl=et("<span><!></span>");function wl(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=L(t,"disabled",3,!1),s=lt(t,["$$slots","$$events","$$legacy","children","child","ref","id","index","disabled"]);const i=fl({id:z.with(()=>n()),ref:z.with(()=>e(),p=>e(p)),index:z.with(()=>t.index),disabled:z.with(()=>o())}),a=x(()=>ft(s,i.props));var l=Z(),h=U(l);{var u=p=>{var m=Z(),b=U(m);ot(b,()=>t.child,()=>({props:c(a)})),I(p,m)},f=p=>{var m=yl();let b;var g=$(m);ot(g,()=>t.children??ut),Q(m),at(()=>b=mt(m,b,{...c(a)})),I(p,m)};ct(h,p=>{t.child?p(u):p(f,!1)})}I(r,l),it()}var kl=et("<span><!></span>");function Pl(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=lt(t,["$$slots","$$events","$$legacy","children","child","ref","id","index"]);const s=pl({id:z.with(()=>n()),ref:z.with(()=>e(),f=>e(f)),index:z.with(()=>t.index)}),i=x(()=>ft(o,s.props));var a=Z(),l=U(a);{var h=f=>{var p=Z(),m=U(p);ot(m,()=>t.child,()=>({props:c(i)})),I(f,p)},u=f=>{var p=kl();let m;var b=$(p);ot(b,()=>t.children??ut),Q(p),at(()=>m=mt(p,m,{...c(i)})),I(f,p)};ct(l,f=>{t.child?f(h):f(u,!1)})}I(r,a),it()}const _l="data-toggle-root";var Cn,Ss,An,Rn;class xl{constructor(t){C(this,Cn);O(this,"opts");C(this,An,x(()=>({pressed:this.opts.pressed.current})));C(this,Rn,x(()=>({[_l]:"",id:this.opts.id.current,"data-disabled":gr(this.opts.disabled.current),"aria-pressed":ti(this.opts.pressed.current),"data-state":Tl(this.opts.pressed.current),disabled:$s(this.opts.disabled.current),onclick:this.onclick})));this.opts=t,It(t),this.onclick=this.onclick.bind(this)}onclick(t){this.opts.disabled.current||W(this,Cn,Ss).call(this)}get snippetProps(){return c(d(this,An))}get props(){return c(d(this,Rn))}}Cn=new WeakSet,Ss=function(){this.opts.disabled.current||(this.opts.pressed.current=!this.opts.pressed.current)},An=new WeakMap,Rn=new WeakMap;function Sl(r){return new xl(r)}function Tl(r){return r?"on":"off"}var Cl=et("<button><!></button>");function Al(r,t){st(t,!0);let e=L(t,"ref",15,null),n=L(t,"id",19,Lt),o=L(t,"pressed",15,!1),s=L(t,"onPressedChange",3,se),i=L(t,"disabled",3,!1),a=L(t,"type",3,"button"),l=lt(t,["$$slots","$$events","$$legacy","ref","id","pressed","onPressedChange","disabled","type","children","child"]);const h=Sl({pressed:z.with(()=>o(),g=>{o(g),s()(g)}),disabled:z.with(()=>i()??!1),id:z.with(()=>n()),ref:z.with(()=>e(),g=>e(g))}),u=x(()=>ft(l,h.props,{type:a()}));var f=Z(),p=U(f);{var m=g=>{var _=Z(),A=U(_),T=Bt(()=>({props:c(u),...h.snippetProps}));ot(A,()=>t.child,()=>c(T)),I(g,_)},b=g=>{var _=Cl();let A;var T=$(_);ot(T,()=>t.children??ut,()=>h.snippetProps),Q(_),at(()=>A=mt(_,A,{...c(u)})),I(g,_)};ct(p,g=>{t.child?g(m):g(b,!1)})}I(r,f),it()}function Rl(r,t){st(t,!0);let e=L(t,"delayDuration",3,700),n=L(t,"disableCloseOnTriggerClick",3,!1),o=L(t,"disableHoverableContent",3,!1),s=L(t,"disabled",3,!1),i=L(t,"ignoreNonKeyboardFocus",3,!1),a=L(t,"skipDelayDuration",3,300);ei({delayDuration:z.with(()=>e()),disableCloseOnTriggerClick:z.with(()=>n()),disableHoverableContent:z.with(()=>o()),disabled:z.with(()=>s()),ignoreNonKeyboardFocus:z.with(()=>i()),skipDelayDuration:z.with(()=>a())});var l=Z(),h=U(l);ot(h,()=>t.children??ut),I(r,l),it()}function Ml(r){const t=r-1;return t*t*t+1}function Il(r,{delay:t=0,duration:e=400,easing:n=Ml,axis:o="y"}={}){const s=getComputedStyle(r),i=+s.opacity,a=o==="y"?"height":"width",l=parseFloat(s[a]),h=o==="y"?["top","bottom"]:["left","right"],u=h.map(A=>`${A[0].toUpperCase()}${A.slice(1)}`),f=parseFloat(s[`padding${u[0]}`]),p=parseFloat(s[`padding${u[1]}`]),m=parseFloat(s[`margin${u[0]}`]),b=parseFloat(s[`margin${u[1]}`]),g=parseFloat(s[`border${u[0]}Width`]),_=parseFloat(s[`border${u[1]}Width`]);return{delay:t,duration:e,easing:n,css:A=>`overflow: hidden;opacity: ${Math.min(A*20,1)*i};${a}: ${A*l}px;padding-${h[0]}: ${A*f}px;padding-${h[1]}: ${A*p}px;margin-${h[0]}: ${A*m}px;margin-${h[1]}: ${A*b}px;border-${h[0]}-width: ${A*g}px;border-${h[1]}-width: ${A*_}px;min-${a}: 0`}}const Dl=ee({base:"w-90 bg-surface flex flex-col justify-start px-7 py-4"});var El=et("<nav><!></nav>");function Ll(r,t){st(t,!0);let e=lt(t,["$$slots","$$events","$$legacy","children","class"]);var n=El();let o;var s=$(n);ot(s,()=>t.children??ut),Q(n),at(i=>o=mt(n,o,{class:i,...e}),[()=>Dl({className:t.class})]),I(r,n),it()}const Ol=ee({slots:{icon:"transition-colors",item:"group/state-layer text-on-surface group/navigation-rail-item relative -mx-4 flex h-14 flex-row items-center justify-start gap-3 rounded-full pl-4 pr-6",label:"text-label-l transition-colors after:absolute after:inset-0",stateLayer:"absolute inset-0 rounded-full"},variants:{active:{false:{icon:"text-on-surface-variant group-hover/navigation-rail-item:text-on-surface group-focus-within/navigation-rail-item:text-on-surface",label:"text-on-surface-variant group-hover/navigation-rail-item:text-on-surface group-focus-within/navigation-rail-item:text-on-surface"},true:{icon:"text-on-secondary-container icon-filled",item:"text-on-secondary-container bg-secondary-container",label:"text-on-secondary-container"}}}});var Nl=et("<div><!> <!> <a><!></a></div>");function Fl(r,t){st(t,!0);let e=L(t,"active",3,!1),n=lt(t,["$$slots","$$events","$$legacy","active","children","class","href","icon"]),o=x(()=>Ol({active:e()})),s=K(null);var i=Nl();let a;var l=$(i);const h=x(()=>c(o).stateLayer());Dn(l,{get target(){return c(s)},get class(){return c(h)}});var u=nt(l,2);const f=x(()=>c(o).icon());br(u,{get icon(){return t.icon},get class(){return c(f)}});var p=nt(u,2),m=$(p);ot(m,()=>t.children??ut),Q(p),Wo(p,b=>B(s,b),()=>c(s)),Q(i),at((b,g)=>{a=mt(i,a,{class:b,...n}),Mr(p,"href",t.href),te(p,1,g)},[()=>c(o).item({className:t.class}),()=>$t(c(o).label())]),I(r,i),it()}const zl=ee({base:"bg-surface flex w-20 flex-col justify-center gap-3"});var Bl=et("<nav><!></nav>");function Vl(r,t){st(t,!0);let e=lt(t,["$$slots","$$events","$$legacy","children","class"]);var n=Bl();let o;var s=$(n);ot(s,()=>t.children??ut),Q(n),at(i=>o=mt(n,o,{class:i,...e}),[()=>zl({className:t.class})]),I(r,n),it()}const Wl=ee({slots:{activeIndicator:"relative flex w-14 items-center justify-center rounded-full",icon:"transition-colors",item:"group/state-layer text-on-surface group/navigation-rail-item relative flex h-14 flex-col items-center justify-center gap-1",label:"text-label-m transition-colors",stateLayer:"absolute inset-0 rounded-full"},variants:{active:{false:{icon:"text-on-surface-variant group-hover/navigation-rail-item:text-on-surface group-focus-within/navigation-rail-item:text-on-surface",label:"text-on-surface-variant group-hover/navigation-rail-item:text-on-surface group-focus-within/navigation-rail-item:text-on-surface"},true:{activeIndicator:"bg-secondary-container",icon:"text-on-secondary-container icon-filled",label:"text-on-surface"}},hideLabel:{false:{activeIndicator:"h-8",label:"after:absolute after:inset-0"},true:{activeIndicator:"h-14",label:"absolute inset-0 opacity-0"}}}});var Ul=et("<div><div><!> <!></div> <a><!></a></div>");function jl(r,t){st(t,!0);let e=L(t,"active",3,!1),n=lt(t,["$$slots","$$events","$$legacy","active","children","class","hideLabel","href","icon"]),o=x(()=>Wl({active:e(),hideLabel:t.hideLabel})),s=K(null);var i=Ul();let a;var l=$(i),h=$(l);const u=x(()=>c(o).stateLayer());Dn(h,{get target(){return c(s)},get class(){return c(u)}});var f=nt(h,2);const p=x(()=>c(o).icon());br(f,{get icon(){return t.icon},get class(){return c(p)}}),Q(l);var m=nt(l,2),b=$(m);ot(b,()=>t.children??ut),Q(m),Wo(m,g=>B(s,g),()=>c(s)),Q(i),at((g,_,A)=>{a=mt(i,a,{class:g,...n}),te(l,1,_),Mr(m,"href",t.href),te(m,1,A)},[()=>c(o).item({className:t.class}),()=>$t(c(o).activeIndicator()),()=>$t(c(o).label())]),I(r,i),it()}function ql(r,t){var e=Z(),n=U(e);Et(n,()=>Rl,(o,s)=>{s(o,ht(()=>t.tooltip,{children:(i,a)=>{var l=Z(),h=U(l);ot(h,()=>t.children??ut),I(i,l)},$$slots:{default:!0}}))}),I(r,e)}const Hl=ee({slots:{corner:"",root:"size-full overflow-hidden",scrollbar:"ui-vertical:w-2 ui-horizontal:h-2 ui-vertical:hover:w-3 ui-horizontal:hover:h-3 transition-all",thumb:"bg-on-surface/38 hover:bg-secondary size-full rounded-full transition-all",viewport:"size-full max-h-full max-w-full"}});var Gl=et("<!> <!> <!> <!>",1);function Yl(r,t){st(t,!0);let e=L(t,"orientation",3,"vertical"),n=L(t,"ref",15,null),o=L(t,"viewportRef",15,null),s=lt(t,["$$slots","$$events","$$legacy","children","class","cornerClass","orientation","ref","scrollbarClass","thumbClass","viewportClass","viewportRef"]),i=x(Hl),a=x(()=>c(i).corner),l=x(()=>c(i).root),h=x(()=>c(i).scrollbar),u=x(()=>c(i).thumb),f=x(()=>c(i).viewport);var p=Z(),m=U(p);const b=x(()=>c(l)({className:t.class}));Et(m,()=>Ua,(g,_)=>{_(g,ht({get class(){return c(b)}},()=>s,{get ref(){return n()},set ref(A){n(A)},children:(A,T)=>{var R=Gl(),w=U(R);const v=x(()=>c(f)({class:t.viewportClass}));Et(w,()=>qa,(q,H)=>{H(q,{get class(){return c(v)},get children(){return t.children},get ref(){return o()},set ref(V){o(V)}})});var P=nt(w,2);{var y=q=>{var H=Z(),V=U(H);const X=x(()=>c(h)({class:t.scrollbarClass}));Et(V,()=>Fo,(tt,rt)=>{rt(tt,{get class(){return c(X)},orientation:"horizontal",children:(dt,xt)=>{var gt=Z(),St=U(gt);const Ft=x(()=>c(u)({class:t.thumbClass}));Et(St,()=>zo,(Ot,Ut)=>{Ut(Ot,{get class(){return c(Ft)}})}),I(dt,gt)},$$slots:{default:!0}})}),I(q,H)};ct(P,q=>{(e()==="horizontal"||e()==="both")&&q(y)})}var S=nt(P,2);{var D=q=>{var H=Z(),V=U(H);const X=x(()=>c(h)({class:t.scrollbarClass}));Et(V,()=>Fo,(tt,rt)=>{rt(tt,{get class(){return c(X)},orientation:"vertical",children:(dt,xt)=>{var gt=Z(),St=U(gt);const Ft=x(()=>c(u)({class:t.thumbClass}));Et(St,()=>zo,(Ot,Ut)=>{Ut(Ot,{get class(){return c(Ft)}})}),I(dt,gt)},$$slots:{default:!0}})}),I(q,H)};ct(S,q=>{(e()==="vertical"||e()==="both")&&q(D)})}var M=nt(S,2);const J=x(()=>c(a)({class:t.cornerClass}));Et(M,()=>el,(q,H)=>{H(q,{get class(){return c(J)}})}),I(A,R)},$$slots:{default:!0}}))}),I(r,p),it()}const Xl=r=>{Ee();var t=Ne("Search");I(r,t)},Kl=r=>{br(r,{icon:"search"})},Jl=ee({slots:{container:"shadow-3 bg-surface-container-highest group/state-layer max-w-180 relative flex h-14 w-full cursor-text flex-row items-center gap-4 rounded-full px-4",input:"text-on-surface peer/search-bar-input outline-none",label:"text-on-surface-variant peer-not-placeholder-shown/search-bar-input:opacity-0 absolute inset-0",labelContainer:"text-body-l relative flex-1",leading:"text-on-surface",stateLayer:"absolute inset-0 rounded-full",trailing:"text-on-surface-variant"}});var Ql=et("<label><!> <div><input> <span><!></span></div> <!> <!></label>");function Zl(r,t){st(t,!0);let e=L(t,"label",3,Xl),n=L(t,"leading",3,Kl),o=L(t,"placeholder",3,""),s=lt(t,["$$slots","$$events","$$legacy","class","label","leading","placeholder","trailing"]),i=x(()=>Jl({}));var a=Ql(),l=$(a);ot(l,n);var h=nt(l,2),u=$(h);ri(u);let f;var p=nt(u,2),m=$(p);ot(m,e),Q(p),Q(h);var b=nt(h,2);ot(b,()=>t.trailing??ut);var g=nt(b,2);const _=x(()=>c(i).stateLayer());Dn(g,{get class(){return c(_)},focus:"none"}),Q(a),at((A,T,R,w)=>{te(a,1,A),te(h,1,T),f=mt(u,f,{class:R,type:"search",placeholder:o(),...s}),te(p,1,w)},[()=>$t(c(i).container({className:t.class})),()=>$t(c(i).labelContainer({})),()=>c(i).input({}),()=>$t(c(i).label({}))]),I(r,a),it()}const $l=ee({compoundSlots:[{class:["rounded-xxs absolute","group-ui-horizontal/slider:first:left-0 group-ui-horizontal/slider:last:right-0","group-ui-vertical/slider:first:bottom-0 group-ui-vertical/slider:last:top-0"],slots:["inactiveTrack","activeTrack"]},{class:["group-ui-horizontal/slider:mx-2 group-ui-horizontal/slider:h-4 group-ui-horizontal/slider:first:-ml-2 group-ui-horizontal/slider:last:-mr-2 group-ui-horizontal/slider:first:rounded-l-sm group-ui-horizontal/slider:last:rounded-r-sm","group-ui-vertical/slider:my-2 group-ui-vertical/slider:w-4 group-ui-vertical/slider:first:-mb-2 group-ui-vertical/slider:last:-mt-2 group-ui-vertical/slider:first:rounded-b-sm group-ui-vertical/slider:last:rounded-t-sm"],collapsible:!1,slots:["inactiveTrack","activeTrack"]},{class:["transition-[width,height,margin,border-radius]","group-ui-horizontal/slider:h-1 group-ui-horizontal/slider:first:-ml-0.5 group-ui-horizontal/slider:last:-mr-0.5 group-ui-horizontal/slider:mx-0.5","group-ui-vertical/slider:w-1 group-ui-vertical/slider:first:-mb-0.5 group-ui-vertical/slider:last:-mt-0.5 group-ui-vertical/slider:my-0.5","group-ui-horizontal/slider:group-hover/slider:mx-2 group-ui-horizontal/slider:group-hover/slider:h-4 group-ui-horizontal/slider:group-hover/slider:first:-ml-2 group-ui-horizontal/slider:group-hover/slider:last:-mr-2 group-ui-horizontal/slider:group-hover/slider:first:rounded-l-sm group-ui-horizontal/slider:group-hover/slider:last:rounded-r-sm","group-ui-horizontal/slider:group-focus-within/slider:mx-2 group-ui-horizontal/slider:group-focus-within/slider:h-4 group-ui-horizontal/slider:group-focus-within/slider:first:-ml-2 group-ui-horizontal/slider:group-focus-within/slider:last:-mr-2 group-ui-horizontal/slider:group-focus-within/slider:first:rounded-l-sm group-ui-horizontal/slider:group-focus-within/slider:last:rounded-r-sm","group-ui-vertical/slider:group-hover/slider:my-2 group-ui-vertical/slider:group-hover/slider:w-4 group-ui-vertical/slider:group-hover/slider:first:-mb-2 group-ui-vertical/slider:group-hover/slider:last:-mt-2 group-ui-vertical/slider:group-hover/slider:first:rounded-b-sm group-ui-vertical/slider:group-hover/slider:last:rounded-t-sm","group-ui-vertical/slider:group-focus-within/slider:my-2 group-ui-vertical/slider:group-focus-within/slider:w-4 group-ui-vertical/slider:group-focus-within/slider:first:-mb-2 group-ui-vertical/slider:group-focus-within/slider:last:-mt-2 group-ui-vertical/slider:group-focus-within/slider:first:rounded-b-sm group-ui-vertical/slider:group-focus-within/slider:last:rounded-t-sm"],collapsible:!0,slots:["inactiveTrack","activeTrack"]}],slots:{activeTrack:"bg-primary group-disabled/slider:bg-on-surface/38",handle:["bg-primary cursor-grab rounded-full outline-none transition-[width]","group-ui-horizontal/slider:h-11 group-ui-horizontal/slider:hover:w-1 group-ui-horizontal/slider:focus:w-0.5 group-ui-horizontal/slider:group-disabled/slider:!w-1","group-ui-vertical/slider:w-11 group-ui-vertical-horizontal/slider:hover:h-1 group-ui-vertical/slider:focus:h-0.5 group-ui-vertical/slider:group-disabled/slider:!h-1","group-disabled/slider:bg-on-surface/38 group-disabled/slider:!cursor-default"],inactiveTrack:"bg-secondary-container group-disabled/slider:bg-on-surface/12",indicator:["group-disabled/slider:bg-on-surface/38 group-disabled/slider:data-[bounded]:bg-inverse-on-surface/38 bg-on-secondary-container data-[bounded]:bg-on-primary data-[bounded]:not-has-[+.peer[data-bounded]]:!bg-transparent group-ui-horizontal/slider:!-translate-x-1/2 group-ui-vertical/slider:!translate-y-1/2 peer rounded-full transition-[width,height]"],root:["group/slider relative flex cursor-pointer items-center disabled:cursor-default","ui-horizontal:min-w-86 ui-horizontal:flex-row ui-horizontal:h-11 ui-horizontal:mx-2","ui-vertical:min-h-86 ui-vertical:flex-col ui-vertical:w-11 ui-vertical:my-2"]},variants:{collapsible:{false:{handle:["group-ui-horizontal/slider:w-1","group-ui-vertical/slider:h-1"],indicator:"size-1"},true:{handle:["group-ui-horizontal/slider:w-0 group-ui-horizontal/slider:group-hover/slider:w-1 group-ui-horizontal/slider:group-focus-within/slider:w-1 group-ui-horizontal/slider:group-disabled/slider:!w-0","group-ui-vertical/slider:h-0 group-ui-vertical/slider:group-hover/slider:h-1 group-ui-vertical/slider:group-focus-within/slider:h-1 group-ui-vertical/slider:group-disabled/slider:!h-0"],indicator:"size-0 group-focus-within/slider:size-1 group-hover/slider:size-1 group-disabled/slider:size-0"}},type:{multiple:{indicator:"data-[bounded]:not-peer-data-[bounded]:!bg-transparent"},single:{}}}}),tc=/left\s*:\s*([0-9.]+%)/,ec=/right\s*:\s*([0-9.]+%)/,rc=/top\s*:\s*([0-9.]+%)/,nc=/bottom\s*:\s*([0-9.]+%)/;var oc=et("<span></span>"),sc=et('<span class="contents"><!> <span></span> <span></span></span>'),ic=et("<!> <!> <!>",1);function Bo(r,t){st(t,!0);let e=L(t,"collapsible",3,!1),n=L(t,"discrete",3,!1),o=L(t,"ref",15,null),s=L(t,"step",3,1),i=L(t,"value",15),a=lt(t,["$$slots","$$events","$$legacy","class","collapsible","discrete","ref","step","type","value"]),l=x(()=>$l({collapsible:e(),type:t.type})),h=x(()=>c(l).activeTrack),u=x(()=>c(l).handle),f=x(()=>c(l).inactiveTrack),p=x(()=>c(l).indicator),m=x(()=>c(l).root);var b=Z(),g=U(b);const _=x(()=>c(m)({className:t.class}));Et(g,()=>gl,(A,T)=>{T(A,ht({get class(){return c(_)},get type(){return t.type},get step(){return s()}},()=>a,{get ref(){return o()},set ref(w){o(w)},get value(){return i()},set value(w){i(w)},children:(w,v)=>{let P=()=>v==null?void 0:v().thumbs,y=()=>v==null?void 0:v().ticks;var S=ic();const D=x(()=>y().at(0)),M=x(()=>y().at(-1)),J=x(()=>!n()&&t.type==="single"&&c(M)?[c(M)]:!n()&&t.type==="multiple"&&c(D)&&c(M)?[c(D),c(M)]:y());var q=U(S);Et(q,()=>vl,(X,tt)=>{tt(X,{child:(dt,xt)=>{let gt=()=>xt==null?void 0:xt().props;var St=sc();const Ft=x(()=>{var wt;return(wt=tc.exec(gt().style))==null?void 0:wt[1]}),Ot=x(()=>{var wt;return(wt=ec.exec(gt().style))==null?void 0:wt[1]}),Ut=x(()=>{var wt;return(wt=rc.exec(gt().style))==null?void 0:wt[1]}),xe=x(()=>{var wt;return(wt=nc.exec(gt().style))==null?void 0:wt[1]});var wr=$(St);{var Bn=wt=>{var Te=oc();at(Cs=>{te(Te,1,Cs),Oe(Te,c(Ft)?`right: calc(100% - ${c(Ft)})`:c(Ut)?`top: calc(100% - ${c(xe)})`:"")},[()=>$t(c(f)())]),I(wt,Te)};ct(wr,wt=>{t.type==="multiple"&&wt(Bn)})}var Se=nt(wr,2);let kr;var Pr=nt(Se,2);Q(St),at((wt,Te)=>{kr=mt(Se,kr,{class:wt,...gt()}),te(Pr,1,Te),Oe(Pr,c(Ot)?`left: calc(100% - ${c(Ot)})`:c(xe)?`bottom: calc(100% - ${c(Ut)})`:"")},[()=>c(h)(),()=>$t(c(f)())]),I(dt,St)},$$slots:{child:!0}})});var H=nt(q,2);Le(H,16,P,X=>X,(X,tt)=>{var rt=Z(),dt=U(rt);const xt=x(()=>c(u)());Et(dt,()=>wl,(gt,St)=>{St(gt,{get class(){return c(xt)},get index(){return tt}})}),I(X,rt)});var V=nt(H,2);Le(V,16,()=>c(J),X=>X,(X,tt)=>{var rt=Z(),dt=U(rt);const xt=x(()=>c(p)());Et(dt,()=>Pl,(gt,St)=>{St(gt,{get class(){return c(xt)},get index(){return tt}})}),I(X,rt)}),I(w,S)},$$slots:{default:!0}}))}),I(r,b),it()}const ac=ee({compoundVariants:[{class:{container:"ui-off:text-primary"},color:"primary",variant:"filled"},{class:{container:"ui-on:text-primary"},color:"primary",variant:"standard"},{class:{container:"ui-off:text-secondary"},color:"secondary",variant:"filled"},{class:{container:"ui-on:text-secondary"},color:"secondary",variant:"standard"},{class:{container:"ui-off:text-tertiary"},color:"tertiary",variant:"filled"},{class:{container:"ui-on:text-tertiary"},color:"tertiary",variant:"standard"},{class:{container:"ui-off:text-error"},color:"error",variant:"filled"},{class:{container:"ui-on:text-error"},color:"error",variant:"standard"}],extend:li,slots:{container:"ui-on:icon-filled ui-on:icon-grade-high whitespace-nowrap"},variants:{variant:{filled:{container:"ui-off:bg-surface-container-highest"},outlined:{container:"ui-on:bg-inverse-surface ui-on:text-inverse-on-surface ui-on:disabled:bg-on-surface/12 ui-on:border-none bg-transparent"},tonal:{container:"ui-off:bg-surface-container-highest ui-off:text-on-surface-variant"}}}});var lc=et("<!> <!>",1);function qn(r,t){st(t,!0);let e=L(t,"pressed",15,!1),n=L(t,"ref",15,null),o=lt(t,["$$slots","$$events","$$legacy","color","containerClass","icon","pressed","ref","stateLayerClass","variant"]);const s=ac({color:t.color,variant:t.variant});var i=Z(),a=U(i);const l=x(()=>s.container({class:t.containerClass}));Et(a,()=>Al,(h,u)=>{u(h,ht({get class(){return c(l)}},()=>o,{get ref(){return n()},set ref(f){n(f)},get pressed(){return e()},set pressed(f){e(f)},children:(f,p)=>{var m=lc(),b=U(m);const g=x(()=>s.stateLayer({class:t.stateLayerClass}));Dn(b,{get target(){return n()},get class(){return c(g)}});var _=nt(b,2);br(_,{class:"transition-[font-variation-settings]",get icon(){return t.icon}}),I(f,m)},$$slots:{default:!0}}))}),I(r,i),it()}const Hn=[{href:"/",icon:"playlist_play",label:"Queue"},{href:"/library",icon:"folder",label:"Library"},{href:"/artist",icon:"artist",label:"Artists"},{href:"/album",icon:"album",label:"Albums"},{href:"/track",icon:"music_note",label:"Tracks"},{href:"/playlist",icon:"queue_music",label:"Playlists"},{href:"/history",icon:"history",label:"History"}];var cc=et("<!> <!>",1);function uc(r,t){st(t,!0);let e=x(()=>Hn.findLastIndex(({href:i})=>ts.url.pathname.includes(i)));var n=cc(),o=U(n);Ll(o,{class:"max-large:hidden",children:(i,a)=>{var l=Z(),h=U(l);Le(h,17,()=>Hn,Ao,(u,f,p)=>{let m=()=>c(f).href,b=()=>c(f).icon,g=()=>c(f).label;const _=x(()=>p===c(e));Fl(u,{get active(){return c(_)},get href(){return`${Yn??""}${m()??""}`},get icon(){return b()},children:(A,T)=>{Ee();var R=Ne();at(()=>ke(R,g())),I(A,R)},$$slots:{default:!0}})}),I(i,l)},$$slots:{default:!0}});var s=nt(o,2);Vl(s,{class:"py-8 max-medium:hidden large:hidden",children:(i,a)=>{var l=Z(),h=U(l);Le(h,17,()=>Hn,Ao,(u,f,p)=>{let m=()=>c(f).href,b=()=>c(f).icon,g=()=>c(f).label;const _=x(()=>p===c(e));jl(u,{get active(){return c(_)},get href(){return`${Yn??""}${m()??""}`},get icon(){return b()},children:(A,T)=>{Ee();var R=Ne();at(()=>ke(R,g())),I(A,R)},$$slots:{default:!0}})}),I(i,l)},$$slots:{default:!0}}),I(r,n),it()}var hc=et('<img class="aspect-square h-full rounded-md object-cover" alt="Album cover">'),dc=et(`<span class="not-last:after:content-[',_']"> </span>`),fc=et('<div class="flex h-16 flex-row items-center gap-4"><!> <div class="flex w-40 flex-col first:pl-2"><a class="truncate !text-title-m hover:underline"> </a> <span class="truncate text-title-s text-outline"></span></div></div>');function Ts(r,t){st(t,!0);const e=co();let n=x(()=>e.getImage(t.track.uri));_t(()=>{e.requestImages([t.track.uri])});var o=fc(),s=$(o);{var i=f=>{var p=hc();at(()=>Mr(p,"src",c(n))),I(f,p)};ct(s,f=>{c(n)&&f(i)})}var a=nt(s,2),l=$(a),h=$(l,!0);Q(l);var u=nt(l,2);Le(u,21,()=>t.track.artists,f=>f.uri,(f,p)=>{var m=dc(),b=$(m,!0);Q(m),at(()=>ke(b,c(p).name)),I(f,m)}),Q(u),Q(a),Q(o),at(f=>{Mr(l,"href",`${Yn??""}/track/${f??""}`),ke(h,t.track.name)},[()=>encodeURIComponent(t.track.uri)]),I(r,o),it()}var pc=et('<div class="contents palette"><!></div>');function Vo(r,t){st(t,!0);const e=co();let n=x(()=>e.getImage(t.track.uri)),o=x(()=>c(n)?e.getPalette(c(n)):void 0);_t(()=>{e.requestImages([t.track.uri]).then(a=>{a&&a[0]&&e.requestPalette(a[0])})});var s=pc(),i=$(s);Gn(i,{class:"rounded-md bg-surface-container p-2 text-on-surface-variant shadow-2",children:(a,l)=>{Ts(a,{get track(){return t.track}})},$$slots:{default:!0}}),Q(s),at(()=>Oe(s,c(o))),I(r,s),it()}var mc=et("<!> <!>",1),gc=et("<!> <!>",1),bc=et('<div class="flex flex-1 flex-row items-center gap-2"><span class="text-label-s"> </span> <!> <span class="text-label-s"> </span></div>'),vc=et('<!> <div class="flex flex-row gap-2"><!> <!> <!></div> <!>',1),yc=et('<span class="ml-2 grow text-title-m text-on-surface-variant italic">Nothing is playing</span>'),wc=et("<!> <!>",1),kc=et('<aside class="fixed right-0 bottom-0 left-0 z-50 flex h-20 flex-row items-center gap-8 rounded-t-lg bg-surface-container p-2 text-on-surface-variant palette"><!> <div class="mr-2 flex flex-row items-center"><!> <!> <!> <!></div></aside>');function Pc(r,t){st(t,!1);const e=Bs(co());ii();var n=kc(),o=$(n);{var s=p=>{var m=vc(),b=U(m);Ts(b,{get track(){return c(e).currentTrack.track}});var g=nt(b,2),_=$(g);To(_,{children:(y,S)=>{var D=mc(),M=U(D);Co(M,{child:(X,tt)=>{let rt=()=>tt==null?void 0:tt().props;var dt=x(()=>ft(rt(),{onclick:()=>c(e).skipPrevious()}));Me(X,ht({icon:"skip_previous"},()=>c(dt)))},$$slots:{child:!0}});var J=nt(M,2);{var q=V=>{Vo(V,{get track(){return c(e).previousTrack.track}})},H=V=>{Gn(V,{children:(X,tt)=>{Ee();var rt=Ne("Previous track");I(X,rt)},$$slots:{default:!0}})};ct(J,V=>{c(e).previousTrack?V(q):V(H,!1)})}I(y,D)},$$slots:{default:!0}});var A=nt(_,2);const T=Bt(()=>c(e).playbackState==="playing"?"pause":"play_arrow"),R=Bt(()=>c(e).playbackState==="playing"?"Pause":"Resume");Me(A,{get icon(){return c(T)},onclick:()=>c(e).togglePlaybackState(),get tooltip(){return c(R)},variant:"filled"});var w=nt(A,2);To(w,{children:(y,S)=>{var D=gc(),M=U(D);Co(M,{child:(X,tt)=>{let rt=()=>tt==null?void 0:tt().props;var dt=x(()=>ft(rt(),{onclick:()=>c(e).skipNext()}));Me(X,ht({icon:"skip_next"},()=>c(dt)))},$$slots:{child:!0}});var J=nt(M,2);{var q=V=>{Vo(V,{get track(){return c(e).nextTrack.track}})},H=V=>{Gn(V,{children:(X,tt)=>{Ee();var rt=Ne("Next track");I(X,rt)},$$slots:{default:!0}})};ct(J,V=>{c(e).nextTrack?V(q):V(H,!1)})}I(y,D)},$$slots:{default:!0}}),Q(g);var v=nt(g,2);{var P=y=>{var S=bc(),D=$(S),M=$(D,!0);Q(D);var J=nt(D,2);const q=Bt(()=>c(e).currentTrack.track.length/1e3),H=Bt(()=>c(e).timePosition/1e3);Bo(J,{class:"!min-w-auto grow",collapsible:!0,get max(){return c(q)},onValueCommit:tt=>{Ae(e,c(e).timePosition=tt*1e3)},type:"single",get value(){return c(H)}});var V=nt(J,2),X=$(V,!0);Q(V),Q(S),at((tt,rt)=>{ke(M,tt),ke(X,rt)},[()=>Ro(c(e).timePosition),()=>Ro(c(e).currentTrack.track.length)],Bt),I(y,S)};ct(v,y=>{c(e).timePosition!==null&&y(P)})}I(p,m)},i=p=>{var m=yc();I(p,m)};ct(o,p=>{c(e).currentTrack?p(s):p(i,!1)})}var a=nt(o,2),l=$(a);qn(l,{icon:"restaurant",title:"Consume",get pressed(){return c(e).consume},set pressed(p){Ae(e,c(e).consume=p)},$$legacy:!0});var h=nt(l,2);qn(h,{icon:"shuffle",title:"Shuffle",get pressed(){return c(e).shuffle},set pressed(p){Ae(e,c(e).shuffle=p)},$$legacy:!0});var u=nt(h,2);qn(u,{icon:"repeat",title:"Repeat",get pressed(){return c(e).repeat},set pressed(p){Ae(e,c(e).repeat=p)},$$legacy:!0});var f=nt(u,2);ca(f,{children:(p,m)=>{var b=wc(),g=U(b);la(g,{child:(T,R)=>{let w=()=>R==null?void 0:R().props;const v=Bt(()=>c(e).mute?"no_sound":c(e).volume>75?"volume_up":c(e).volume>25?"volume_down":"volume_mute");Me(T,ht({get icon(){return c(v)}},w))},$$slots:{child:!0}});var _=nt(g,2);ia(_,{class:"rounded-full bg-surface-container px-2 py-5.5 text-on-surface-variant shadow-2",children:(A,T)=>{Bo(A,{orientation:"vertical",type:"single",get value(){return c(e).volume},set value(R){Ae(e,c(e).volume=R)},$$legacy:!0})},$$slots:{default:!0}}),I(p,b)},$$slots:{default:!0}}),Q(a),Q(n),at(()=>Oe(n,c(e).currentTrackPalette)),pi(3,n,()=>Il,()=>({axis:"y"})),I(r,n),it()}var _c=et("<!> <!>",1),xc=et('<div class="pointer-events-none sticky top-0 z-30 flex w-full flex-row justify-center px-4 pt-2 medium:pt-4"><!></div>');function Sc(r){var t=xc(),e=$(t);Zl(e,{class:"pointer-events-auto",leading:o=>{var s=_c(),i=U(s);Me(i,{containerClass:"z-10 medium:hidden -m-2",icon:"menu"});var a=nt(i,2);br(a,{class:"max-medium:hidden",icon:"search"}),I(o,s)},$$slots:{leading:!0}}),Q(t),I(r,t)}var Tc=et('<!> <main class="mx-auto flex min-h-full max-w-(--breakpoint-large) flex-col"><!></main>',1),Cc=et('<div class="flex h-full flex-col bg-surface text-on-surface palette"><div class="flex h-full flex-row pb-20"><!> <!></div> <!></div>');function qc(r,t){st(t,!0);let e=K(null);ci(()=>c(e)),ni(t.data.mopidy);let n=x(()=>ts.data.palette??t.data.mopidy.currentTrackPalette??"");ql(r,{children:(o,s)=>{var i=Cc(),a=$(i),l=$(a);uc(l,{});var h=nt(l,2);Yl(h,{get viewportRef(){return c(e)},set viewportRef(f){B(e,Y(f))},children:(f,p)=>{var m=Tc(),b=U(m);Sc(b);var g=nt(b,2),_=$(g);ot(_,()=>t.children),Q(g),I(f,m)},$$slots:{default:!0}}),Q(a);var u=nt(a,2);Pc(u,{}),Q(i),at(()=>Oe(i,c(n))),I(o,i)}}),it()}export{qc as component,jc as universal};
