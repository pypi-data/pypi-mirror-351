import{c as D,a as s,t as C,b as g}from"./Ddg5X7gK.js";import{p as E,j as G,u as H,a as J,f as y,e as O,g as e,h as U,d as M,n as W,s as f,b as x}from"./mF3OkLKa.js";import{i as q,a as X,s as Y}from"./C8XeOgap.js";import{g as Z,I as m}from"./UAtXrf73.js";import{a as tt}from"./ChJsMzFl.js";import{M as et,a as rt,b as at,c as v}from"./C5SOYuky.js";import{T as st}from"./HfRZSccY.js";import{V as ot}from"./C9Lc9NEj.js";var nt=C("<!> <!> <!> <!>",1),lt=C("<!> <!>",1);function $t(w,_){E(_,!0);const z=G("scroll");let d=M(z),u=U(null),B=M(()=>e(u)&&e(d)?e(u).getBoundingClientRect().top-e(d).getBoundingClientRect().top:0);const l=Z();H(()=>{l.requestImages(_.tracks.map(a=>("track"in a?a.track:a).uri))}),tt(w,{get ref(){return e(u)},set ref(a){O(u,X(a))},children:(a,it)=>{var R=D(),N=y(R);{var Q=$=>{ot($,{get data(){return _.tracks},getKey:i=>"tlid"in i?i.tlid:i.uri,overscan:10,get scrollRef(){return e(d)},get startMargin(){return e(B)},children:(i,c=W)=>{const p=M(()=>"track"in c()?c().track:c());et(i,{type:"context",children:(V,dt)=>{var T=lt(),b=y(T);rt(b,{child:(P,o)=>{st(P,Y({get track(){return e(p)}},()=>o==null?void 0:o().props))},$$slots:{child:!0}});var j=f(b,2);at(j,{class:"z-50",children:(I,P)=>{var o=nt(),h=y(o);{var A=n=>{v(n,{onSelect:()=>l.removeFromQueue(c().tlid),leading:r=>{m(r,{icon:"clear"})},text:r=>{x();var K=g("Remove from queue");s(r,K)},$$slots:{leading:!0,text:!0}})};q(h,n=>{"tlid"in c()&&n(A)})}var L=f(h,2);v(L,{onSelect:()=>l.playNow(e(p)),leading:t=>{m(t,{icon:"play_arrow"})},text:t=>{x();var r=g("Play");s(t,r)},$$slots:{leading:!0,text:!0}});var S=f(L,2);v(S,{onSelect:()=>l.playNext(e(p)),leading:t=>{m(t,{icon:"resume"})},text:t=>{x();var r=g("Play next");s(t,r)},$$slots:{leading:!0,text:!0}});var F=f(S,2);v(F,{onSelect:()=>l.addToQueue(e(p)),leading:t=>{m(t,{icon:"add"})},text:t=>{x();var r=g("Add to queue");s(t,r)},$$slots:{leading:!0,text:!0}}),s(I,o)},$$slots:{default:!0}}),s(V,T)},$$slots:{default:!0}})},$$slots:{default:!0}})};q(N,$=>{e(d)&&$(Q)})}s(a,R)},$$slots:{default:!0}}),J()}export{$t as T};
