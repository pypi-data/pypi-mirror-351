import{t as c,a as l,s as g,b as G}from"./Ddg5X7gK.js";import{p as H,g as i,d as _,a as J,f as d,n as U,s as p,c as h,r as T,t as f}from"./mF3OkLKa.js";import{s as K,r as N,i as j}from"./C8XeOgap.js";import{g as O,a as q,s as x,e as P,I as Q}from"./UAtXrf73.js";import{b as I}from"./BMdZThlg.js";import{f as S}from"./BL6xdtUQ.js";import{L as V}from"./ChJsMzFl.js";var W=c('<img class="aspect-square h-full object-cover" alt="Album cover">'),X=c("<!> <!>",1),Y=c('<a class="after:absolute after:inset-0 after:z-10 hover:underline"> </a>'),Z=c('<!> <a class="relative after:absolute after:inset-0 after:z-10 hover:underline"> </a>',1),$=c('<!> â€§ <a class="relative after:absolute after:inset-0 after:z-10 hover:underline"> </a>',1),ee=c("<!> ",1);function ue(w,t){H(t,!0);let A=N(t,["$$slots","$$events","$$legacy","leading","track","trailing"]);const C=O();let y=_(()=>{var b;return t.track.uri===((b=C.currentTrack)==null?void 0:b.track.uri)}),z=_(()=>C.getImage(t.track.uri));const D=_(()=>i(y)?"text-primary":""),M=_(()=>i(y)?"text-secondary":"");V(w,K({get labelTextClass(){return i(D)},leadingClass:"inline-flex flex-row items-center gap-4",lines:2,get supportingTextClass(){return i(M)}},()=>A,{leading:n=>{var e=X(),a=d(e);q(a,()=>t.leading??U);var r=p(a,2);{var m=s=>{var v=W();f(()=>x(v,"src",i(z))),l(s,v)},o=s=>{Q(s,{icon:"music_note"})};j(r,s=>{i(z)?s(m):s(o,!1)})}l(n,e)},labelText:n=>{var e=Y(),a=h(e,!0);T(e),f(r=>{x(e,"href",`${I??""}/track/${r??""}`),g(a,t.track.name)},[()=>encodeURIComponent(t.track.uri)]),l(n,e)},supportingText:n=>{var e=$(),a=d(e);P(a,19,()=>t.track.artists,o=>o.uri,(o,s,v)=>{var L=Z(),R=d(L);{var B=u=>{var F=G(",");l(u,F)};j(R,u=>{i(v)>0&&u(B)})}var k=p(R,2),E=h(k,!0);T(k),f(u=>{x(k,"href",`${I??""}/artist/${u??""}`),g(E,i(s).name)},[()=>encodeURIComponent(i(s).uri)]),l(o,L)});var r=p(a,2),m=h(r,!0);T(r),f(o=>{x(r,"href",`${I??""}/album/${o??""}`),g(m,t.track.album.name)},[()=>encodeURIComponent(t.track.album.uri)]),l(n,e)},trailing:n=>{var e=ee(),a=d(e);q(a,()=>t.trailing??U);var r=p(a);f(m=>g(r,` ${m??""}`),[()=>S(t.track.length)]),l(n,e)},$$slots:{leading:!0,labelText:!0,supportingText:!0,trailing:!0}})),J()}export{ue as T};
