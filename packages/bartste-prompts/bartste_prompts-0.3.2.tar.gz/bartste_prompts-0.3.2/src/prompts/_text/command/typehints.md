## Command: refactor

Please add appropriate type hints to all functions, methods and variables.
Follow standard type hinting conventions for each language.

Key requirements:
- Add type hints where they are missing
- Maintain existing code style
- Use modern typing syntax (e.g., list[str] instead of List[str])
- Include return type annotations
- Be consistent with the existing codebase's typing style
