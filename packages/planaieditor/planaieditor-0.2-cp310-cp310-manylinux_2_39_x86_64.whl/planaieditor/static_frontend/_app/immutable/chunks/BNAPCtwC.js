import{c as T,db as pe,dc as ge,dd as ve,de as P,df as R,l as v,dg as Ee,dh as ye,di as be,dj as xe,dk as W,dl as we,dm as Te,U as H,dn as ae,dp as Ie,dq as Ae,dr as B,ds as z,dt as D,du as Se,dv as Ce,dw as L,D as Oe,dx as le,R as Le,cF as Pe,cG as M,dy as ke,dz as A,dA as k,dB as S,dC as K,dD as Re,dE as Ne,dF as _e,dG as De,dH as Me,dI as Z,dJ as Be,dK as q,N as X,cf as I,bP as We,dL as Ue,dM as ze,dN as c,dO as $e}from"./DRtkoAoK.js";const lt=T("treeViewsDndService"),ct=T("downloadService"),dt=T("productService"),ut=T("requestService");class Ve{constructor(t){this.value=t,this.isTrustedTelemetryValue=!0}}class je{constructor(){this.telemetryLevel=P.NONE,this.sessionId="someValue.sessionId",this.machineId="someValue.machineId",this.sqmId="someValue.sqmId",this.devDeviceId="someValue.devDeviceId",this.firstSessionDate="someValue.firstSessionDate",this.sendErrorTelemetry=!1}publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}setExperimentProperty(){}}new je;class ht{async publicLog(t,n,s){}async publicLogError(t,n,s){}}const Fe="telemetry",ft={id:Fe,name:v(1989,"Telemetry")};function mt(e,t){return!t.isBuilt&&!t.disableTelemetry?!0:!(t.disableTelemetry||!e.enableTelemetry)}function pt(e,t){var n;return t.extensionTestsLocationURI?!0:!(t.isBuilt||t.disableTelemetry||e.enableTelemetry&&((n=e.aiConfig)!=null&&n.ariaKey))}function gt(e){const t=e.getValue(pe),n=e.getValue(ge);if(e.getValue(ve)===!1||n===!1)return P.NONE;switch(t??R.ON){case R.ON:return P.USAGE;case R.ERROR:return P.ERROR;case R.CRASH:return P.CRASH;case R.OFF:return P.NONE}}const He=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]);function vt(e){if(!e)return"none";const t=Ee(e);return He.has(t)?t:"other"}function qe(e,t){if(!e||!e.includes("/")&&!e.includes("\\"))return e;let n=e;const s=[];for(const r of t)for(;;){const o=r.exec(e);if(!o)break;s.push([o.index,r.lastIndex])}const i=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let l=0;for(n="";;){const r=a.exec(e);if(!r)break;const o=s.some(([h,m])=>r.index<m&&h<a.lastIndex);!i.test(r[0])&&!o&&(n+=e.substring(l,r.index)+"<REDACTED: user-file-path>",l=a.lastIndex)}return l<e.length&&(n+=e.substr(l)),n}function Ge(e){if(!e)return e;const t=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"GitHub Token",regex:/(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i},{label:"CLI Credentials",regex:/((login|psexec|(certutil|psexec)\.exe).{1,50}(\s-u(ser(name)?)?\s+.{3,100})?\s-(admin|user|vm|root)?p(ass(word)?)?\s+["']?[^$\-\/\s]|(^|[\s\r\n\\])net(\.exe)?.{1,5}(user\s+|share\s+\/user:| user -? secrets ? set) \s + [^ $\s \/])/},{label:"Microsoft Entra ID",regex:/eyJ(?:0eXAiOiJKV1Qi|hbGci|[a-zA-Z0-9\-_]+\.[a-zA-Z0-9\-_]+\.)/},{label:"Email",regex:/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/}];for(const n of t)if(n.regex.test(e))return`<REDACTED: ${n.label}>`;return e}function Et(e,t){return ye(e,n=>{if(n instanceof Ve||Object.hasOwnProperty.call(n,"isTrustedTelemetryValue"))return n.value;if(typeof n=="string"){let s=n.replaceAll("%20"," ");s=qe(s,t);for(const i of t)s=s.replace(i,"");return s=Ge(s),s}})}const yt=T("urlService"),bt=T("canonicalUriIdentityService"),xt=T("ITrustedDomainService"),wt=T("jsonEditingService");function Tt(e,t){return e.uuid&&t.uuid?e.uuid===t.uuid:e.id===t.id?!0:be(e.id,t.id)===0}const Ke=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function It(e){const t=Ke.exec(e);return t&&t[1]?[G(t[1]),t[2]]:[G(e),void 0]}function ce(e,t){return`${e}.${t}`}function G(e){return e.toLowerCase()}function Ze(e,t){return G(ce(e??xe,t))}new W("pprice.better-merge");async function Xe(e,t){if(!Te)return!1;let n;try{n=(await e.readFile(H.file("/etc/os-release"))).value.toString()}catch{try{n=(await e.readFile(H.file("/usr/lib/os-release"))).value.toString()}catch(i){t.debug("Error while getting the os-release file.",ae(i))}}return!!n&&(n.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async function At(e,t){const n=await Xe(e,t),s=we(n?"alpine":Ae,Ie);return t.debug("ComputeTargetPlatform:",s),s}const St=Object.freeze({identifier:new W("nullExtensionDescription"),name:"Null Extension Description",version:"0.0.0",publisher:"vscode",engines:{vscode:""},extensionLocation:H.parse("void:location"),isBuiltin:!1,targetPlatform:Ce.UNDEFINED,isUserBuiltin:!1,isUnderDevelopment:!1,preRelease:!1});class Ct{constructor(t){this.dependency=t}}var J;(function(e){e[e.EagerAutoStart=1]="EagerAutoStart",e[e.EagerManualStart=2]="EagerManualStart",e[e.Lazy=3]="Lazy"})(J||(J={}));class Ot{get versionId(){return this._versionId}get allExtensions(){return this._allExtensions}get myExtensions(){return this._myExtensions}constructor(t,n,s){this._versionId=t,this._allExtensions=n.slice(0),this._myExtensions=s.slice(0),this._myActivationEvents=null}toSnapshot(){return{versionId:this._versionId,allExtensions:this._allExtensions,myExtensions:this._myExtensions,activationEvents:z.createActivationEventsMap(this._allExtensions)}}set(t,n,s){if(this._versionId>t)throw new Error(`ExtensionHostExtensions: invalid versionId ${t} (current: ${this._versionId})`);const i=[],a=[],l=[],r=[],o=Y(this._allExtensions),h=Y(n),m=(u,y)=>u.extensionLocation.toString()===y.extensionLocation.toString()||u.isBuiltin===y.isBuiltin||u.isUserBuiltin===y.isUserBuiltin||u.isUnderDevelopment===y.isUnderDevelopment;for(const u of this._allExtensions){const y=h.get(u.identifier);if(!y){i.push(u.identifier),o.delete(u.identifier);continue}if(!m(u,y)){i.push(u.identifier),o.delete(u.identifier);continue}}for(const u of n){const y=o.get(u.identifier);if(!y){a.push(u);continue}if(!m(y,u)){i.push(y.identifier),o.delete(y.identifier);continue}}const b=new D(this._myExtensions),d=new D(s);for(const u of this._myExtensions)d.has(u)||l.push(u);for(const u of s)b.has(u)||r.push(u);const C=z.createActivationEventsMap(a),x={versionId:t,toRemove:i,toAdd:a,addActivationEvents:C,myToRemove:l,myToAdd:r};return this.delta(x),x}delta(t){if(this._versionId>=t.versionId)return null;const{toRemove:n,toAdd:s,myToRemove:i,myToAdd:a}=t,l=new D(n),r=new D(i);for(let o=0;o<this._allExtensions.length;o++)l.has(this._allExtensions[o].identifier)&&(this._allExtensions.splice(o,1),o--);for(let o=0;o<this._myExtensions.length;o++)r.has(this._myExtensions[o])&&(this._myExtensions.splice(o,1),o--);for(const o of s)this._allExtensions.push(o);for(const o of a)this._myExtensions.push(o);return this._myActivationEvents=null,t}containsExtension(t){for(const n of this._myExtensions)if(W.equals(n,t))return!0;return!1}containsActivationEvent(t){return this._myActivationEvents||(this._myActivationEvents=this._readMyActivationEvents()),this._myActivationEvents.has(t)}_readMyActivationEvents(){const t=new Set;for(const n of this._allExtensions){if(!this.containsExtension(n.identifier))continue;const s=z.readActivationEvents(n);for(const i of s)t.add(i)}return t}}function Y(e){const t=new Se;for(const n of e)t.set(n.identifier,n);return t}function Je(e,t){return e.enabledApiProposals?e.enabledApiProposals.includes(t):!1}function Lt(e,t){var n;if(!Je(e,t))throw new Error(`Extension '${e.identifier.value}' CANNOT use API proposal: ${t}.
Its package.json#enabledApiProposals-property declares: ${((n=e.enabledApiProposals)==null?void 0:n.join(", "))??"[]"} but NOT ${t}.
 The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ${e.identifier.value}`)}class Pt{constructor(t,n,s,i){this.codeLoadingTime=t,this.activateCallTime=n,this.activateResolvedTime=s,this.activationReason=i}}class kt{constructor(t,n){this.description=t,this.value=n}}var Q;(function(e){e[e.Normal=0]="Normal",e[e.Immediate=1]="Immediate"})(Q||(Q={}));function Rt(e){return{type:e.isBuiltin?B.System:B.User,isBuiltin:e.isBuiltin||e.isUserBuiltin,identifier:{id:Ze(e.publisher,e.name),uuid:e.uuid},manifest:e,location:e.extensionLocation,targetPlatform:e.targetPlatform,validations:[],isValid:!0,preRelease:e.preRelease,publisherDisplayName:e.publisherDisplayName}}function Nt(e,t){const n=ce(e.manifest.publisher,e.manifest.name);return{id:n,identifier:new W(n),isBuiltin:e.type===B.System,isUserBuiltin:e.type===B.User&&e.isBuiltin,isUnderDevelopment:!!t,extensionLocation:e.location,uuid:e.identifier.uuid,targetPlatform:e.targetPlatform,publisherDisplayName:e.publisherDisplayName,preRelease:e.preRelease,...e.manifest}}class _t{constructor(){this.onDidRegisterExtensions=L.None,this.onDidChangeExtensionsStatus=L.None,this.onDidChangeExtensions=L.None,this.onWillActivateByEvent=L.None,this.onDidChangeResponsiveChange=L.None,this.onWillStop=L.None,this.extensions=[]}activateByEvent(t){return Promise.resolve(void 0)}activateById(t,n){return Promise.resolve(void 0)}activationEventIsDone(t){return!1}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(t){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPorts(t,n){return Promise.resolve([])}async stopExtensionHosts(){return!0}async startExtensionHosts(){}async setRemoteEnvironment(t){}canAddExtension(){return!1}canRemoveExtension(){return!1}}const Dt=T("remoteAgentService"),Mt=T("IUserActivityService");class Ye{constructor(t){this.original=t}toJSON(){if(!this.headers){const t=Object.create(null);for(const n in this.original)n.toLowerCase()==="authorization"||n.toLowerCase()==="proxy-authorization"?t[n]="*****":t[n]=this.original[n];this.headers=t}return this.headers}}class Bt extends Oe{constructor(t){super(),this.logService=t,this.counter=0}async logAndRequest(t,n){const s=`#${++this.counter}: ${t.url}`;this.logService.trace(`${s} - begin`,t.type,new Ye(t.headers??{}));try{const i=await n();return this.logService.trace(`${s} - end`,t.type,i.res.statusCode,i.res.headers),i}catch(i){throw this.logService.error(`${s} - error`,t.type,ae(i)),i}}}function de(e){return e.res.statusCode&&e.res.statusCode>=200&&e.res.statusCode<300||e.res.statusCode===1223}function ue(e){return e.res.statusCode===204}async function Qe(e){return ue(e)?null:(await le(e.stream)).toString()}async function Wt(e){if(!de(e))throw new Error("Server returned "+e.res.statusCode);return Qe(e)}async function Ut(e){if(!de(e))throw new Error("Server returned "+e.res.statusCode);if(ue(e))return null;const n=(await le(e.stream)).toString();try{return JSON.parse(n)}catch(s){throw s.message+=`:
`+n,s}}let $=[],ee,te;function et(e=!0,t=!0){if(ee===e&&te===t)return;ee=e,te=t;const n=Le.as(Pe.Configuration),s=$;$=[{id:"http",order:15,title:v(1953,"HTTP"),type:"object",scope:M.MACHINE,properties:{"http.useLocalProxyConfiguration":{type:"boolean",default:t,markdownDescription:v(1954,"Controls whether in the remote extension host the local proxy configuration should be used. This setting only applies as a remote setting during [remote development](https://aka.ms/vscode-remote)."),restricted:!0}}},{id:"http",order:15,title:v(1953,"HTTP"),type:"object",scope:M.APPLICATION,properties:{"http.electronFetch":{type:"boolean",default:!1,description:v(1955,"Controls whether use of Electron's fetch implementation instead of Node.js' should be enabled. All local extensions will get Electron's fetch implementation for the global fetch API."),restricted:!0}}},{id:"http",order:15,title:v(1953,"HTTP"),type:"object",scope:e?M.APPLICATION:M.MACHINE,properties:{"http.proxy":{type:"string",pattern:"^(https?|socks|socks4a?|socks5h?)://([^:]*(:[^@]*)?@)?([^:]+|\\[[:0-9a-fA-F]+\\])(:\\d+)?/?$|^$",markdownDescription:v(1956,"The proxy setting to use. If not set, will be inherited from the `http_proxy` and `https_proxy` environment variables. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.proxyStrictSSL":{type:"boolean",default:!0,markdownDescription:v(1957,"Controls whether the proxy server certificate should be verified against the list of supplied CAs. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.proxyKerberosServicePrincipal":{type:"string",markdownDescription:v(1958,"Overrides the principal service name for Kerberos authentication with the HTTP proxy. A default based on the proxy hostname is used when this is not set. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.noProxy":{type:"array",items:{type:"string"},markdownDescription:v(1959,"Specifies domain names for which proxy settings should be ignored for HTTP/HTTPS requests. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.proxyAuthorization":{type:["null","string"],default:null,markdownDescription:v(1960,"The value to send as the `Proxy-Authorization` header for every network request. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.proxySupport":{type:"string",enum:["off","on","fallback","override"],enumDescriptions:[v(1961,"Disable proxy support for extensions."),v(1962,"Enable proxy support for extensions."),v(1963,"Enable proxy support for extensions, fall back to request options, when no proxy found."),v(1964,"Enable proxy support for extensions, override request options.")],default:"override",markdownDescription:v(1965,"Use the proxy support for extensions. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.systemCertificates":{type:"boolean",default:!0,markdownDescription:v(1966,"Controls whether CA certificates should be loaded from the OS. On Windows and macOS, a reload of the window is required after turning this off. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.experimental.systemCertificatesV2":{type:"boolean",tags:["experimental"],default:!1,markdownDescription:v(1967,"Controls whether experimental loading of CA certificates from the OS should be enabled. This uses a more general approach than the default implementation. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`"),restricted:!0},"http.fetchAdditionalSupport":{type:"boolean",default:!0,markdownDescription:v(1968,"Controls whether Node.js' fetch implementation should be extended with additional support. Currently proxy support ({1}) and system certificates ({2}) are added when the corresponding settings are enabled. When during [remote development](https://aka.ms/vscode-remote) the {0} setting is disabled this setting can be configured in the local and the remote settings separately.","`#http.useLocalProxyConfiguration#`","`#http.proxySupport#`","`#http.systemCertificates#`"),restricted:!0}}}],n.updateConfigurations({add:$,remove:s})}et();function zt(e,t){const{os:n,tildify:s,relative:i}=t;if(i){const r=tt(e,i,n);if(typeof r=="string")return r}let a=e.fsPath;if(n===A.Windows&&!k?a=a.replace(/\//g,"\\"):n!==A.Windows&&k&&(a=a.replace(/\\/g,"/")),n!==A.Windows&&(s!=null&&s.userHome)){const r=s.userHome.fsPath;let o;e.scheme!==s.userHome.scheme&&e.path[0]===S.sep&&e.path[1]!==S.sep?o=s.userHome.with({path:e.path}).fsPath:o=a,a=st(o,r,n)}return(n===A.Windows?K:S).normalize(nt(a,n===A.Windows))}function tt(e,t,n){const s=n===A.Windows?K:S,i=n===A.Linux?_e:De,a=t.getWorkspace(),l=a.folders.at(0);if(!l)return;e.scheme!==l.uri.scheme&&e.path[0]===S.sep&&e.path[1]!==S.sep&&(e=l.uri.with({path:e.path}));const r=t.getWorkspaceFolder(e);if(!r)return;let o;if(i.isEqual(r.uri,e)?o="":o=i.relativePath(r.uri,e)??"",o&&(o=s.normalize(o)),a.folders.length>1&&!t.noPrefix){const h=r.name?r.name:i.basenameOrAuthority(r.uri);o=o?`${h} • ${o}`:h}return o}function nt(e,t=k){return Me(e,t)?e.charAt(0).toUpperCase()+e.slice(1):e}let V=Object.create(null);function st(e,t,n=ke){if(n===A.Windows||!e||!t)return e;let s=V.original===t?V.normalized:void 0;s||(s=t,k&&(s=Z(s)),s=`${Re(s,S.sep)}${S.sep}`,V={original:t,normalized:s});let i=e;return k&&(i=Z(i)),(n===A.Linux?i.startsWith(s):Ne(i,s))?`~/${i.substr(s.length)}`:e}function $t(e,t){return e.replace(/^~($|\/|\\)/,`${t}$1`)}const ne="…",N="\\\\",_="~";function Vt(e,t=Be){const n=new Array(e.length);let s=!1;for(let i=0;i<e.length;i++){const a=e[i];if(a===""){n[i]=`.${t}`;continue}if(!a){n[i]=a;continue}s=!0;let l="",r=a;r.indexOf(N)===0?(l=r.substr(0,r.indexOf(N)+N.length),r=r.substr(r.indexOf(N)+N.length)):r.indexOf(t)===0?(l=r.substr(0,r.indexOf(t)+t.length),r=r.substr(r.indexOf(t)+t.length)):r.indexOf(_)===0&&(l=r.substr(0,r.indexOf(_)+_.length),r=r.substr(r.indexOf(_)+_.length));const o=r.split(t);for(let h=1;s&&h<=o.length;h++)for(let m=o.length-h;s&&m>=0;m--){s=!1;let b=o.slice(m,m+h).join(t);for(let d=0;!s&&d<e.length;d++)if(d!==i&&e[d]&&e[d].indexOf(b)>-1){const C=m+h===o.length,x=m>0&&e[d].indexOf(t)>-1?t+b:b,u=e[d].endsWith(x);s=!C||u}if(!s){let d="";(o[0].endsWith(":")||l!=="")&&(m===1&&(m=0,h++,b=o[0]+t+b),m>0&&(d=o[0]+t),d=l+d),m>0&&(d=d+ne+t),d=d+b,m+h<o.length&&(d=d+t+ne),n[i]=d}}s&&(n[i]=a)}return n}var w;(function(e){e[e.TEXT=0]="TEXT",e[e.VARIABLE=1]="VARIABLE",e[e.SEPARATOR=2]="SEPARATOR"})(w||(w={}));function jt(e,t=Object.create(null)){const n=[];let s=!1,i="";for(const a of e)if(a==="$"||s&&a==="{")i&&n.push({value:i,type:w.TEXT}),i="",s=!0;else if(a==="}"&&s){const l=t[i];if(typeof l=="string")l.length&&n.push({value:l,type:w.VARIABLE});else if(l){const r=n[n.length-1];(!r||r.type!==w.SEPARATOR)&&n.push({value:l.label,type:w.SEPARATOR})}i="",s=!1}else i+=a;return i&&!s&&n.push({value:i,type:w.TEXT}),n.filter((a,l)=>{if(a.type===w.SEPARATOR){const r=n[l-1],o=n[l+1];return[r,o].every(h=>h&&(h.type===w.VARIABLE||h.type===w.TEXT)&&h.value.length>0)}return!0}).map(a=>a.value).join("")}function Ft(e,t){return q||t?e.replace(/\(&&\w\)|&&/g,"").replace(/&/g,q?"&":"&&"):e.replace(/&&|&/g,n=>n==="&"?"&&":"&")}function Ht(e,t){const n=e.replace(/\(&&\w\)|&&/g,"");if(q)return{withMnemonic:n,withoutMnemonic:n};let s;return k?s=e.replace(/&&|&/g,i=>i==="&"?"&&":"&"):s=e.replace(/&&/g,"_"),{withMnemonic:s,withoutMnemonic:n}}function qt(e){return e.replace(/&/g,"&&")}function Gt(e){if(e.endsWith("]")){const t=e.lastIndexOf(" [",e.length-2);if(t!==-1){const n=se(e.substring(0,t)),s=e.substring(t);return{name:n.name+s,parentPath:n.parentPath}}}return se(e)}function se(e){const t=e.indexOf("/")!==-1?S:K,n=t.basename(e),s=t.dirname(e);return n.length?{name:n,parentPath:s}:{name:s,parentPath:""}}class Kt{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(t){if(t&&this._dragOperations.has(t)){const n=this._dragOperations.get(t);return this._dragOperations.delete(t),n}}addDragOperationTransfer(t,n){this._dragOperations.set(t,n)}}class Zt{constructor(t){this.identifier=t}}const it="rendererLog",Xt={id:it,name:v(12354,"Window")},Jt="workbench.action.showWindowLog";function ie(e){return e.scheme!==X.file&&e.scheme!==X.vscodeRemote}function he(e){if(e.folders.length)return e.folders.every(t=>ie(t.uri))?e.folders[0].uri:void 0;if(e.configuration&&ie(e.configuration))return e.configuration}function Yt(e){var t;return(t=he(e))==null?void 0:t.scheme}function Qt(e){return he(e)!==void 0}const f=class f{constructor(t,n){this.storageService=n,this.id=f.COMMON_PREFIX+t}getMemento(t,n){switch(t){case I.WORKSPACE:{let s=f.workspaceMementos.get(this.id);return s||(s=new j(this.id,t,n,this.storageService),f.workspaceMementos.set(this.id,s)),s.getMemento()}case I.PROFILE:{let s=f.profileMementos.get(this.id);return s||(s=new j(this.id,t,n,this.storageService),f.profileMementos.set(this.id,s)),s.getMemento()}case I.APPLICATION:{let s=f.applicationMementos.get(this.id);return s||(s=new j(this.id,t,n,this.storageService),f.applicationMementos.set(this.id,s)),s.getMemento()}}}onDidChangeValue(t,n){return this.storageService.onDidChangeValue(t,this.id,n)}saveMemento(){var t,n,s;(t=f.workspaceMementos.get(this.id))==null||t.save(),(n=f.profileMementos.get(this.id))==null||n.save(),(s=f.applicationMementos.get(this.id))==null||s.save()}reloadMemento(t){let n;switch(t){case I.APPLICATION:n=f.applicationMementos.get(this.id);break;case I.PROFILE:n=f.profileMementos.get(this.id);break;case I.WORKSPACE:n=f.workspaceMementos.get(this.id);break}n==null||n.reload()}static clear(t){switch(t){case I.WORKSPACE:f.workspaceMementos.clear();break;case I.PROFILE:f.profileMementos.clear();break;case I.APPLICATION:f.applicationMementos.clear();break}}};f.applicationMementos=new Map,f.profileMementos=new Map,f.workspaceMementos=new Map,f.COMMON_PREFIX="memento/";let re=f;class j{constructor(t,n,s,i){this.id=t,this.scope=n,this.target=s,this.storageService=i,this.mementoObj=this.doLoad()}doLoad(){try{return this.storageService.getObject(this.id,this.scope,{})}catch(t){We(`[memento]: failed to parse contents: ${t} (id: ${this.id}, scope: ${this.scope}, contents: ${this.storageService.get(this.id,this.scope)})`)}return{}}getMemento(){return this.mementoObj}reload(){for(const t of Object.getOwnPropertyNames(this.mementoObj))delete this.mementoObj[t];Object.assign(this.mementoObj,this.doLoad())}save(){Ue(this.mementoObj)?this.storageService.remove(this.id,this.scope):this.storageService.store(this.id,this.mementoObj,this.scope,this.target)}}function en(e,t,n){let s,i,a,l,r;if(t){for(l=t.offset,r=l+t.length,a=l;a>0&&!oe(e,a-1);)a--;let g=r;for(;g<e.length&&!oe(e,g);)g++;i=e.substring(a,g),s=rt(i,n)}else i=e,s=0,a=0,l=0,r=e.length;const o=ot(n,e);let h=!1,m=0,b;n.insertSpaces?b=F(" ",n.tabSize||4):b="	";const d=ze(i,!1);let C=!1;function x(){return o+F(b,s+m)}function u(){let g=d.scan();for(h=!1;g===c.Trivia||g===c.LineBreakTrivia;)h=h||g===c.LineBreakTrivia,g=d.scan();return C=g===c.Unknown||d.getTokenError()!==$e.None,g}const y=[];function U(g,p,E){!C&&p<r&&E>l&&e.substring(p,E)!==g&&y.push({offset:p,length:E-p,content:g})}let O=u();if(O!==c.EOF){const g=d.getTokenOffset()+a,p=F(b,s);U(p,a,g)}for(;O!==c.EOF;){let g=d.getTokenOffset()+d.getTokenLength()+a,p=u(),E="";for(;!h&&(p===c.LineCommentTrivia||p===c.BlockCommentTrivia);){const me=d.getTokenOffset()+a;U(" ",g,me),g=d.getTokenOffset()+d.getTokenLength()+a,E=p===c.LineCommentTrivia?x():"",p=u()}if(p===c.CloseBraceToken)O!==c.OpenBraceToken&&(m--,E=x());else if(p===c.CloseBracketToken)O!==c.OpenBracketToken&&(m--,E=x());else{switch(O){case c.OpenBracketToken:case c.OpenBraceToken:m++,E=x();break;case c.CommaToken:case c.LineCommentTrivia:E=x();break;case c.BlockCommentTrivia:h?E=x():E=" ";break;case c.ColonToken:E=" ";break;case c.StringLiteral:if(p===c.ColonToken){E="";break}case c.NullKeyword:case c.TrueKeyword:case c.FalseKeyword:case c.NumericLiteral:case c.CloseBraceToken:case c.CloseBracketToken:p===c.LineCommentTrivia||p===c.BlockCommentTrivia?E=" ":p!==c.CommaToken&&p!==c.EOF&&(C=!0);break;case c.Unknown:C=!0;break}h&&(p===c.LineCommentTrivia||p===c.BlockCommentTrivia)&&(E=x())}const fe=d.getTokenOffset()+a;U(E,g,fe),O=p}return y}function tn(e,t){const n=JSON.stringify(e,void 0,t.insertSpaces?t.tabSize||4:"	");return t.eol!==void 0?n.replace(/\r\n|\r|\n/g,t.eol):n}function F(e,t){let n="";for(let s=0;s<t;s++)n+=e;return n}function rt(e,t){let n=0,s=0;const i=t.tabSize||4;for(;n<e.length;){const a=e.charAt(n);if(a===" ")s++;else if(a==="	")s+=i;else break;n++}return Math.floor(s/i)}function ot(e,t){for(let n=0;n<t.length;n++){const s=t.charAt(n);if(s==="\r")return n+1<t.length&&t.charAt(n+1)===`
`?`\r
`:"\r";if(s===`
`)return`
`}return e&&e.eol||`
`}function oe(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}export{At as $,Bt as A,nt as B,St as C,pt as D,J as E,Rt as F,it as G,he as H,dt as I,jt as J,Gt as K,qt as L,re as M,_t as N,Ft as O,Zt as P,Ot as Q,$t as R,Nt as S,Kt as T,kt as U,Pt as V,ie as W,Ze as X,mt as Y,gt as Z,Tt as _,Dt as a,ce as a0,Qe as a1,Vt as a2,Ht as a3,Qt as a4,Jt as a5,tn as a6,It as a7,Wt as b,ut as c,zt as d,Je as e,en as f,Yt as g,xt as h,oe as i,Mt as j,bt as k,yt as l,lt as m,wt as n,ct as o,Ut as p,ht as q,Lt as r,ft as s,st as t,vt as u,Et as v,Xt as w,Ve as x,Ct as y,Q as z};
//# sourceMappingURL=BNAPCtwC.js.map
