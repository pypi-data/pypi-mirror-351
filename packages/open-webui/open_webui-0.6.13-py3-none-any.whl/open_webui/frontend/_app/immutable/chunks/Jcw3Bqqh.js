import{s as Fe,E as Le,F as Pe,a as N,d as h,f as p,i as z,g as b,n as me,z as St,B as jt,j as ke,p as Lt,M as Pt,q as Wt,k as P,o as W,D as Ge,e as y,c as E,u as fe,r as Ht,v as Ut,w as qt,x as Ft,V as Me,t as Q,b as X,h as ne,C as Ye,I as At,G as Ee,y as Je,l as Ke}from"./Bpbbr8c4.js";import{S as Ze,i as Re,f as Zt,b as x,d as ee,m as te,t as w,a as I,e as le,g as se,c as ie}from"./DqnutP3R.js";import{e as pe}from"./DXFNvcTQ.js";import"./Y5_Y8P_F.js";import{M as Rt,a as Gt,b as Yt}from"./Q0dgLlT7.js";import{m as Qe}from"./5uy4Zm2q.js";import{F as Jt}from"./CU2r43ac.js";import{f as Kt}from"./CBc5jlPY.js";import{C as Qt}from"./BpxJDlxN.js";import{C as Xt}from"./CSAM6yZT.js";import{S as xt}from"./OiM7CIvp.js";import{g as el,p as tl,d as ll,u as nl}from"./I1F_udOP.js";import{b as al,c as rl,M as ye,n as ol,u as sl,o as Xe,m as He}from"./D6Dxu525.js";import{t as _e}from"./CwHEXZG1.js";import{h as il,m as xe}from"./B0cj2Y9n.js";import{g as Ue}from"./C0ITQ-nN.js";import{T as ge}from"./DdzD5Ia6.js";import{S as fl}from"./ByS21uGt.js";import{g as ul}from"./xzuQ-u72.js";import{d as qe,r as cl}from"./I1CDPYOB.js";import"./0ZqDA-lu.js";function dl(n){let e,t;return{c(){e=Le("svg"),t=Le("path"),this.h()},l(l){e=Pe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=N(e);t=Pe(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),N(t).forEach(h),a.forEach(h),this.h()},h(){p(t,"stroke-linecap","round"),p(t,"stroke-linejoin","round"),p(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width",n[1]),p(e,"stroke","currentColor"),p(e,"class",n[0])},m(l,a){z(l,e,a),b(e,t)},p(l,[a]){a&2&&p(e,"stroke-width",l[1]),a&1&&p(e,"class",l[0])},i:me,o:me,d(l){l&&h(e)}}}function ml(n,e,t){let{className:l="size-4"}=e,{strokeWidth:a="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class hl extends Ze{constructor(e){super(),Re(this,e,ml,dl,Fe,{className:0,strokeWidth:1})}}function _l(n){let e,t;return{c(){e=Le("svg"),t=Le("path"),this.h()},l(l){e=Pe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=N(e);t=Pe(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),N(t).forEach(h),a.forEach(h),this.h()},h(){p(t,"stroke-linecap","round"),p(t,"stroke-linejoin","round"),p(t,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width",n[1]),p(e,"stroke","currentColor"),p(e,"class",n[0])},m(l,a){z(l,e,a),b(e,t)},p(l,[a]){a&2&&p(e,"stroke-width",l[1]),a&1&&p(e,"class",l[0])},i:me,o:me,d(l){l&&h(e)}}}function pl(n,e,t){let{className:l="size-4"}=e,{strokeWidth:a="1.5"}=e;return n.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,a=r.strokeWidth)},[l,a]}class gl extends Ze{constructor(e){super(),Re(this,e,pl,_l,Fe,{className:0,strokeWidth:1})}}function et(n,e,t){const l=n.slice();return l[51]=e[t],l}function tt(n,e,t){const l=n.slice();return l[54]=e[t],l[56]=t,l}function lt(n,e,t){const l=n.slice();return l[57]=e[t],l}function nt(n,e,t){const l=n.slice();return l[57]=e[t],l}function at(n,e,t){const l=n.slice();return l[57]=e[t],l}function vl(n){let e;return{c(){e=Q(n[2])},l(t){e=X(t,n[2])},m(t,l){z(t,e,l)},p(t,l){l[0]&4&&ne(e,t[2])},d(t){t&&h(e)}}}function bl(n){let e=n[15].label+"",t;return{c(){t=Q(e)},l(l){t=X(l,e)},m(l,a){z(l,t,a)},p(l,a){a[0]&32768&&e!==(e=l[15].label+"")&&ne(t,e)},d(l){l&&h(t)}}}function wl(n){let e,t,l,a,r,o,s;function i(u,_){return u[15]?bl:vl}let m=i(n),c=m(n);return l=new Qt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=y("button"),c.c(),t=P(),x(l.$$.fragment),this.h()},l(u){e=E(u,"BUTTON",{class:!0,type:!0});var _=N(e);c.l(_),t=W(_),ee(l.$$.fragment,_),_.forEach(h),this.h()},h(){p(e,"class",a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+n[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"),p(e,"type","button")},m(u,_){z(u,e,_),c.m(e,null),b(e,t),te(l,e,null),r=!0,o||(s=fe(e,"mouseenter",n[32]),o=!0)},p(u,_){m===(m=i(u))&&c?c.p(u,_):(c.d(1),c=m(u),c&&(c.c(),c.m(e,t))),(!r||_[0]&256&&a!==(a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+u[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&p(e,"class",a)},i(u){r||(w(l.$$.fragment,u),r=!0)},o(u){I(l.$$.fragment,u),r=!1},d(u){u&&h(e),c.d(),le(l),o=!1,s()}}}function rt(n){let e,t,l,a,r,o,s;return t=new xt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=y("div"),x(t.$$.fragment),l=P(),a=y("input"),this.h()},l(i){e=E(i,"DIV",{class:!0});var m=N(e);ee(t.$$.fragment,m),l=W(m),a=E(m,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),m.forEach(h),this.h()},h(){p(a,"id","model-search-input"),p(a,"class","w-full text-sm bg-transparent outline-hidden"),p(a,"placeholder",n[4]),p(a,"autocomplete","off"),p(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,m){z(i,e,m),te(t,e,null),b(e,l),b(e,a),Ye(a,n[9]),r=!0,o||(s=[fe(a,"input",n[33]),fe(a,"keydown",n[34])],o=!0)},p(i,m){(!r||m[0]&16)&&p(a,"placeholder",i[4]),m[0]&512&&a.value!==i[9]&&Ye(a,i[9])},i(i){r||(w(t.$$.fragment,i),r=!0)},o(i){I(t.$$.fragment,i),r=!1},d(i){i&&h(e),le(t),o=!1,At(s)}}}function ot(n){let e,t,l=n[6].find(Ct)&&n[6].find(It)||n[6].find(zt)||n[14].length>0,a,r=n[6].find(Nt)&&n[6].find(Tt),o,s=n[6].find(Mt),i,m,c,u=l&&st(n),_=r&&it(n),D=s&&ft(n),M=pe(n[14]),V=[];for(let v=0;v<M.length;v+=1)V[v]=ut(at(n,M,v));return{c(){e=y("div"),t=y("div"),u&&u.c(),a=P(),_&&_.c(),o=P(),D&&D.c(),i=P();for(let v=0;v<V.length;v+=1)V[v].c();this.h()},l(v){e=E(v,"DIV",{class:!0});var T=N(e);t=E(T,"DIV",{class:!0});var $=N(t);u&&u.l($),a=W($),_&&_.l($),o=W($),D&&D.l($),i=W($);for(let O=0;O<V.length;O+=1)V[O].l($);$.forEach(h),T.forEach(h),this.h()},h(){p(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),p(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(v,T){z(v,e,T),b(e,t),u&&u.m(t,null),b(t,a),_&&_.m(t,null),b(t,o),D&&D.m(t,null),b(t,i);for(let $=0;$<V.length;$+=1)V[$]&&V[$].m(t,null);n[40](t),m||(c=fe(e,"wheel",Pl),m=!0)},p(v,T){if(T[0]&16448&&(l=v[6].find(Ct)&&v[6].find(It)||v[6].find(zt)||v[14].length>0),l?u?u.p(v,T):(u=st(v),u.c(),u.m(t,a)):u&&(u.d(1),u=null),T[0]&64&&(r=v[6].find(Nt)&&v[6].find(Tt)),r?_?_.p(v,T):(_=it(v),_.c(),_.m(t,o)):_&&(_.d(1),_=null),T[0]&64&&(s=v[6].find(Mt)),s?D?D.p(v,T):(D=ft(v),D.c(),D.m(t,i)):D&&(D.d(1),D=null),T[0]&19456){M=pe(v[14]);let $;for($=0;$<M.length;$+=1){const O=at(v,M,$);V[$]?V[$].p(O,T):(V[$]=ut(O),V[$].c(),V[$].m(t,null))}for(;$<V.length;$+=1)V[$].d(1);V.length=M.length}},d(v){v&&h(e),u&&u.d(),_&&_.d(),D&&D.d(),Me(V,v),n[40](null),m=!1,c()}}}function st(n){let e,t=n[21].t("All")+"",l,a,r,o;return{c(){e=y("button"),l=Q(t),this.h()},l(s){e=E(s,"BUTTON",{class:!0});var i=N(e);l=X(i,t),i.forEach(h),this.h()},h(){p(e,"class",a="min-w-fit outline-none p-1.5 "+(n[10]===""&&n[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){z(s,e,i),b(e,l),r||(o=fe(e,"click",n[35]),r=!0)},p(s,i){i[0]&2097152&&t!==(t=s[21].t("All")+"")&&ne(l,t),i[0]&3072&&a!==(a="min-w-fit outline-none p-1.5 "+(s[10]===""&&s[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",a)},d(s){s&&h(e),r=!1,o()}}}function it(n){let e,t=n[21].t("Local")+"",l,a,r,o,s=n[21].t("External")+"",i,m,c,u;return{c(){e=y("button"),l=Q(t),r=P(),o=y("button"),i=Q(s),this.h()},l(_){e=E(_,"BUTTON",{class:!0});var D=N(e);l=X(D,t),D.forEach(h),r=W(_),o=E(_,"BUTTON",{class:!0});var M=N(o);i=X(M,s),M.forEach(h),this.h()},h(){p(e,"class",a="min-w-fit outline-none p-1.5 "+(n[11]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),p(o,"class",m="min-w-fit outline-none p-1.5 "+(n[11]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(_,D){z(_,e,D),b(e,l),z(_,r,D),z(_,o,D),b(o,i),c||(u=[fe(e,"click",n[36]),fe(o,"click",n[37])],c=!0)},p(_,D){D[0]&2097152&&t!==(t=_[21].t("Local")+"")&&ne(l,t),D[0]&2048&&a!==(a="min-w-fit outline-none p-1.5 "+(_[11]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",a),D[0]&2097152&&s!==(s=_[21].t("External")+"")&&ne(i,s),D[0]&2048&&m!==(m="min-w-fit outline-none p-1.5 "+(_[11]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(o,"class",m)},d(_){_&&(h(e),h(r),h(o)),c=!1,At(u)}}}function ft(n){let e,t=n[21].t("Direct")+"",l,a,r,o;return{c(){e=y("button"),l=Q(t),this.h()},l(s){e=E(s,"BUTTON",{class:!0});var i=N(e);l=X(i,t),i.forEach(h),this.h()},h(){p(e,"class",a="min-w-fit outline-none p-1.5 "+(n[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){z(s,e,i),b(e,l),r||(o=fe(e,"click",n[38]),r=!0)},p(s,i){i[0]&2097152&&t!==(t=s[21].t("Direct")+"")&&ne(l,t),i[0]&2048&&a!==(a="min-w-fit outline-none p-1.5 "+(s[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",a)},d(s){s&&h(e),r=!1,o()}}}function ut(n){let e,t=n[57]+"",l,a,r,o,s;function i(){return n[39](n[57])}return{c(){e=y("button"),l=Q(t),a=P(),this.h()},l(m){e=E(m,"BUTTON",{class:!0});var c=N(e);l=X(c,t),a=W(c),c.forEach(h),this.h()},h(){p(e,"class",r="min-w-fit outline-none p-1.5 "+(n[10]===n[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(m,c){z(m,e,c),b(e,l),b(e,a),o||(s=fe(e,"click",i),o=!0)},p(m,c){n=m,c[0]&16384&&t!==(t=n[57]+"")&&ne(l,t),c[0]&17408&&r!==(r="min-w-fit outline-none p-1.5 "+(n[10]===n[57]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&p(e,"class",r)},d(m){m&&h(e),o=!1,s()}}}function ct(n){let e,t,l=n[21].t("No results found")+"",a;return{c(){e=y("div"),t=y("div"),a=Q(l),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=N(e);t=E(o,"DIV",{class:!0});var s=N(t);a=X(s,l),s.forEach(h),o.forEach(h),this.h()},h(){p(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),p(e,"class","")},m(r,o){z(r,e,o),b(e,t),b(t,a)},p(r,o){o[0]&2097152&&l!==(l=r[21].t("No results found")+"")&&ne(a,l)},d(r){r&&h(e)}}}function dt(n){var a;let e,t=pe((a=n[54].model)==null?void 0:a.tags.sort(Ot)),l=[];for(let r=0;r<t.length;r+=1)l[r]=mt(nt(n,t,r));return{c(){e=y("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0});var o=N(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(h),this.h()},h(){p(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(r,o){z(r,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(r,o){var s;if(o[0]&262144){t=pe((s=r[54].model)==null?void 0:s.tags.sort(Ot));let i;for(i=0;i<t.length;i+=1){const m=nt(r,t,i);l[i]?l[i].p(m,o):(l[i]=mt(m),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(r){r&&h(e),Me(l,r)}}}function mt(n){let e,t=n[57].name+"",l,a;return{c(){e=y("div"),l=Q(t),a=P(),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=N(e);l=X(o,t),a=W(o),o.forEach(h),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,o){z(r,e,o),b(e,l),b(e,a)},p(r,o){o[0]&262144&&t!==(t=r[57].name+"")&&ne(l,t)},d(r){r&&h(e)}}}function kl(n){let e,t,l,a,r,o=n[54].label+"",s;return{c(){e=y("img"),l=P(),a=y("div"),r=y("div"),s=Q(o),this.h()},l(i){e=E(i,"IMG",{src:!0,alt:!0,class:!0}),l=W(i),a=E(i,"DIV",{class:!0});var m=N(a);r=E(m,"DIV",{class:!0});var c=N(r);s=X(c,o),c.forEach(h),m.forEach(h),this.h()},h(){var i,m,c;Je(e.src,t=((c=(m=(i=n[54].model)==null?void 0:i.info)==null?void 0:m.meta)==null?void 0:c.profile_image_url)??"/static/favicon.png")||p(e,"src",t),p(e,"alt","Model"),p(e,"class","rounded-full size-5 flex items-center mr-2"),p(r,"class","line-clamp-1"),p(a,"class","flex items-center line-clamp-1")},m(i,m){z(i,e,m),z(i,l,m),z(i,a,m),b(a,r),b(r,s)},p(i,m){var c,u,_;m[0]&262144&&!Je(e.src,t=((_=(u=(c=i[54].model)==null?void 0:c.info)==null?void 0:u.meta)==null?void 0:_.profile_image_url)??"/static/favicon.png")&&p(e,"src",t),m[0]&262144&&o!==(o=i[54].label+"")&&ne(s,o)},d(i){i&&(h(e),h(l),h(a))}}}function ht(n){var s,i,m,c;let e,t=((s=n[54].model.ollama)==null?void 0:s.expires_at)&&new Date(((i=n[54].model.ollama)==null?void 0:i.expires_at)*1e3)>new Date,l,a,r=(((c=(m=n[54].model.ollama)==null?void 0:m.details)==null?void 0:c.parameter_size)??"")!==""&&_t(n),o=t&&pt(n);return{c(){r&&r.c(),e=P(),o&&o.c(),l=Ke()},l(u){r&&r.l(u),e=W(u),o&&o.l(u),l=Ke()},m(u,_){r&&r.m(u,_),z(u,e,_),o&&o.m(u,_),z(u,l,_),a=!0},p(u,_){var D,M,V,v;(((M=(D=u[54].model.ollama)==null?void 0:D.details)==null?void 0:M.parameter_size)??"")!==""?r?(r.p(u,_),_[0]&262144&&w(r,1)):(r=_t(u),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(se(),I(r,1,1,()=>{r=null}),ie()),_[0]&262144&&(t=((V=u[54].model.ollama)==null?void 0:V.expires_at)&&new Date(((v=u[54].model.ollama)==null?void 0:v.expires_at)*1e3)>new Date),t?o?(o.p(u,_),_[0]&262144&&w(o,1)):(o=pt(u),o.c(),w(o,1),o.m(l.parentNode,l)):o&&(se(),I(o,1,1,()=>{o=null}),ie())},i(u){a||(w(r),w(o),a=!0)},o(u){I(r),I(o),a=!1},d(u){u&&(h(e),h(l)),r&&r.d(u),o&&o.d(u)}}}function _t(n){var a,r,o,s,i,m;let e,t,l;return t=new ge({props:{content:`${(r=(a=n[54].model.ollama)==null?void 0:a.details)!=null&&r.quantization_level?((s=(o=n[54].model.ollama)==null?void 0:o.details)==null?void 0:s.quantization_level)+" ":""}${(i=n[54].model.ollama)!=null&&i.size?`(${(((m=n[54].model.ollama)==null?void 0:m.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[$l]},$$scope:{ctx:n}}}),{c(){e=y("div"),x(t.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var u=N(e);ee(t.$$.fragment,u),u.forEach(h),this.h()},h(){p(e,"class","flex items-center translate-y-[0.5px]")},m(c,u){z(c,e,u),te(t,e,null),l=!0},p(c,u){var D,M,V,v,T,$;const _={};u[0]&262144&&(_.content=`${(M=(D=c[54].model.ollama)==null?void 0:D.details)!=null&&M.quantization_level?((v=(V=c[54].model.ollama)==null?void 0:V.details)==null?void 0:v.quantization_level)+" ":""}${(T=c[54].model.ollama)!=null&&T.size?`(${((($=c[54].model.ollama)==null?void 0:$.size)/1024**3).toFixed(1)}GB)`:""}`),u[0]&262144|u[1]&131072&&(_.$$scope={dirty:u,ctx:c}),t.$set(_)},i(c){l||(w(t.$$.fragment,c),l=!0)},o(c){I(t.$$.fragment,c),l=!1},d(c){c&&h(e),le(t)}}}function $l(n){var a,r;let e,t=(((r=(a=n[54].model.ollama)==null?void 0:a.details)==null?void 0:r.parameter_size)??"")+"",l;return{c(){e=y("span"),l=Q(t),this.h()},l(o){e=E(o,"SPAN",{class:!0});var s=N(e);l=X(s,t),s.forEach(h),this.h()},h(){p(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(o,s){z(o,e,s),b(e,l)},p(o,s){var i,m;s[0]&262144&&t!==(t=(((m=(i=o[54].model.ollama)==null?void 0:i.details)==null?void 0:m.parameter_size)??"")+"")&&ne(l,t)},d(o){o&&h(e)}}}function pt(n){var a;let e,t,l;return t=new ge({props:{content:`${n[21].t("Unloads {{FROM_NOW}}",{FROM_NOW:qe(((a=n[54].model.ollama)==null?void 0:a.expires_at)*1e3).fromNow()})}`,className:"self-end",$$slots:{default:[yl]},$$scope:{ctx:n}}}),{c(){e=y("div"),x(t.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=N(e);ee(t.$$.fragment,o),o.forEach(h),this.h()},h(){p(e,"class","flex items-center translate-y-[0.5px] px-0.5")},m(r,o){z(r,e,o),te(t,e,null),l=!0},p(r,o){var i;const s={};o[0]&2359296&&(s.content=`${r[21].t("Unloads {{FROM_NOW}}",{FROM_NOW:qe(((i=r[54].model.ollama)==null?void 0:i.expires_at)*1e3).fromNow()})}`),o[1]&131072&&(s.$$scope={dirty:o,ctx:r}),t.$set(s)},i(r){l||(w(t.$$.fragment,r),l=!0)},o(r){I(t.$$.fragment,r),l=!1},d(r){r&&h(e),le(t)}}}function yl(n){let e,t='<span class="relative flex size-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex rounded-full size-2 bg-green-500"></span></span>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(l){e=E(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1khd02r"&&(e.innerHTML=t),this.h()},h(){p(e,"class","flex items-center")},m(l,a){z(l,e,a)},p:me,d(l){l&&h(e)}}}function El(n){let e,t;return e=new ge({props:{content:`${n[21].t("External")}`,$$slots:{default:[Vl]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),t=!0},p(l,a){const r={};a[0]&2097152&&(r.content=`${l[21].t("External")}`),a[1]&131072&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Dl(n){let e,t;return e=new ge({props:{content:`${n[21].t("Direct")}`,$$slots:{default:[Ml]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),t=!0},p(l,a){const r={};a[0]&2097152&&(r.content=`${l[21].t("Direct")}`),a[1]&131072&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Vl(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(l){e=E(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,a){z(l,e,a)},p:me,d(l){l&&h(e)}}}function Ml(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(l){e=E(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,a){z(l,e,a)},p:me,d(l){l&&h(e)}}}function gt(n){var l,a,r;let e,t;return e=new ge({props:{content:`${Qe.parse(xe((r=(a=(l=n[54].model)==null?void 0:l.info)==null?void 0:a.meta)==null?void 0:r.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[Nl]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(o){ee(e.$$.fragment,o)},m(o,s){te(e,o,s),t=!0},p(o,s){var m,c,u;const i={};s[0]&262144&&(i.content=`${Qe.parse(xe((u=(c=(m=o[54].model)==null?void 0:m.info)==null?void 0:c.meta)==null?void 0:u.description).replaceAll(`
`,"<br>"))}`),s[1]&131072&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function Nl(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(l){e=E(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){p(e,"class","translate-y-[1px]")},m(l,a){z(l,e,a)},p:me,d(l){l&&h(e)}}}function vt(n){var o;let e,t,l=pe((o=n[54].model)==null?void 0:o.tags.sort(Bt)),a=[];for(let s=0;s<l.length;s+=1)a[s]=bt(lt(n,l,s));const r=s=>I(a[s],1,1,()=>{a[s]=null});return{c(){e=y("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=E(s,"DIV",{class:!0});var i=N(e);for(let m=0;m<a.length;m+=1)a[m].l(i);i.forEach(h),this.h()},h(){p(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){z(s,e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);t=!0},p(s,i){var m;if(i[0]&262144){l=pe((m=s[54].model)==null?void 0:m.tags.sort(Bt));let c;for(c=0;c<l.length;c+=1){const u=lt(s,l,c);a[c]?(a[c].p(u,i),w(a[c],1)):(a[c]=bt(u),a[c].c(),w(a[c],1),a[c].m(e,null))}for(se(),c=l.length;c<a.length;c+=1)r(c);ie()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)w(a[i]);t=!0}},o(s){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)I(a[i]);t=!1},d(s){s&&h(e),Me(a,s)}}}function Tl(n){let e,t=n[57].name+"",l,a;return{c(){e=y("div"),l=Q(t),a=P(),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=N(e);l=X(o,t),o.forEach(h),a=W(r),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(r,o){z(r,e,o),b(e,l),z(r,a,o)},p(r,o){o[0]&262144&&t!==(t=r[57].name+"")&&ne(l,t)},d(r){r&&(h(e),h(a))}}}function bt(n){let e,t;return e=new ge({props:{content:n[57].name,className:"flex-shrink-0",$$slots:{default:[Tl]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),t=!0},p(l,a){const r={};a[0]&262144&&(r.content=l[57].name),a[0]&262144|a[1]&131072&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function wt(n){let e,t;return e=new ge({props:{content:`${n[21].t("Eject")}`,className:"flex-shrink-0",$$slots:{default:[Cl]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),t=!0},p(l,a){const r={};a[0]&2097152&&(r.content=`${l[21].t("Eject")}`),a[0]&262144|a[1]&131072&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Cl(n){let e,t,l,a,r;t=new gl({props:{className:"size-3"}});function o(){return n[41](n[54])}return{c(){e=y("button"),x(t.$$.fragment),this.h()},l(s){e=E(s,"BUTTON",{class:!0});var i=N(e);ee(t.$$.fragment,i),i.forEach(h),this.h()},h(){p(e,"class","flex")},m(s,i){z(s,e,i),te(t,e,null),l=!0,a||(r=fe(e,"click",o),a=!0)},p(s,i){n=s},i(s){l||(w(t.$$.fragment,s),l=!0)},o(s){I(t.$$.fragment,s),l=!1},d(s){s&&h(e),le(t),a=!1,r()}}}function kt(n){let e,t,l;return t=new Xt({props:{className:"size-3"}}),{c(){e=y("div"),x(t.$$.fragment)},l(a){e=E(a,"DIV",{});var r=N(e);ee(t.$$.fragment,r),r.forEach(h)},m(a,r){z(a,e,r),te(t,e,null),l=!0},i(a){l||(w(t.$$.fragment,a),l=!0)},o(a){I(t.$$.fragment,a),l=!1},d(a){a&&h(e),le(t)}}}function $t(n){var de,De,Ne,Te,Ce,Ie,ze,Oe,Be,Se,Ae,je;let e,t,l,a,r,o,s,i,m,c,u,_,D,M,V,v,T=((de=n[24])==null?void 0:de.role)==="admin"&&n[54].model.owned_by==="ollama"&&((De=n[54].model.ollama)==null?void 0:De.expires_at)&&new Date(((Ne=n[54].model.ollama)==null?void 0:Ne.expires_at)*1e3)>new Date,$,O,J,F,A,H,k,S=n[23]&&(((Ce=(Te=n[54])==null?void 0:Te.model)==null?void 0:Ce.tags)??[]).length>0&&dt(n);i=new ge({props:{content:((Ie=n[24])==null?void 0:Ie.role)==="admin"?((ze=n[54])==null?void 0:ze.value)??"":"",placement:"top-start",$$slots:{default:[kl]},$$scope:{ctx:n}}});let L=n[54].model.owned_by==="ollama"&&ht(n);const Y=[Dl,El],Z=[];function G(ae,q){var ue;return(ue=ae[54].model)!=null&&ue.direct?0:ae[54].model.connection_type==="external"?1:-1}~(u=G(n))&&(_=Z[u]=Y[u](n));let d=((Se=(Be=(Oe=n[54].model)==null?void 0:Oe.info)==null?void 0:Be.meta)==null?void 0:Se.description)&&gt(n),g=!n[23]&&(((je=(Ae=n[54])==null?void 0:Ae.model)==null?void 0:je.tags)??[]).length>0&&vt(n),B=T&&wt(n),R=n[0]===n[54].value&&kt();function j(){return n[42](n[54],n[56])}return{c(){e=y("button"),t=y("div"),S&&S.c(),l=P(),a=y("div"),r=y("div"),o=y("div"),s=y("div"),x(i.$$.fragment),m=P(),L&&L.c(),c=P(),_&&_.c(),D=P(),d&&d.c(),M=P(),g&&g.c(),V=P(),v=y("div"),B&&B.c(),$=P(),R&&R.c(),this.h()},l(ae){e=E(ae,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var q=N(e);t=E(q,"DIV",{class:!0});var ue=N(t);S&&S.l(ue),l=W(ue),a=E(ue,"DIV",{class:!0});var re=N(a);r=E(re,"DIV",{class:!0});var ve=N(r);o=E(ve,"DIV",{class:!0});var be=N(o);s=E(be,"DIV",{class:!0});var f=N(s);ee(i.$$.fragment,f),f.forEach(h),be.forEach(h),ve.forEach(h),m=W(re),L&&L.l(re),c=W(re),_&&_.l(re),D=W(re),d&&d.l(re),M=W(re),g&&g.l(re),re.forEach(h),ue.forEach(h),V=W(q),v=E(q,"DIV",{class:!0});var C=N(v);B&&B.l(C),$=W(C),R&&R.l(C),C.forEach(h),q.forEach(h),this.h()},h(){p(s,"class","flex items-center min-w-fit"),p(o,"class","line-clamp-1"),p(r,"class","flex items-center min-w-fit"),p(a,"class","flex items-center gap-2"),p(t,"class","flex flex-col"),p(v,"class","ml-auto pl-2 pr-1 flex gap-1.5 items-center"),p(e,"aria-label","model-item"),p(e,"class",O="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(n[56]===n[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),p(e,"data-arrow-selected",J=n[56]===n[17]),p(e,"data-value",F=n[54].value)},m(ae,q){z(ae,e,q),b(e,t),S&&S.m(t,null),b(t,l),b(t,a),b(a,r),b(r,o),b(o,s),te(i,s,null),b(a,m),L&&L.m(a,null),b(a,c),~u&&Z[u].m(a,null),b(a,D),d&&d.m(a,null),b(a,M),g&&g.m(a,null),b(e,V),b(e,v),B&&B.m(v,null),b(v,$),R&&R.m(v,null),A=!0,H||(k=fe(e,"click",j),H=!0)},p(ae,q){var ve,be,f,C,U,K,he,ce,we,$e,Ve,oe;n=ae,n[23]&&(((be=(ve=n[54])==null?void 0:ve.model)==null?void 0:be.tags)??[]).length>0?S?S.p(n,q):(S=dt(n),S.c(),S.m(t,l)):S&&(S.d(1),S=null);const ue={};q[0]&17039360&&(ue.content=((f=n[24])==null?void 0:f.role)==="admin"?((C=n[54])==null?void 0:C.value)??"":""),q[0]&262144|q[1]&131072&&(ue.$$scope={dirty:q,ctx:n}),i.$set(ue),n[54].model.owned_by==="ollama"?L?(L.p(n,q),q[0]&262144&&w(L,1)):(L=ht(n),L.c(),w(L,1),L.m(a,c)):L&&(se(),I(L,1,1,()=>{L=null}),ie());let re=u;u=G(n),u===re?~u&&Z[u].p(n,q):(_&&(se(),I(Z[re],1,1,()=>{Z[re]=null}),ie()),~u?(_=Z[u],_?_.p(n,q):(_=Z[u]=Y[u](n),_.c()),w(_,1),_.m(a,D)):_=null),(he=(K=(U=n[54].model)==null?void 0:U.info)==null?void 0:K.meta)!=null&&he.description?d?(d.p(n,q),q[0]&262144&&w(d,1)):(d=gt(n),d.c(),w(d,1),d.m(a,M)):d&&(se(),I(d,1,1,()=>{d=null}),ie()),!n[23]&&(((we=(ce=n[54])==null?void 0:ce.model)==null?void 0:we.tags)??[]).length>0?g?(g.p(n,q),q[0]&8650752&&w(g,1)):(g=vt(n),g.c(),w(g,1),g.m(a,null)):g&&(se(),I(g,1,1,()=>{g=null}),ie()),q[0]&17039360&&(T=(($e=n[24])==null?void 0:$e.role)==="admin"&&n[54].model.owned_by==="ollama"&&((Ve=n[54].model.ollama)==null?void 0:Ve.expires_at)&&new Date(((oe=n[54].model.ollama)==null?void 0:oe.expires_at)*1e3)>new Date),T?B?(B.p(n,q),q[0]&17039360&&w(B,1)):(B=wt(n),B.c(),w(B,1),B.m(v,$)):B&&(se(),I(B,1,1,()=>{B=null}),ie()),n[0]===n[54].value?R?q[0]&262145&&w(R,1):(R=kt(),R.c(),w(R,1),R.m(v,null)):R&&(se(),I(R,1,1,()=>{R=null}),ie()),(!A||q[0]&131072&&O!==(O="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(n[56]===n[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&p(e,"class",O),(!A||q[0]&131072&&J!==(J=n[56]===n[17]))&&p(e,"data-arrow-selected",J),(!A||q[0]&262144&&F!==(F=n[54].value))&&p(e,"data-value",F)},i(ae){A||(w(i.$$.fragment,ae),w(L),w(_),w(d),w(g),w(B),w(R),A=!0)},o(ae){I(i.$$.fragment,ae),I(L),I(_),I(d),I(g),I(B),I(R),A=!1},d(ae){ae&&h(e),S&&S.d(),le(i),L&&L.d(),~u&&Z[u].d(),d&&d.d(),g&&g.d(),B&&B.d(),R&&R.d(),H=!1,k()}}}function yt(n){let e,t;return e=new ge({props:{content:n[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:n[9]}),placement:"top-start",$$slots:{default:[Il]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,a){te(e,l,a),t=!0},p(l,a){const r={};a[0]&2097664&&(r.content=l[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),a[0]&2097664|a[1]&131072&&(r.$$scope={dirty:a,ctx:l}),e.$set(r)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){le(e,l)}}}function Il(n){let e,t,l=n[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:n[9]})+"",a,r,o;return{c(){e=y("button"),t=y("div"),a=Q(l),this.h()},l(s){e=E(s,"BUTTON",{class:!0});var i=N(e);t=E(i,"DIV",{class:!0});var m=N(t);a=X(m,l),m.forEach(h),i.forEach(h),this.h()},h(){p(t,"class","truncate"),p(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){z(s,e,i),b(e,t),b(t,a),r||(o=fe(e,"click",n[43]),r=!0)},p(s,i){i[0]&2097664&&l!==(l=s[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[9]})+"")&&ne(a,l)},d(s){s&&h(e),r=!1,o()}}}function Et(n){let e,t=n[22][n[51]].digest+"",l;return{c(){e=y("div"),l=Q(t),this.h()},l(a){e=E(a,"DIV",{class:!0});var r=N(e);l=X(r,t),r.forEach(h),this.h()},h(){p(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(a,r){z(a,e,r),b(e,l)},p(a,r){r[0]&4194304&&t!==(t=a[22][a[51]].digest+"")&&ne(l,t)},d(a){a&&h(e)}}}function zl(n){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function r(){return n[44](n[51])}return{c(){e=y("button"),e.innerHTML=t,this.h()},l(o){e=E(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){p(e,"class","text-gray-800 dark:text-gray-100")},m(o,s){z(o,e,s),l||(a=fe(e,"click",r),l=!0)},p(o,s){n=o},d(o){o&&h(e),l=!1,a()}}}function Dt(n){let e,t,l,a=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,r,o,s,i,m,c=n[51]+"",u,_,D,M,V="pullProgress"in n[22][n[51]]?`(${n[22][n[51]].pullProgress}%)`:"",v,T,$,O,J,F,A,H="digest"in n[22][n[51]]&&n[22][n[51]].digest&&Et(n);return J=new ge({props:{content:n[21].t("Cancel"),$$slots:{default:[zl]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),l=y("div"),l.innerHTML=a,r=P(),o=y("div"),s=y("div"),i=y("div"),m=Q('Downloading "'),u=Q(c),_=Q('"'),D=P(),M=y("div"),v=Q(V),T=P(),H&&H.c(),$=P(),O=y("div"),x(J.$$.fragment),F=P(),this.h()},l(k){e=E(k,"DIV",{class:!0});var S=N(e);t=E(S,"DIV",{class:!0});var L=N(t);l=E(L,"DIV",{class:!0,"data-svelte-h":!0}),Ee(l)!=="svelte-102rp4j"&&(l.innerHTML=a),r=W(L),o=E(L,"DIV",{class:!0});var Y=N(o);s=E(Y,"DIV",{class:!0});var Z=N(s);i=E(Z,"DIV",{class:!0});var G=N(i);m=X(G,'Downloading "'),u=X(G,c),_=X(G,'"'),G.forEach(h),D=W(Z),M=E(Z,"DIV",{class:!0});var d=N(M);v=X(d,V),d.forEach(h),Z.forEach(h),T=W(Y),H&&H.l(Y),Y.forEach(h),L.forEach(h),$=W(S),O=E(S,"DIV",{class:!0});var g=N(O);ee(J.$$.fragment,g),g.forEach(h),F=W(S),S.forEach(h),this.h()},h(){p(l,"class","-ml-2 mr-2.5 translate-y-0.5"),p(i,"class","line-clamp-1"),p(M,"class","shrink-0"),p(s,"class","flex gap-1"),p(o,"class","flex flex-col self-start"),p(t,"class","flex"),p(O,"class","mr-2 ml-1 translate-y-0.5"),p(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(k,S){z(k,e,S),b(e,t),b(t,l),b(t,r),b(t,o),b(o,s),b(s,i),b(i,m),b(i,u),b(i,_),b(s,D),b(s,M),b(M,v),b(o,T),H&&H.m(o,null),b(e,$),b(e,O),te(J,O,null),b(e,F),A=!0},p(k,S){(!A||S[0]&4194304)&&c!==(c=k[51]+"")&&ne(u,c),(!A||S[0]&4194304)&&V!==(V="pullProgress"in k[22][k[51]]?`(${k[22][k[51]].pullProgress}%)`:"")&&ne(v,V),"digest"in k[22][k[51]]&&k[22][k[51]].digest?H?H.p(k,S):(H=Et(k),H.c(),H.m(o,null)):H&&(H.d(1),H=null);const L={};S[0]&2097152&&(L.content=k[21].t("Cancel")),S[0]&4194304|S[1]&131072&&(L.$$scope={dirty:S,ctx:k}),J.$set(L)},i(k){A||(w(J.$$.fragment,k),A=!0)},o(k){I(J.$$.fragment,k),A=!1},d(k){k&&h(e),H&&H.d(),le(J)}}}function Ol(n){let e;return{c(){e=y("div"),this.h()},l(t){e=E(t,"DIV",{class:!0}),N(e).forEach(h),this.h()},h(){p(e,"class","mb-3")},m(t,l){z(t,e,l)},p:me,i:me,o:me,d(t){t&&h(e)}}}function Bl(n){let e,t,l,a,r,o=n[21].t("Temporary Chat")+"",s,i,m,c,u,_,D;return a=new hl({props:{className:"size-4",strokeWidth:"2.5"}}),c=new fl({props:{state:n[25]}}),{c(){e=y("div"),t=y("button"),l=y("div"),x(a.$$.fragment),r=P(),s=Q(o),i=P(),m=y("div"),x(c.$$.fragment),this.h()},l(M){e=E(M,"DIV",{class:!0});var V=N(e);t=E(V,"BUTTON",{class:!0});var v=N(t);l=E(v,"DIV",{class:!0});var T=N(l);ee(a.$$.fragment,T),r=W(T),s=X(T,o),T.forEach(h),i=W(v),m=E(v,"DIV",{});var $=N(m);ee(c.$$.fragment,$),$.forEach(h),v.forEach(h),V.forEach(h),this.h()},h(){p(l,"class","flex gap-2.5 items-center"),p(t,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),p(e,"class","flex items-center mx-2 mt-1 mb-2")},m(M,V){z(M,e,V),b(e,t),b(t,l),te(a,l,null),b(l,r),b(l,s),b(t,i),b(t,m),te(c,m,null),u=!0,_||(D=fe(t,"click",n[45]),_=!0)},p(M,V){(!u||V[0]&2097152)&&o!==(o=M[21].t("Temporary Chat")+"")&&ne(s,o);const v={};V[0]&33554432&&(v.state=M[25]),c.$set(v)},i(M){u||(w(a.$$.fragment,M),w(c.$$.fragment,M),u=!0)},o(M){I(a.$$.fragment,M),I(c.$$.fragment,M),u=!1},d(M){M&&h(e),le(a),le(c),_=!1,D()}}}function Sl(n){var G;let e,t,l=n[14]&&n[6].filter(Vt).length>0,a,r,o=!(n[9].trim()in n[22])&&n[9]&&n[16]&&((G=n[24])==null?void 0:G.role)==="admin",s,i,m,c,u,_,D,M,V,v=n[3]&&rt(n),T=l&&ot(n),$=pe(n[18]),O=[];for(let d=0;d<$.length;d+=1)O[d]=$t(tt(n,$,d));const J=d=>I(O[d],1,1,()=>{O[d]=null});let F=null;$.length||(F=ct(n));let A=o&&yt(n),H=pe(Object.keys(n[22])),k=[];for(let d=0;d<H.length;d+=1)k[d]=Dt(et(n,H,d));const S=d=>I(k[d],1,1,()=>{k[d]=null}),L=[Bl,Ol],Y=[];function Z(d,g){return d[5]?0:1}return m=Z(n),c=Y[m]=L[m](n),{c(){v&&v.c(),e=P(),t=y("div"),T&&T.c(),a=P();for(let d=0;d<O.length;d+=1)O[d].c();F&&F.c(),r=P(),A&&A.c(),s=P();for(let d=0;d<k.length;d+=1)k[d].c();i=P(),c.c(),u=P(),_=y("div"),D=P(),M=y("div"),this.h()},l(d){v&&v.l(d),e=W(d),t=E(d,"DIV",{class:!0});var g=N(t);T&&T.l(g),a=W(g);for(let B=0;B<O.length;B+=1)O[B].l(g);F&&F.l(g),r=W(g),A&&A.l(g),s=W(g);for(let B=0;B<k.length;B+=1)k[B].l(g);g.forEach(h),i=W(d),c.l(d),u=W(d),_=E(d,"DIV",{class:!0}),N(_).forEach(h),D=W(d),M=E(d,"DIV",{class:!0}),N(M).forEach(h),this.h()},h(){p(t,"class","px-3 max-h-64 overflow-y-auto scrollbar-hidden group relative"),p(_,"class","hidden w-[42rem]"),p(M,"class","hidden w-[32rem]")},m(d,g){v&&v.m(d,g),z(d,e,g),z(d,t,g),T&&T.m(t,null),b(t,a);for(let B=0;B<O.length;B+=1)O[B]&&O[B].m(t,null);F&&F.m(t,null),b(t,r),A&&A.m(t,null),b(t,s);for(let B=0;B<k.length;B+=1)k[B]&&k[B].m(t,null);z(d,i,g),Y[m].m(d,g),z(d,u,g),z(d,_,g),z(d,D,g),z(d,M,g),V=!0},p(d,g){var R;if(d[3]?v?(v.p(d,g),g[0]&8&&w(v,1)):(v=rt(d),v.c(),w(v,1),v.m(e.parentNode,e)):v&&(se(),I(v,1,1,()=>{v=null}),ie()),g[0]&16448&&(l=d[14]&&d[6].filter(Vt).length>0),l?T?T.p(d,g):(T=ot(d),T.c(),T.m(t,a)):T&&(T.d(1),T=null),g[0]&1101406209){$=pe(d[18]);let j;for(j=0;j<$.length;j+=1){const de=tt(d,$,j);O[j]?(O[j].p(de,g),w(O[j],1)):(O[j]=$t(de),O[j].c(),w(O[j],1),O[j].m(t,r))}for(se(),j=$.length;j<O.length;j+=1)J(j);ie(),!$.length&&F?F.p(d,g):$.length?F&&(F.d(1),F=null):(F=ct(d),F.c(),F.m(t,r))}if(g[0]&21037568&&(o=!(d[9].trim()in d[22])&&d[9]&&d[16]&&((R=d[24])==null?void 0:R.role)==="admin"),o?A?(A.p(d,g),g[0]&21037568&&w(A,1)):(A=yt(d),A.c(),w(A,1),A.m(t,s)):A&&(se(),I(A,1,1,()=>{A=null}),ie()),g[0]&543162368){H=pe(Object.keys(d[22]));let j;for(j=0;j<H.length;j+=1){const de=et(d,H,j);k[j]?(k[j].p(de,g),w(k[j],1)):(k[j]=Dt(de),k[j].c(),w(k[j],1),k[j].m(t,null))}for(se(),j=H.length;j<k.length;j+=1)S(j);ie()}let B=m;m=Z(d),m===B?Y[m].p(d,g):(se(),I(Y[B],1,1,()=>{Y[B]=null}),ie(),c=Y[m],c?c.p(d,g):(c=Y[m]=L[m](d),c.c()),w(c,1),c.m(u.parentNode,u))},i(d){if(!V){w(v);for(let g=0;g<$.length;g+=1)w(O[g]);w(A);for(let g=0;g<H.length;g+=1)w(k[g]);w(c),V=!0}},o(d){I(v),O=O.filter(Boolean);for(let g=0;g<O.length;g+=1)I(O[g]);I(A),k=k.filter(Boolean);for(let g=0;g<k.length;g+=1)I(k[g]);I(c),V=!1},d(d){d&&(h(e),h(t),h(i),h(u),h(_),h(D),h(M)),v&&v.d(d),T&&T.d(),Me(O,d),F&&F.d(),A&&A.d(),Me(k,d),Y[m].d(d)}}}function Al(n){let e;const t=n[31].default,l=Ht(t,n,n[48],null),a=l||Sl(n);return{c(){a&&a.c()},l(r){a&&a.l(r)},m(r,o){a&&a.m(r,o),e=!0},p(r,o){l?l.p&&(!e||o[1]&131072)&&Ut(l,t,r,r[48],e?Ft(t,r[48],o,null):qt(r[48]),null):a&&a.p&&(!e||o[0]&65502841)&&a.p(r,e?o:[-1,-1,-1])},i(r){e||(w(a,r),e=!0)},o(r){I(a,r),e=!1},d(r){a&&a.d(r)}}}function jl(n){let e,t,l,a;return e=new Gt({props:{class:"relative w-full font-primary","aria-label":n[2],id:"model-selector-"+n[1]+"-button",$$slots:{default:[wl]},$$scope:{ctx:n}}}),l=new Yt({props:{class:" z-40 "+(n[23]?"w-full":`${n[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Kt,side:n[23]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[Al]},$$scope:{ctx:n}}}),{c(){x(e.$$.fragment),t=P(),x(l.$$.fragment)},l(r){ee(e.$$.fragment,r),t=W(r),ee(l.$$.fragment,r)},m(r,o){te(e,r,o),z(r,t,o),te(l,r,o),a=!0},p(r,o){const s={};o[0]&4&&(s["aria-label"]=r[2]),o[0]&2&&(s.id="model-selector-"+r[1]+"-button"),o[0]&1605892|o[1]&131072&&(s.$$scope={dirty:o,ctx:r}),e.$set(s);const i={};o[0]&8388736&&(i.class=" z-40 "+(r[23]?"w-full":`${r[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),o[0]&8388608&&(i.side=r[23]?"bottom":"bottom-start"),o[0]&65502841|o[1]&131072&&(i.$$scope={dirty:o,ctx:r}),l.$set(i)},i(r){a||(w(e.$$.fragment,r),w(l.$$.fragment,r),a=!0)},o(r){I(e.$$.fragment,r),I(l.$$.fragment,r),a=!1},d(r){r&&h(t),le(e,r),le(l,r)}}}function Ll(n){let e,t,l;function a(o){n[47](o)}let r={onOpenChange:n[46],closeFocus:!1,$$slots:{default:[jl]},$$scope:{ctx:n}};return n[13]!==void 0&&(r.open=n[13]),e=new Rt({props:r}),St.push(()=>Zt(e,"open",a)),{c(){x(e.$$.fragment)},l(o){ee(e.$$.fragment,o)},m(o,s){te(e,o,s),l=!0},p(o,s){const i={};s[0]&512&&(i.onOpenChange=o[46]),s[0]&67108863|s[1]&131072&&(i.$$scope={dirty:s,ctx:o}),!t&&s[0]&8192&&(t=!0,i.open=o[13],jt(()=>t=!1)),e.$set(i)},i(o){l||(w(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){le(e,o)}}}const Vt=n=>{var e,t,l;return!(((l=(t=(e=n.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},Mt=n=>{var e;return(e=n.model)==null?void 0:e.direct},Nt=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="local"},Tt=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="external"},Ct=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="local"},It=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="external"},zt=n=>{var e;return(e=n.model)==null?void 0:e.direct},Pl=n=>{n.deltaY!==0&&(n.preventDefault(),n.currentTarget.scrollLeft+=n.deltaY)},Ot=(n,e)=>n.name.localeCompare(e.name),Bt=(n,e)=>n.name.localeCompare(e.name);function Wl(n,e,t){let l,a,r,o,s,i,m,c;ke(n,al,f=>t(19,a=f)),ke(n,rl,f=>t(20,r=f)),ke(n,ye,f=>t(22,s=f)),ke(n,ol,f=>t(23,i=f)),ke(n,sl,f=>t(24,m=f)),ke(n,Xe,f=>t(25,c=f));let{$$slots:u={},$$scope:_}=e;qe.extend(cl);const D=Lt("i18n");ke(n,D,f=>t(21,o=f)),Pt();let{id:M=""}=e,{value:V=""}=e,{placeholder:v="Select a model"}=e,{searchEnabled:T=!0}=e,{searchPlaceholder:$=o.t("Search a model")}=e,{showTemporaryChatControl:O=!1}=e,{items:J=[]}=e,{className:F="w-[32rem]"}=e,{triggerClassName:A="text-lg"}=e,H,k=!1,S=[],L="",Y="",Z="",G="",d=null,g=0;const B=new Jt(J.map(f=>{var U,K,he,ce,we;return{...f,modelName:(U=f.model)==null?void 0:U.name,tags:(((K=f.model)==null?void 0:K.tags)??[]).map($e=>$e.name).join(" "),desc:(we=(ce=(he=f.model)==null?void 0:he.info)==null?void 0:ce.meta)==null?void 0:we.description}}),{keys:["value","tags","modelName"],threshold:.4}),R=async()=>{await Ge();const f=l.findIndex(U=>U.value===V);f>=0?t(17,g=f):t(17,g=0),await Ge();const C=document.querySelector('[data-arrow-selected="true"]');C==null||C.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},j=async()=>{var K;const f=Y.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(s),s[f]){_e.error(o.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:f}));return}if(Object.keys(s).length===3){_e.error(o.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[C,U]=await tl(localStorage.token,f,"0").catch(he=>(_e.error(`${he}`),null));if(C){const he=C.body.pipeThrough(new TextDecoderStream).pipeThrough(il(`
`)).getReader();for(ye.set({...s,[f]:{...s[f],abortController:U,reader:he,done:!1}});;)try{const{value:ce,done:we}=await he.read();if(we)break;let $e=ce.split(`
`);for(const Ve of $e)if(Ve!==""){let oe=JSON.parse(Ve);if(console.log(oe),oe.error)throw oe.error;if(oe.detail)throw oe.detail;if(oe.status)if(oe.digest){let We=0;oe.completed?We=Math.round(oe.completed/oe.total*1e3)/10:We=100,ye.set({...s,[f]:{...s[f],pullProgress:We,digest:oe.digest}})}else _e.success(oe.status),ye.set({...s,[f]:{...s[f],done:oe.status==="success"}})}}catch(ce){console.log(ce),typeof ce!="string"&&(ce=ce.message),_e.error(`${ce}`);break}s[f].done?(_e.success(o.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:f})),He.set(await Ue(localStorage.token,((K=r==null?void 0:r.features)==null?void 0:K.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))):_e.error(o.t("Download canceled")),delete s[f],ye.set({...s})}};Wt(async()=>{t(16,d=await el(localStorage.token).catch(f=>!1)),J&&(t(14,S=J.filter(f=>{var C,U,K;return!(((K=(U=(C=f.model)==null?void 0:C.info)==null?void 0:U.meta)==null?void 0:K.hidden)??!1)}).flatMap(f=>{var C;return((C=f.model)==null?void 0:C.tags)??[]}).map(f=>f.name)),t(14,S=Array.from(new Set(S)).sort((f,C)=>f.localeCompare(C))))});const de=async f=>{const{reader:C,abortController:U}=s[f];U&&U.abort(),C&&(await C.cancel(),delete s[f],ye.set({...s}),await ll(localStorage.token,f),_e.success(`${f} download has been canceled`))},De=async f=>{var U;await nl(localStorage.token,f).catch(K=>{_e.error(o.t("Error unloading model: {{error}}",{error:K}))})&&(_e.success(o.t("Model unloaded successfully")),He.set(await Ue(localStorage.token,((U=r==null?void 0:r.features)==null?void 0:U.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null))))},Ne=async()=>{var f;He.set(await Ue(localStorage.token,((f=r==null?void 0:r.features)==null?void 0:f.enable_direct_connections)&&((a==null?void 0:a.directConnections)??null)))};function Te(){Y=this.value,t(9,Y)}const Ce=f=>{if(f.code==="Enter"&&l.length>0){t(0,V=l[g].value),t(13,k=!1);return}else f.code==="ArrowDown"?t(17,g=Math.min(g+1,l.length-1)):f.code==="ArrowUp"?t(17,g=Math.max(g-1,0)):t(17,g=0);const C=document.querySelector('[data-arrow-selected="true"]');C==null||C.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},Ie=()=>{t(11,G=""),t(10,Z="")},ze=()=>{t(10,Z=""),t(11,G="local")},Oe=()=>{t(10,Z=""),t(11,G="external")},Be=()=>{t(10,Z=""),t(11,G="direct")},Se=f=>{t(11,G=""),t(10,Z=f)};function Ae(f){St[f?"unshift":"push"](()=>{H=f,t(12,H)})}const je=f=>{De(f.value)},ae=(f,C)=>{t(0,V=f.value),t(17,g=C),t(13,k=!1)},q=()=>{j()},ue=f=>{de(f)},re=async()=>{Xe.set(!c),await ul("/");const f=document.getElementById("new-chat-button");setTimeout(()=>{f==null||f.click()},0),c?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,k=!1)},ve=async()=>{t(9,Y=""),window.setTimeout(()=>{var f;return(f=document.getElementById("model-search-input"))==null?void 0:f.focus()},0),R()};function be(f){k=f,t(13,k)}return n.$$set=f=>{"id"in f&&t(1,M=f.id),"value"in f&&t(0,V=f.value),"placeholder"in f&&t(2,v=f.placeholder),"searchEnabled"in f&&t(3,T=f.searchEnabled),"searchPlaceholder"in f&&t(4,$=f.searchPlaceholder),"showTemporaryChatControl"in f&&t(5,O=f.showTemporaryChatControl),"items"in f&&t(6,J=f.items),"className"in f&&t(7,F=f.className),"triggerClassName"in f&&t(8,A=f.triggerClassName),"$$scope"in f&&t(48,_=f.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&65&&t(15,L=J.find(f=>f.value===V)??""),n.$$.dirty[0]&3648&&t(18,l=(Y?B.search(Y).map(f=>f.item).filter(f=>{var C;return Z===""?!0:(((C=f.model)==null?void 0:C.tags)??[]).map(U=>U.name).includes(Z)}).filter(f=>{var C,U,K;if(G==="")return!0;if(G==="local")return((C=f.model)==null?void 0:C.connection_type)==="local";if(G==="external")return((U=f.model)==null?void 0:U.connection_type)==="external";if(G==="direct")return(K=f.model)==null?void 0:K.direct}):J.filter(f=>{var C;return Z===""?!0:(((C=f.model)==null?void 0:C.tags)??[]).map(U=>U.name).includes(Z)}).filter(f=>{var C,U,K;if(G==="")return!0;if(G==="local")return((C=f.model)==null?void 0:C.connection_type)==="local";if(G==="external")return((U=f.model)==null?void 0:U.connection_type)==="external";if(G==="direct")return(K=f.model)==null?void 0:K.direct})).filter(f=>{var C,U,K;return!(((K=(U=(C=f.model)==null?void 0:C.info)==null?void 0:U.meta)==null?void 0:K.hidden)??!1)})),n.$$.dirty[0]&3072&&R()},[V,M,v,T,$,O,J,F,A,Y,Z,G,H,k,S,L,d,g,l,a,r,o,s,i,m,c,D,R,j,de,De,u,Ne,Te,Ce,Ie,ze,Oe,Be,Se,Ae,je,ae,q,ue,re,ve,be,_]}class fn extends Ze{constructor(e){super(),Re(this,e,Wl,Ll,Fe,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1,-1])}}export{fn as S};
//# sourceMappingURL=Jcw3Bqqh.js.map
