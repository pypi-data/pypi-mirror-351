(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6229)}])},1925:function(e,n,s){"use strict";s.d(n,{Z:function(){return r}});var t=s(5893);s(7294);var i=s(7317),l=s(4854),c=s(5567);function r(e){let{title:n="2) Select Your Input Data Type"}=e,s=(0,c.C)(e=>e.inferenceSettings.inputDataType),r=(0,c.T)();return(0,t.jsxs)(i.Z.Group,{controlId:"inputDataType",children:[(0,t.jsx)(i.Z.Label,{children:n}),(0,t.jsx)(i.Z.Control,{as:"select",value:s,onChange:e=>r((0,l.dK)(e.target.value)),children:l.cM.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})}},7947:function(e,n,s){"use strict";s.d(n,{d:function(){return r}});var t=s(5893),i=s(4854),l=s(1348),c=s(9473);function r(){let e=(0,c.I0)();return n=>{let s=[];n.forEach((e,n)=>{e.ood<0?(s.push({index:n,label:"",score:e.ood,type:"negative OOD"}),e.ood=0):e.ood>1&&(s.push({index:n,label:"",score:e.ood,type:"greater than 1 OOD"}),e.ood=1);let t=0;Object.entries(e.classProbabilities).map(i=>{let[l,c]=i;t+=c,c<0?(s.push({index:n,label:l,score:c,type:"negative class confidence"}),e.classProbabilities[l]=0):c>1&&(s.push({index:n,label:l,score:c,type:"greater than 1 class confidence"}),e.classProbabilities[l]=1)}),(t<.99||t>1.01)&&s.push({index:n,label:"",score:t,type:"non 1 class confidence sum"})}),s.length>0&&e((0,l.K4)({body:(0,t.jsxs)("div",{children:[(0,t.jsx)(o,{errorMessage:(0,t.jsxs)("p",{children:["We unexpectedly encountered negative OOD scores, which likely indicates a bug in EQUINE. The webapp is forcing these OOD scores to ",(0,t.jsx)("code",{children:"0"}),", but you should be careful with the results:"]}),invalidScores:s.filter(e=>"negative OOD"===e.type),newScore:(0,t.jsx)("code",{children:"0"}),showLabel:!1,valueColumnHeading:"Original OOD Score"}),(0,t.jsx)(o,{errorMessage:(0,t.jsxs)("p",{children:["We unexpectedly encountered OOD scores greater than ",(0,t.jsx)("code",{children:"1"}),", which likely indicates a bug in EQUINE. The webapp is forcing these class confidence scores to ",(0,t.jsx)("code",{children:"1"}),", but you should be careful with the results:"]}),invalidScores:s.filter(e=>"greater than 1 OOD"===e.type),newScore:(0,t.jsx)("code",{children:"1"}),showLabel:!0,valueColumnHeading:"Original OOD Score"}),(0,t.jsx)(o,{errorMessage:(0,t.jsxs)("p",{children:["We unexpectedly encountered negative class confidence scores, which likely indicates a bug in EQUINE. The webapp is forcing these class confidence scores to ",(0,t.jsx)("code",{children:"0"}),", but you should be careful with the results:"]}),invalidScores:s.filter(e=>"negative class confidence"===e.type),newScore:(0,t.jsx)("code",{children:"0"}),showLabel:!0,valueColumnHeading:"Original Class Confidence Score"}),(0,t.jsx)(o,{errorMessage:(0,t.jsxs)("p",{children:["We unexpectedly encountered class confidence scores greater than ",(0,t.jsx)("code",{children:"1"}),", which likely indicates a bug in EQUINE. The webapp is forcing these class confidence scores to ",(0,t.jsx)("code",{children:"1"}),", but you should be careful with the results:"]}),invalidScores:s.filter(e=>"greater than 1 class confidence"===e.type),newScore:(0,t.jsx)("code",{children:"1"}),showLabel:!1,valueColumnHeading:"Original Class Confidence Score"}),(0,t.jsx)(o,{errorMessage:(0,t.jsxs)("p",{children:["We unexpectedly encountered class confidence scores that do not sum to ",(0,t.jsx)("code",{children:"1"}),", which likely indicates a bug in EQUINE. You should be careful with the results:"]}),invalidScores:s.filter(e=>"non 1 class confidence sum"===e.type),showLabel:!1,valueColumnHeading:"Sum of Class Confidence Scores"})]}),canClose:!0,header:"Warning: Encountered Invalid Prediction Scores"})),e((0,i.oY)(n))}}function o(e){let{errorMessage:n,invalidScores:s,newScore:i,showLabel:l,valueColumnHeading:c}=e;return 0===s.length?null:(0,t.jsxs)(t.Fragment,{children:[n,(0,t.jsxs)("table",{style:{width:"100%"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Sample Index"}),l&&(0,t.jsx)("th",{children:"Label"}),(0,t.jsx)("th",{children:c}),i&&(0,t.jsx)("th",{children:"New Score"})]})}),(0,t.jsx)("tbody",{children:s.map((e,n)=>{let{index:s,label:c,score:r}=e;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:s}),l&&(0,t.jsx)("td",{children:c}),(0,t.jsx)("td",{children:(0,t.jsx)("code",{children:r})}),i&&(0,t.jsx)("td",{children:i})]},n)})})]}),(0,t.jsx)("hr",{})]})}},8070:function(e,n,s){"use strict";var t=s(4184),i=s.n(t),l=s(7294),c=s(7400),r=s(5893);let o=l.forwardRef((e,n)=>{let[{className:s,...t},{as:l="div",bsPrefix:o,spans:a}]=function(e){let{as:n,bsPrefix:s,className:t,...l}=e;s=(0,c.vE)(s,"col");let r=(0,c.pi)(),o=(0,c.zG)(),a=[],d=[];return r.forEach(e=>{let n,t,i;let c=l[e];delete l[e],"object"==typeof c&&null!=c?{span:n,offset:t,order:i}=c:n=c;let r=e!==o?"-".concat(e):"";n&&a.push(!0===n?"".concat(s).concat(r):"".concat(s).concat(r,"-").concat(n)),null!=i&&d.push("order".concat(r,"-").concat(i)),null!=t&&d.push("offset".concat(r,"-").concat(t))}),[{...l,className:i()(t,...a,...d)},{as:n,bsPrefix:s,spans:a}]}(e);return(0,r.jsx)(l,{...t,ref:n,className:i()(s,!a.length&&o)})});o.displayName="Col",n.Z=o},6229:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return N}});var t=s(5893),i=s(7294),l=s(1163),c=s(6720),r=s(9101),o=s(8070),a=s(8228),d=s(4854),u=s(1348),h=s(5567),x=s(7947),f=s(9693),p=s(7235),j=s(575),g=s(1749),b=s(1925),m=s(7407),y=s(1097),v=s(1354),w=s.n(v);function S(){let e=(0,l.useRouter)(),n=(0,h.T)(),s=(0,x.d)(),v=(0,h.C)(e=>e.inferenceSettings.modelName),[S,E]=(0,i.useState)(null),[O,C]=(0,i.useState)(v),[_,N]=(0,i.useState)([]),{mutate:D,isLoading:F}=(0,a.D)({mutationFn:async()=>{await (0,p.Z)(O===m.c?S:null,_);let t=null!==S&&O===m.c?S.name:O,i=await (0,g.ZP)(j.Zv,{modelName:t,sampleFilenames:_.map(e=>e.name)})();s(i.runInference.samples.map(e=>({classProbabilities:e.labels.reduce((e,n)=>(e[n.label]=n.confidence,e),{}),coordinates:e.coordinates,inputData:e.inputData,ood:e.ood}))),n((0,d.j$)(i.runInference.runId)),n((0,d.tD)(t)),e.push(f.Z.DASHBOARD)},onError:e=>{n((0,u.K4)({body:e.message,canClose:!0,header:"Error Running Pipeline"}))}}),{disabled:Z,text:I}=F?{disabled:!0,text:"Analyzing..."}:"custom"===O&&null===S?{disabled:!0,text:"To analyze files, upload your EQUI(NE)\xb2 model"}:0===_.length?{disabled:!0,text:"To analyze files, upload your input data file(s)"}:{disabled:!1,text:"4) Analyze Files"};return(0,t.jsxs)("div",{id:w().settingsForm,children:[(0,t.jsx)("h2",{children:"Analysis Settings"}),(0,t.jsx)("br",{}),(0,t.jsx)(r.Z,{children:(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(m.Z,{modelName:O,setModelName:C,setUploadModelFile:E,uploadModelFile:S,title:"1) Select a Model to Use for Analysis"}),(0,t.jsx)("hr",{}),(0,t.jsx)(b.Z,{}),(0,t.jsx)("hr",{}),(0,t.jsx)(y.Z,{sampleFiles:_,setSampleFiles:N,title:"3) Select Data File(s)"})]})}),(0,t.jsx)("hr",{}),(0,t.jsx)(c.Z,{variant:"primary",onClick:()=>!Z&&D(),disabled:Z,children:I}),(0,t.jsx)("br",{})]})}var E=s(7765),O=s(4556),C=s.n(O),_=()=>((0,i.useEffect)(()=>{(0,E.Z)("Home")},[]),(0,t.jsxs)("div",{id:C().landing,children:[(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("img",{src:"/_next/static/media/EQUI(NE)^2_Full_Logo.31ea5d30.svg",alt:"EQUINE"}),(0,t.jsx)("div",{id:C().landingSettingsFormContainer,children:(0,t.jsx)(S,{})})]}));function N(){return(0,t.jsx)(_,{})}},4556:function(e){e.exports={landing:"Landing_landing__Pwkt_",landingSettingsFormContainer:"Landing_landingSettingsFormContainer__NfCZz"}},1354:function(e){e.exports={settingsForm:"SettingsForm_settingsForm__XFjnM"}},2473:function(e){"use strict";e.exports=function(){}}},function(e){e.O(0,[192,743,402,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);