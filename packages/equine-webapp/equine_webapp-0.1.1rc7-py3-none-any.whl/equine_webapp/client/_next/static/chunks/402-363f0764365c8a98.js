(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[402],{7407:function(e,n,a){"use strict";a.d(n,{Z:function(){return $},c:function(){return g}});var t=a(5893),l=a(7294),o=a(1664),r=a.n(o),i=a(9603),d=a(9417),s=a(6720),u=a(7317),m=a(9693),c=a(575),p=a(1348),f=a(5567),h=a(9646),x=a.n(h),y=a(1163);let g="custom";function $(e){let{customUploadText:n="Upload My Own EQUI(NE)\xb2 Model",modelExtension:a,modelName:o,setModelName:h,setUploadModelFile:$,showTrainModelButton:N=!0,uploadModelFile:S,title:b}=e,F=(0,f.T)(),M=(0,y.useRouter)(),{data:j,error:v,isLoading:I}=(0,c.Y7)({extension:a||""},{staleTime:1/0});(0,l.useEffect)(()=>{"string"==typeof M.query.modelName?h(M.query.modelName):j&&j.models[0]?h(j.models[0].name):h(g)},[j,M.query.modelName,h]),(0,l.useEffect)(()=>{v?F((0,p.K4)({body:v.message,canClose:!0,header:"Error Requesting the available models"})):F((0,p.Mr)())},[F,v]);let _=async e=>{let n=e.target.files;n&&n[0]&&$(n[0]),e.target.value=""};return I?(0,t.jsx)("p",{style:{textAlign:"center"},children:"Loading Available Models..."}):(0,t.jsxs)("div",{className:x().selectOrUploadModel,children:[(0,t.jsxs)(u.Z.Group,{controlId:"model",children:[(0,t.jsx)(u.Z.Label,{children:b}),(0,t.jsxs)(u.Z.Control,{as:"select",value:o,onChange:e=>h(e.target.value),children:[null==j?void 0:j.models.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.name)),(0,t.jsx)("option",{value:g,children:n})]})]}),(()=>{if(o===g)return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{id:x().uploadModelContainer,children:[(0,t.jsxs)("span",{children:[(0,t.jsxs)("label",{htmlFor:x().loadEquineModelFile,className:"btn btn-primary",children:[n," ",(0,t.jsx)(i.G,{icon:d.cf$})]})," \xa0",(0,t.jsx)("input",{id:x().loadEquineModelFile,type:"file",accept:".eq",onChange:_})]}),S&&(0,t.jsx)("p",{children:S.name})]}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{children:N&&(0,t.jsx)(r(),{href:m.Z.TRAINING,children:(0,t.jsxs)(s.Z,{variant:"secondary",children:["Train a New Model ",(0,t.jsx)(i.G,{icon:d.Hw7})]})})})]})})()]})}},1097:function(e,n,a){"use strict";a.d(n,{Z:function(){return u}});var t=a(5893);a(7294);var l=a(9603),o=a(9417),r=a(1348),i=a(5567),d=a(32),s=a.n(d);function u(e){let{sampleFiles:n,setSampleFiles:a,title:d}=e,u=(0,i.T)(),m=async e=>{let l=e.target.files;if(l){let e=[],o=Array.from(l).filter(a=>void 0===n.find(e=>e.name===a.name)||(e.push(a.name),!1));a(n.concat(o)),e.length>0&&u((0,r.K4)({body:(0,t.jsx)("ul",{children:e.map((e,n)=>(0,t.jsx)("li",{children:e},n))}),canClose:!0,header:"You have already selected these files to be uploaded"}))}e.target.value=""},c=e=>{n[e]&&a(function(e,n){let a=e.slice();return a.splice(n,1),a}(n,e))};return(0,t.jsxs)("div",{className:s().uploadSampleFiles,children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:s().loadSampleFiles,className:"btn btn-primary",children:[d," ",(0,t.jsx)(l.G,{icon:o.cf$})]})," \xa0",(0,t.jsx)("input",{id:s().loadSampleFiles,type:"file",multiple:!0,onChange:m})]}),(0,t.jsx)("div",{children:n&&Array.from(n).map((e,n)=>(0,t.jsxs)("div",{children:[e.name,"\xa0",(0,t.jsx)("span",{className:"icon remove",onClick:e=>c(n),children:(0,t.jsx)(l.G,{icon:o.NBC})})]},n))})]})}},575:function(e,n,a){"use strict";a.d(n,{B4:function(){return r},DV:function(){return d},O8:function(){return f},RW:function(){return u},S4:function(){return p},Y7:function(){return c},Zv:function(){return o},_i:function(){return l},bx:function(){return i},pw:function(){return m},wp:function(){return s}});var t=a(7848);function l(e,n){return async()=>{let a=await fetch(localStorage.getItem("serverUrl")+"/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:n})}),t=await a.json();if(t.errors){let{message:e}=t.errors[0];throw Error(e)}return t.data}}let o="\n    mutation RunInference($modelName: String!, $sampleFilenames: [String]!) {\n  runInference(modelName: $modelName, sampleFilenames: $sampleFilenames) {\n    runId\n    samples {\n      coordinates\n      inputData {\n        file\n        dataIndex\n      }\n      labels {\n        label\n        confidence\n      }\n      ood\n    }\n    version\n  }\n}\n    ",r="\n    mutation StartTraining($embedModelName: String!, $episodes: Int!, $newModelName: String!, $sampleFilenames: [Upload!]!, $trainModelType: String!, $embOutDim: Int) {\n  startTraining(\n    embedModelName: $embedModelName\n    episodes: $episodes\n    newModelName: $newModelName\n    sampleFilenames: $sampleFilenames\n    trainModelType: $trainModelType\n    embOutDim: $embOutDim\n  ) {\n    success\n  }\n}\n    ",i="\n    mutation UploadModel($modelFile: Upload!) {\n  uploadModel(modelFile: $modelFile) {\n    success\n  }\n}\n    ",d="\n    mutation UploadSampleFile($file: Upload!) {\n  uploadFile(file: $file) {\n    success\n  }\n}\n    ",s=(e,n)=>(0,t.a)(["DimensionalityReduction",e],l("\n    query DimensionalityReduction($method: String!, $data: [[Float!]!]!, $nNeighbors: Int!) {\n  dimensionalityReduction(method: $method, data: $data, nNeighbors: $nNeighbors) {\n    continuity\n    embeddings\n    stress\n    scree\n    srho\n    trustworthiness\n  }\n}\n    ",e),n),u=(e,n)=>(0,t.a)(["GetPrototypeSupportEmbeddings",e],l("\n    query GetPrototypeSupportEmbeddings($modelName: String!) {\n  getPrototypeSupportEmbeddings(modelName: $modelName) {\n    label\n    prototype\n    trainingExamples {\n      coordinates\n      inputData {\n        file\n        dataIndex\n      }\n      labels {\n        label\n        confidence\n      }\n      ood\n    }\n  }\n}\n    ",e),n),m=(e,n)=>(0,t.a)(["ModelSummary",e],l("\n    query ModelSummary($modelName: String!) {\n  modelSummary(modelName: $modelName) {\n    dateTrained\n    lastModified\n    modelType\n    numTrainExamples {\n      label\n      numExamples\n    }\n  }\n}\n    ",e),n),c=(e,n)=>(0,t.a)(["Models",e],l("\n    query Models($extension: String!) {\n  models(extension: $extension) {\n    lastModified\n    name\n  }\n}\n    ",e),n),p="\n    query RenderInferenceFeatureData($runId: Int!, $modelName: String!, $dataIndex: Int!) {\n  renderInferenceFeatureData(\n    runId: $runId\n    modelName: $modelName\n    dataIndex: $dataIndex\n  ) {\n    featureData\n    columnHeaders\n  }\n}\n    ",f="\n    query RenderSupportFeatureData($modelName: String!, $dataIndex: Int!) {\n  renderSupportFeatureData(modelName: $modelName, dataIndex: $dataIndex) {\n    featureData\n    columnHeaders\n  }\n}\n    "},1749:function(e,n,a){"use strict";function t(e,n){return async()=>{let a=function(e,n){let a=new FormData,t={},o={};for(let e in n){let r=n[e];r instanceof File?(o[e]=null,l(a,t,r,e)):Array.isArray(r)&&r[0]instanceof File?o[e]=r.map((n,o)=>(l(a,t,n,e+"."+o.toString()),null)):o[e]=r}return a.append("map",JSON.stringify(t)),a.append("operations",JSON.stringify({query:e,variables:o})),a}(e,n),t=await fetch(localStorage.getItem("serverUrl")+"/graphql",{method:"POST",body:a}),o=await t.json();if(o.errors){let{message:e}=o.errors[0];throw Error(e)}return o.data}}function l(e,n,a,t){void 0===n[a.name]&&(n[a.name]=[]),n[a.name].push("variables."+t),e.append(a.name,a)}a.d(n,{ZP:function(){return t}})},7765:function(e,n,a){"use strict";function t(e){document.title="EQUI(NE)\xb2 - ".concat(e)}a.d(n,{Z:function(){return t}})},7235:function(e,n,a){"use strict";a.d(n,{Z:function(){return o}});var t=a(575),l=a(1749);async function o(e,n){let a=[];return null!==e&&a.push((0,l.ZP)(t.bx,{modelFile:e})()),n.forEach(e=>{a.push((0,l.ZP)(t.DV,{file:e})())}),await Promise.all(a)}},9646:function(e){e.exports={selectOrUploadModel:"SelectOrUploadModel_selectOrUploadModel___XYve",loadEquineModelFile:"SelectOrUploadModel_loadEquineModelFile__0ujmu",uploadModelContainer:"SelectOrUploadModel_uploadModelContainer__2GX4J"}},32:function(e){e.exports={uploadSampleFiles:"UploadSampleFiles_uploadSampleFiles__IgJM3",loadSampleFiles:"UploadSampleFiles_loadSampleFiles__HF_Vw",icon:"UploadSampleFiles_icon__xt42X"}}}]);