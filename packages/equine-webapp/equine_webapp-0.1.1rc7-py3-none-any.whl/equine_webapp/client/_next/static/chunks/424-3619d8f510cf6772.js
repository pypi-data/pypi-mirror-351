(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{2175:function(e,t,n){"use strict";var r=n(5893),s=n(7294),l=n(8659),o=n(6350),a=n(9603),i=n(9417),c=n(5567),d=n(6941),h=n(8468),u=n(6148),f=n.n(u);t.Z=e=>{let{changeClassConfidenceThreshold:t,changeInDistributionThreshold:n,classConfidenceThreshold:u,inDistributionThreshold:x}=e,p=(0,c.T)(),C=(0,c.C)(e=>e.uiSettings.oodColorMode),[b,j]=(0,s.useState)(u),[g,v]=(0,s.useState)(x);return m(()=>t(b),250,[b]),m(()=>n(g),250,[g]),(0,r.jsx)("div",{id:f().controlBar,children:(0,r.jsxs)("div",{id:f().confidenceThresholdsContainer,children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("b",{children:["Outlier Tolerance: \xa0",(0,r.jsx)(l.Z,{overlay:(0,r.jsxs)(o.Z,{id:"inDistributionThresholdTooltip",children:[(0,r.jsx)("p",{children:"Screen out predictions for data that the model may not have seen before."}),(0,r.jsxs)("p",{children:['Moves to "out of distribution" (OOD) those examples that are farther from the mean of the predicted class than ',Math.min(g,99),"% of the training data. A high tolerance lets the model make its best guess from its known classes; a low tolerance filters out more outliers to OOD."]})]}),placement:"bottom",children:(0,r.jsx)(a.G,{icon:i.Fuz})})]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("input",{"aria-label":"inDistributionThresholdInput",max:"100",min:h.nc,onChange:e=>v(parseInt(e.target.value)),step:1,type:"range",value:g}),"\xa0 ",g,"%"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"oodColorCheckbox",children:(0,r.jsx)("b",{children:"Enable Outlier Color Scale:"})}),"\xa0",(0,r.jsx)("input",{checked:C,id:"oodColorCheckbox",onChange:e=>p((0,d.et)()),type:"checkbox"})]})]}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("b",{children:["Class Confidence Threshold: \xa0",(0,r.jsx)(l.Z,{overlay:(0,r.jsxs)(o.Z,{id:"classConfidenceThresholdTooltip",children:['"I want the model to be at least ',b,'% confident that the label is correct."']}),placement:"bottom",children:(0,r.jsx)(a.G,{icon:i.Fuz})})]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("input",{"aria-label":"classConfidenceThresholdInput",max:"99",min:0,onChange:e=>j(parseInt(e.target.value)),step:1,type:"range",value:b}),"\xa0 ",b,"%"]})]})]})})};let m=(e,t,n)=>{let r=(0,s.useCallback)(e,n);(0,s.useEffect)(()=>{let e=setTimeout(r,t);return()=>clearTimeout(e)},[r,t])}},3308:function(e,t,n){"use strict";function r(e){let t={};e.forEach(e=>{for(let n in e)void 0===t[n]&&(t[n]=0),1===e[n]&&t[n]++});let n=Object.keys(t);return{classCounts:t,labels:n}}n.d(t,{Z:function(){return r}})},7513:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6682);function s(e,t,n){return e.map(e=>(function(e,t,n){let s=e.classProbabilities,l={},o=e.ood>=n/100&&n<100,a=!1;if(o)for(let e in s)l[e]=0;else{let e=0,n="";for(let t in s){l[t]=0;let r=s[t];r>e&&(e=r,n=t)}let r=e>=t/100&&t<100;r&&(l[n]=1),a=!r}return l[r.rP.CLASS_CONFUSION]=a?1:0,l[r.rP.OOD]=o?1:0,l})(e,t,n))}},240:function(e,t,n){"use strict";var r=n(5893);n(7294);var s=n(559),l=n.n(s),o=n(8070),a=n(9101),i=n(6682);t.Z=e=>{let{classCounts:t,filters:n,labels:s,setFilters:c,toggleFilter:d}=e,h=Math.ceil(s.length/4),u=[...s].sort((e,t)=>e===i.rP.CLASS_CONFUSION||e===i.rP.OOD?1:t===i.rP.CLASS_CONFUSION||t===i.rP.OOD?-1:e<t?-1:1),f=Array.from([,,,,].keys()).map((e,t)=>u.slice(t*h,(t+1)*h)),m=e=>{let s="label-"+e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{id:s,type:"checkbox",checked:n.includes(e),onChange:t=>d(e)})," ",(0,r.jsxs)("label",{htmlFor:s,children:[e," (",t[e],")"]})]},e)},x=(e,t)=>(0,r.jsx)(o.Z,{sm:12,md:6,children:e.map(m)},t);return(0,r.jsx)("div",{className:"box",children:(0,r.jsx)("div",{id:l().filters,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("b",{children:"Filter Labels"})}),(0,r.jsxs)("div",{className:l().selectDeselectContainer,children:[(0,r.jsx)("span",{className:l().selectDeselectOption,onClick:e=>c([...s]),children:"Select All"}),"\xa0 / \xa0 ",(0,r.jsx)("span",{className:l().selectDeselectOption,onClick:e=>c([]),children:"Deselect All"})]}),(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(o.Z,{xs:12,sm:6,children:(0,r.jsx)(a.Z,{children:f.slice(0,2).map(x)})}),(0,r.jsx)(o.Z,{xs:12,sm:6,children:(0,r.jsx)(a.Z,{children:f.slice(2,4).map(x)})})]})]})})})}},1398:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893);function s(){return(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsx)("b",{children:"There is no data to show"})})}n(7294)},6960:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5893),s=n(7294),l=n(727),o=n(5567),a=n(5316),i=n(8697),c=n(8468);let d=(0,i.P1)(e=>({oodColorIntervals:e.uiSettings.oodColorIntervals,oodColorMode:e.uiSettings.oodColorMode}),e=>{let{oodColorIntervals:t,oodColorMode:n}=e;return n?c.Zj:[0]});var h=n(6299),u=(e,t,n)=>{if(0===e.length&&n.length>0)throw Error("OodThresholds must have some elements if there are samples");if(t.length!==n.length)throw Error("The lengths of processedClassesProbabilities (".concat(t.length,") and samples (").concat(n.length,") should match."));let r=e.map((t,n)=>{let r=e[n+1]||1,s="These samples are within ".concat(f(t)," - ").concat(f(r),"% of the bounds of the training data");return 0===n?s="These samples are similar to up to ".concat(f(r),"% of the training data"):n===e.length-1&&(s="These samples are more extreme than ".concat(f(t),"% of the training data")),{name:s,data:{}}});return n.forEach((n,s)=>{let l=e.findIndex(e=>e>n.ood);l=-1===l?e.length-1:l-1,Object.entries(t[s]).forEach(e=>{let[t,n]=e;void 0===r[l].data[t]&&(r[l].data[t]=0),r[l].data[t]+=n})}),r.map(e=>({name:e.name,data:Object.entries(e.data)}))};function f(e){return Math.round(100*e)}var m=n(1281),x=n.n(m),p=e=>{let{labels:t,processedClassesProbabilities:n,samples:i}=e,c=(0,o.C)(e=>e.uiSettings.darkMode),f=(0,h.Z)(),m=(0,o.C)(d),p=(0,s.useMemo)(()=>t.map(e=>f(e)),[t,f]),C=(0,s.useMemo)(()=>u(m,n,i),[m,n,i]);return(0,r.jsxs)("div",{className:x().samplesBarChartContainer,children:[(0,r.jsx)("div",{className:x().legend,children:t.map(e=>{let t=f(e);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("span",{className:x().labelColorBox,style:{backgroundColor:t}})," ",(0,r.jsx)("span",{children:e})]},e)})}),(0,r.jsx)(l.CX,{data:C,dataset:{backgroundColor:e=>f(t[e.dataIndex],m[e.datasetIndex]),borderColor:p},legend:!1,library:{...c?a.y:{}},stacked:!0,xtitle:"Labels",ytitle:"# of Samples"})]})}},226:function(e,t,n){"use strict";n.d(t,{Y:function(){return l},Z:function(){return s}});var r=n(7294);function s(e){let[t,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{n([...e])},[e]),{filters:t,setFilters:n,toggleFilter:e=>{if(e){let r=new Set(t);r.has(e)?r.delete(e):r.add(e),n(Array.from(r))}}}}let l=(e,t)=>{for(let n of e)if(1===t[n])return!0;return!1}},6908:function(e,t,n){"use strict";function r(e,t){return t?t.getPrototypeSupportEmbeddings.map(e=>e).sort((t,n)=>e.classProbabilities[n.label]-e.classProbabilities[t.label]):[]}n.d(t,{Z:function(){return r}})},6148:function(e){e.exports={controlBar:"ControlBar_controlBar__3bTG_",confidenceThresholdsContainer:"ControlBar_confidenceThresholdsContainer__pExtV"}},559:function(e){e.exports={filters:"Filters_filters__ndzMp",selectDeselectContainer:"Filters_selectDeselectContainer__VEiZK",selectDeselectOption:"Filters_selectDeselectOption__vcQUE"}},1281:function(e){e.exports={samplesBarChartContainer:"SamplesBarChart_samplesBarChartContainer__HLURF",legend:"SamplesBarChart_legend__FYtRg",labelColorBox:"SamplesBarChart_labelColorBox__O1E22"}}}]);